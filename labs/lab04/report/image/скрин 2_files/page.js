(()=>{"use strict";var __webpack_modules__={58819:(e,o,t)=>{t.d(o,{default:()=>a});const a=(0,t(63192).makeIcon)("Icon28ServicesOutline","services_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="services_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9.116 15c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 22.739 3 22.18 3 21.116v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm12 0c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419h-2.232c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26-.311-.582-.419-1.14-.419-2.205v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm-12 2H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183Zm12 0h-2.232c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183ZM20.89 2.413c.631.19 1.102.51 1.856 1.263l1.577 1.577c.754.754 1.072 1.225 1.263 1.856a3.044 3.044 0 0 1 0 1.782c-.19.631-.51 1.102-1.263 1.856l-1.577 1.577c-.754.754-1.225 1.072-1.856 1.263a3.044 3.044 0 0 1-1.782 0c-.631-.19-1.102-.51-1.856-1.263l-1.577-1.577c-.754-.754-1.072-1.225-1.263-1.856a3.044 3.044 0 0 1 0-1.782c.19-.631.51-1.102 1.263-1.856l1.577-1.577c.754-.754 1.225-1.072 1.856-1.263a3.044 3.044 0 0 1 1.782 0ZM9.116 3c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 10.739 3 10.18 3 9.116V6.884c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26C5.261 3.108 5.82 3 6.884 3h2.232Zm10.573 1.327c-.274.082-.482.223-1.021.763L17.09 6.668c-.54.54-.68.747-.763 1.02a1.045 1.045 0 0 0 0 .623c.082.274.223.482.763 1.021l1.578 1.578c.54.54.747.68 1.02.763.21.064.415.064.623 0 .274-.082.482-.223 1.021-.763l1.578-1.578c.54-.54.68-.747.763-1.02a1.045 1.045 0 0 0 0-.623c-.082-.274-.223-.482-.763-1.021L21.332 5.09c-.54-.54-.747-.68-1.02-.763a1.045 1.045 0 0 0-.623 0ZM9.116 5H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44C5.047 5.876 5 6.122 5 6.885v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262V6.884c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44C10.124 5.047 9.878 5 9.115 5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},29449:(e,o,t)=>{function a(){return{icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g id="user_outline_20__Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="user_outline_20__Icons-20/user_outline_20"><g id="user_outline_20__user_outline_20"><path opacity=".1" d="M0 0h20v20H0z"/><path d="M12.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0ZM14 5a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM4 15.5c0 .72.36 1 1 1h10c.64 0 1-.28 1-1 0-2.33-2.57-3.5-6-3.5s-6 1.17-6 3.5Zm-1.5 0c0-3.48 3.33-5 7.5-5s7.5 1.52 7.5 5c0 1.63-1.1 2.5-2.5 2.5H5c-1.4 0-2.5-.87-2.5-2.5Z" id="user_outline_20__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></g></svg>',name:"user_outline_20"}}t.d(o,{getIcon20UserOutline:()=>a})},80842:(e,o,t)=>{t.d(o,{GROUPS_ADMIN_LEVEL_USER:()=>a,GROUPS_ADMIN_LEVEL_ADMINISTRATOR:()=>_,USER_META_FIELD_IS_DONUT_PAID_MEMBER:()=>r,GROUPS_CLASS_EVENT:()=>i});var a=0,_=3,r="is_donut_paid_member",i=2},21126:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59357),_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15544),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26271),_web_lib_lang__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86067),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(49535),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54612),_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86409),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59121),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(95724),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(68040),WallUpload={_videoUploadIndex:null,photoUploaded:function(e,o){var t=void 0!==e.ind?e.ind:e,a=(e.fileName?e.fileName:e).replace(/[&<>"']/g,""),_=e.fileName?t+"_"+e.fileName:e,r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("upload"+_+"_progress_wrap");r&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.hide)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.geByClass1)("progress_x",r)),ajax.post("al_photos.php",(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_8__.extend)({act:"choose_uploaded"},o),{onDone:function(e,o){WallUpload.addMedia().chooseMedia("photo",e,(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_8__.extend)(o,{upload_ind:t+"_"+a}))},onFail:WallUpload.uploadFailed.pbind(e)})},uploadFailed:function(e,o){var t=void 0!==e.ind?e.ind:e,a=Upload.options[t],_=(e.fileName?e.fileName:e).replace(/[&<>"']/g,"");if("fileApi"==Upload.types[t]&&!a.wiki_editor){var r,i=e.fileName?t+"_"+e.fileName:e;cur.imMedia?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.re)("upload"+i+"_progress_wrap"),r=cur.imMedia.lnkId,cur.addMedia[r].unchooseMedia()):cur.addMedia&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.re)("upload"+i+"_progress_wrap"),(r=(cur.attachMediaIndexes||{})[_])&&cur.addMedia[r].unchooseMedia()),1==a.filesTotalCount&&setTimeout((0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.showFastBox)({title:(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_error")},(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_3__.getLang)("wall_add_photo_error")).hide,2e3)}(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__.topError)("Upload failed",{dt:-1,type:102,url:((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("file_uploader_form"+t)||{}).action}),Upload.embed(t)},show:function(){cur.uploadInited&&("feed"==cur.wallType?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.removeClass)(cur.uploadWrap,"post_upload_min_wrap"):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.show)(cur.uploadWrap))},hide:function(){cur.uploadInited&&("feed"==cur.wallType?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.addClass)(cur.uploadWrap,"post_upload_min_wrap"):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.hide)(cur.uploadWrap),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.hide)("post_upload_dropbox"))},addMedia:function(){return cur.dropboxAddMedia||cur.wallAddMedia},attachEl:function(){return WallUpload.dropboxAttachEl||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("submit_post_box")},attachToEl:function(e){e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)(e);var o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("post_upload_dropbox");if(WallUpload.dropboxAttachEl=e,!e||!o)return!1;e.insertBefore(o,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.domFC)(e))},checkDragDrop:function(){var e=_shared_lib_browser__WEBPACK_IMPORTED_MODULE_2__.browser,o=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_8__.floatval)(_shared_lib_browser__WEBPACK_IMPORTED_MODULE_2__.browser.version);return!!(e.msie&&o>=9||e.mozilla&&o>=3.5||e.chrome||e.safari)&&((window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder))))},initCallback:function(){cur.editingPost?WallUpload.init():Wall.showEditPost()},init:function(){cur.withUpload&&(cur.uploadAdded?WallUpload.show():(cur.uploadAdded=!0,window.Upload&&window.VideoInlineUpload?(WallUpload.initLoader(),Wall._videoUploadIndex=WallUpload.initVideoUploader()):window.stManager.add([window.jsc("web/upload.js"),"video_upload.js"],(function(){WallUpload.initLoader(),Wall._videoUploadIndex=WallUpload.initVideoUploader()}))))},initVideoUploader:function(){var e=cur.wallUploadVideoOpts;if(e){var o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("post_field_upload_video"),t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("post_upload_video_dropbox");e.options.from="post";var a=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("send_post"),_={onUploadAllCompleteDone:function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.disableButton)(a,!1)},onUploadStartDone:function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.disableButton)(a,!0)}};return window.VideoInlineUpload.getUploadModule(o,t,e,WallUpload.addMedia(),_)}},initLoader:function initLoader(){(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__.removeEvent)(bodyNode,"dragover dragenter");var data=cur.wallUploadOpts,field=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("post_field");if(WallUpload.checkDragDrop()){cur.uploadWrap=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ce)("div",{className:"post_upload_wrap fl_r",innerHTML:'<div id="post_field_upload" class="post_upload"></div>'}),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.domInsertBefore)(cur.uploadWrap,field),cur.uploadVideoWrap=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ce)("div",{className:"post_upload_video_wrap fl_r",innerHTML:'<div id="post_field_upload_video" class="post_upload_video"></div>'}),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.domInsertBefore)(cur.uploadVideoWrap,field);var submitBox=WallUpload.attachEl();submitBox.insertBefore((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ce)("div",{id:"post_upload_dropbox",className:"post_upload_dropbox",innerHTML:'<div class="post_upload_dropbox_inner"><div class="post_upload_label drop_label">'+(data.opts.lang.wall_drop_media_here||"Drop files here")+'</div><div class="post_upload_label release_label">'+(data.opts.lang.wall_release_media_here||"Release button to attach files")+"</div></div>"}),submitBox.firstChild),cur.wallUploadInd=Upload.init("post_field_upload",data.url,data.params,{accept:"image/jpeg,image/png,image/gif",dragEl:bodyNode,dropbox:"post_upload_dropbox",file_input:null,file_name:"photo",file_size_limit:26214400,file_types_description:"Image files (*.jpg, *.jpeg, *.png, *.gif)",file_types:"*.jpg;*.JPG;*.jpeg;*.JPEG;*.png;*.PNG;*.gif;*.GIF",file_match:data.opts.ext_re,lang:data.opts.lang,multiple:1,multi_progress:1,max_files:10,chooseBox:1,clear:1,type:"photo",max_attempts:3,server:data.opts.server,error:data.opts.default_error,error_hash:data.opts.error_hash,label:data.opts.label,wiki_editor:0,onUploadStart:function(e,o){var t=void 0!==e.ind?e.ind:e,a=Upload.options[t];"form"==Upload.types[t]&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.geByClass1)("file",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.ge)("choose_photo_upload")).disabled=!0),"fileApi"==Upload.types[t]&&(cur.notStarted&&(cur.preventBoxHide||boxQueue.hideLast(),delete cur.notStarted),a.multi_progress&&this.onUploadProgress(e,0,0))},onUploadComplete:function onUploadComplete(info,res){var params;try{params=eval("("+res+")")}catch(e){params=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_9__.fromQueryString)(res)}params.photos?WallUpload.photoUploaded(info,params):Upload.onUploadError(info)},onUploadProgress:function(e,o,t){var a=void 0!==e.ind?e.ind:e;if("fileApi"==Upload.types[a]){var _=(cur.attachMediaIndexes||{})[a];if(void 0===_||_&&cur.addMedia[_].chosenMedia||cur.imMedia){var r={loaded:o,total:t};e.fileName&&(r.fileName=e.fileName.replace(/[&<>"']/g,"")),WallUpload.addMedia().showMediaProgress("photo",a,r)}}},onUploadError:WallUpload.uploadFailed,onCheckServerFailed:function(){delete cur.uploadInited,WallUpload.hide()},onUploadCompleteAll:function(e){"form"==Upload.types[e]&&Upload.embed(e)},onDragEnter:function(){cur.editingPost?(Wall.hidePosterFeatureTooltip(),WallUpload.init()):Wall.showEditPost()},onNoFilteredCallback:function(e){Wall._videoUploadIndex&&Upload.onFileApiSend(Wall._videoUploadIndex,e)}}),cur.uploadInited=!0,WallUpload.show(),cur.wallUploadFromDrag&&(1==cur.wallUploadFromDrag&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_1__.show)("post_upload_dropbox"),delete cur.wallUploadFromDrag)}}};const __WEBPACK_DEFAULT_EXPORT__=WallUpload},87503:(e,o,t)=>{t.d(o,{GroupAdminLevel:()=>a});var a={USER:0,MODERATOR:1,EDITOR:2,ADMINISTRATOR:3,HOST:4,EVENT_CREATOR:5,CREATOR:6,PSEUDO_LEVEL_ADVERTISER:100}},69417:(e,o,t)=>{var a=t(82804),_=t(86067),r=t(54612),i=t(86665),n=t(75617),l=t(21126),d=(t(51876),t(83946),t(59357),t(21466),t(15544)),s=t(26271),p=t(40906),u=t(95724),c=t(49535),w=t(50167),m=t(50588),b=t(35676),f=t(3834),h=t(6593),g={init:function(e,o){if(!(e=(0,d.ge)(e)))return null;var t=(0,d.data)(e,"composer");if(t)return t;t={input:e,inited:!1,options:o},(0,d.data)(e,"composer",t),t.wddWrap=(0,d.ce)("div",{className:"composer_wdd clear_fix "+(o.wddClass||""),id:e.id+"_composer_wdd",innerHTML:'<input type="hidden" id="'+e.id+'_composer_wdd_term"/>'},{width:o.width||(0,d.getSize)(e)[0]}),o.appendTo&&(0,u.isFunction)(o.appendTo)?o.appendTo(t.wddWrap):(0,d.domInsertBefore)(t.wddWrap,e.nextSibling),t.wddInput=t.wddWrap.firstChild,t.wdd=WideDropdown.initSelect(t.wddWrap,(0,u.extend)({text:t.wddInput,input:e,noResult:o.lang.noResult||"",introText:o.lang.introText||"",toup:o.toup,wddOpts:o.wddOpts,searchKeys:o.searchKeys,width:"auto",onItemSelect:g.onItemSelect.bind(g).pbind(t),renderLimit:50},o.wddOpts||{url:"hints.php",params:{act:"a_json_friends",from:"composer"}})),e.dd=t.wddWrap.id,g.initEvents(t),o.media&&(t.addMedia=new window.MediaSelector(o.media.lnk,o.media.preview,o.media.types,o.media.options,o.media.gearEl,o.media.actionsEl)),(0,d.setStyle)(t.wddWrap,"width",""),t.inited=!0,g.updateAutoComplete(t),t.edit=o.edit,t.isReply=o.isReply,g.updateArticleConvertSuggest(t);var a=cur.onMediaChanged;return cur.onMediaChanged=function(){g.updateArticleConvertSuggest(t),a&&a()},t},initEvents:function(e){(0,c.addEvent)(e.input,"keyup keydown keypress",g.onKeyEvent.pbind(e)),(0,c.addEvent)(e.input,"click mousedown mouseup focus blur paste",g.onMouseEvent.pbind(e))},destroy:function(e){WideDropdown.deinit(e.wddWrap),(0,d.cleanElems)(e.input,e.wddWrap),(0,d.re)(e.wddWrap),e.inited=!1,e.addMedia&&e.addMedia.destroy(),(0,d.data)(e.input,"composer",null),(0,d.re)(e.articleConvertEl),e.articleConvertEl=!1},onKeyEvent:function(e,o){var t=!o.shiftKey&&(0,u.inArray)(o.keyCode,[c.KEY.UP,c.KEY.DOWN,c.KEY.RETURN]),a=e.wdd&&t;if("keypress"==o.type||"keydown"==o.type){if(o.keyCode==c.KEY.RETURN||10==o.keyCode){if(e.select&&e.select.isVisible())return(0,c.triggerEvent)(document,o.type,o),(0,c.cancelEvent)(o);if(o.ctrlKey&&(0,u.isFunction)(e.options.onSubmit))return!0}if(o.keyCode==c.KEY.TAB){var _=e.input,r=window.Emoji?Emoji.editableVal(_):"",i=g.getCursorPosition(_),n=(r.substr(0,i)+String.fromCodePoint(1)+r.substr(i)).match(/^[\s\S]*(@|\*)[\S]+\s*\([\s\S]*?\001[\s\S]*?\)\s*/);if(n){var l=n[0].length-1;return(0,d.elfocus)(e.input,l,l),(0,c.cancelEvent)(o)}}var p=0;for(var w in e.wdd.shown)p+=1;if(a&&(0,d.isVisible)(e.wdd.listWrap)&&p)return o.type==(s.browser.opera&&!s.browser.chrome?"keypress":"keydown")&&WideDropdown._textEvent(o),(0,c.cancelEvent)(o)}if("keyup"==o.type&&!a){if(65==o.keyCode&&o.ctrlKey)return;e.wdd&&(0,u.inArray)(o.keyCode,[c.KEY.SPACE,c.KEY.HOME,190,191,78,55,49])&&g.hideSelectList(e)}"keyup"!=o.type||a&&o.keyCode!=c.KEY.RETURN||g.updateAutoComplete(e,o),g.updateArticleConvertSuggest(e)},isArticleConvertSuggestAvailable:function(e){if(e.edit||e.isReply)return!1;var o=!!cur.wallAddMedia&&cur.wallAddMedia.types,t=!1;if(o)for(var a=0;a<o.length;a++)if("article"==o[a][0]){t=!0;break}if(!t||!(0,m.isArticleEditorAvailable)())return!1;var _=!0;return(0,u.each)(cur.wallAddMedia.getMedias()||[],(function(e,o){if(!(0,u.inArray)(o[0],["photo","video","postpone","mark_as_ads"]))return _=!1,!1})),!!_&&!!(cur.options.articleConvertThreshold>0&&e.curValue.length>=cur.options.articleConvertThreshold)},updateArticleConvertSuggest:function(e){if(g.isArticleConvertSuggestAvailable(e)){if(!e.articleConvertEl){var o=(0,d.gpeByClass)("post_field_wrap",e.input),t=(0,d.geByClass1)("post_actions_btns",o);e.articleConvertEl=h.FlatButton.render({children:(0,_.getLang)("profile_convert_to_article_short"),appearance:h.FlatButtonAppearance.ACCENT_OUTLINE,size:h.FlatButtonSize.M,round:!0,className:"article_post_convert"}),t?o.insertBefore(e.articleConvertEl,t):o.appendChild(e.articleConvertEl),(0,c.removeEvent)(e.articleConvertEl),(0,c.addEvent)(e.articleConvertEl,"click",(function(){cur.postComposer=e;var o=[];(0,u.each)(cur.wallAddMedia.getMedias()||[],(function(e,t){(0,u.inArray)(t[0],["photo","video"])&&o.push(t[0]+"_"+t[1])})),(0,w.openArticleEditor)(cur.oid,0,{text:e.curValue,medias:o})}))}(0,d.show)(e.articleConvertEl)}else(0,d.re)(e.articleConvertEl),delete e.articleConvertEl},onMouseEvent:function(e,o){"blur"!=o.type?("focus"!=o.type&&"click"!=o.type||g.updateAutoComplete(e,o),"paste"==o.type&&setTimeout(g.updateAutoComplete.pbind(e,o),0)):g.hideSelectList(e)},updateAutoComplete:function(e,o){var t=e.input,a=(e.options&&e.options.getValue||window.Emoji&&Emoji.editableVal||d.val)(t),_=Math.max(a.lastIndexOf("@"),a.lastIndexOf("*")),r=!1;if(_>-1){var i=g.getCursorPosition(t),n=a.substr(0,i),l=n.match(/(^|[\s.,:\'\"«»;>\)\(]|\#[\w_\.\u0400-\u04FF]+)[@\*]([^,@\*\(\)\?\!\s\n\r \u00A0]*)$/);_=Math.max(n.lastIndexOf("@"),n.lastIndexOf("*")),l&&"."!==l[2].substr(-1)&&(r=l[2])}!1===r&&delete e.ignoredTerm,void 0!==e.ignoredTerm&&r==e.ignoredTerm&&(r=!1),e.curValue=a,e.curTerm=r,e.curPos=_,(0,d.val)(e.wddInput,r),g.toggleSelectList(e),!o||"keyup"!=o.type&&"paste"!=o.type||(e.options.onValueChange&&e.options.onValueChange(a,"keyup"!=o.type),e.addMedia&&e.addMedia.checkMessageURLs(a,"keyup"!=o.type),e.options.checkLen&&e.options.checkLen(a))},toggleSelectList:function(e){var o=e.curTerm;!1===o?g.hideSelectList(e):g.showSelectList(e,o)},hideSelectList:function(e){e.wddInput.focused=!1,WideDropdown._hideList(e.wdd);var o=e.options||{};o.onHide&&o.onHide()},showSelectList:function(e,o){function t(t){e.wddInput.focused=!0,WideDropdown.items(e.wdd.id,t||[]),WideDropdown._updateList(e.wdd,!1,o);var a=e.options||{};a.onShow&&a.onShow()}"function"==typeof cur.wallMentions&&(cur.wallMentions=cur.wallMentions()),cur.wallMentions&&"function"==typeof cur.wallMentions.then?cur.wallMentions.then((function(e){t(e)})):t(cur.wallMentions)},onItemSelect:function(e,o){if(!o)return!1;var t=o[2].replace("@",""),a=o[8]||o[1],_=e.curValue.substr(0,e.curPos),r=e.curValue.substr(e.curPos),i=!!_.match(/\#[\w_\.\u0400-\u04FF]+$/i);document.activeElement.classList.contains("_im_text")&&(/^(?:id|club)\d{1,}$/.test(t)||(i=!0));var n=e.options.poster,l=window.Emoji&&void 0!==e.input.emojiId||n;l||n?r=(0,u.clean)(r):a=(0,u.replaceEntities)(a),cur.selNum=(cur.selNum||0)+1;var s=new RegExp("^(@|\\*)"+(0,u.escapeRE)(e.curTerm)+"(?:\\s+\\((?:(.*?)\\))?\\s*)?","");return r=r.replace(s,(function(e,o,_){var r=o+t+" ";return i?r+=l||n?'<span id="tmp_sel_'+cur.selNum+'"></span>':"":(r+=(l||n?'<span id="tmp_sel_'+cur.selNum+'">':"")+"(",r+=a.replace(/[\(\)\]\[]/g,""),r+=")"+(l||n?"</span>":"")+" "),r})),i||!_||_.match(/[\.\(\)\?\!\s\n\r\'\"«» \u00A0]$/)||(r=" "+r),g.hideSelectList(e),l||n?(Emoji.val(e.input,(0,u.clean)(_)+r),Emoji.focus(e.input),Emoji.editableFocus(e.input,(0,d.ge)("tmp_sel_"+cur.selNum),!0),n&&n.checkText()):((0,d.val)(e.input,_+r),(0,d.elfocus)(e.input)),(0,u.isFunction)(e.options.onItemSelect)&&e.options.onItemSelect(o),!1},getCursorPosition:function(e){if(void 0!==e.selectionStart)return e.selectionStart;if(void 0!==window.getSelection){var o=window.getSelection();if(!o||!o.rangeCount)return 0;var t=o.getRangeAt(0),a=t.cloneRange(),_=(0,d.ce)("div");return a.selectNodeContents(e),a.setEnd(t.startContainer,t.startOffset),_.appendChild(a.cloneContents()),(window.Emoji?Emoji.editableVal:d.val)(_).replace(/\n$/,"").length}return 0},getSendParams:function(e,o,t){var a=e.addMedia||{},r=a.chosenMedia||{},i=a&&a.getMedias?a.getMedias():[],n=a.shareData||{},l=e&&e.options.media&&e.options.media.options.limit||0,s=e.input,c=cur.posterWpe&&cur.posterWpeSendParams?cur.posterWpeSendParams.text:(0,u.trim)(window.Emoji?Emoji.editableVal(s):(0,d.val)(s)),w={message:c},m=0,h=(0,d.hasClass)((0,d.gpeByClass)("post",s),"suggest");(0,p.isArray)(r)&&r.length&&i.push((0,u.clone)(r)),(0,d.setStyle)(bodyNode,{cursor:"default"});var g=(0,d.ge)("wpe_cont"),E=(0,d.geByClass1)("wpe_error",g);function v(e){E||(E=(0,d.se)('<div class="wpe_error error"><div>'),g.insertBefore(E,(0,d.domFC)(g))),E.innerHTML=e.length>60?'<div class="msg_text">'+e+"</div>":e,(0,d.isVisible)(E)||((0,b.slideDown)(E,100),(0,f.scrollToY)((0,d.getXY)(E)[1]-15),(0,b.animate)((0,d.ge)("box_layer_wrap"),{scrollTop:0}))}if(E&&(0,d.hide)(E),i.length&&(0,u.each)(i,(function(e,r){var s;if((0,p.isArray)(r)&&r.length){var b=this[0],f=this[1];if(m>=l&&"postpone"!=b)return!1;switch(b){case"poll":var g=a.pollData(t);if(!g)return w.delayed=!0,!1;(0,u.intval)(f)&&(w.poll_id=(0,u.intval)(f)),f=g.question,delete g.question,w=(0,u.extend)(w,g);break;case"copyright":var E=a.copyrightData();if(E)return void(w=(0,u.extend)(w,E));break;case"share":if(n.failed||!n.title&&(!n.images||!n.images.length)&&!n.photo_url&&!n.video)return cur.shareLastParseSubmitted&&Date.now()-cur.shareLastParseSubmitted<2e3?(w.delayed=!0,!1):void 0;if((cur.options.share||{}).button_exclusive&&n.button_text&&n.button_action){var M;i.length>1&&(M=(0,_.getLang)("global_share_too_many_attachments")),w.message.split("\n").length-1>(cur.options.share||{}).button_exclusive_max_message_newlines&&(M=(0,_.getLang)("global_share_too_many_newlines")),w.message.length>(cur.options.share||{}).button_exclusive_max_message_len&&(M=(0,_.getLang)("global_share_too_long_message"));var P=(0,u.extractUrls)(" "+w.message+" "),y=(0,u.extractUrls)(" "+n.url+" ")[0];if(y&&P.length){"/"===y.query&&(y.query=""),"www."===y.domain.substr(0,4)&&(y.domain=y.domain.substr(4));for(var C=0;C<P.length;++C){var O=P[C];if("/"===O.query&&(O.query=""),"www."===O.domain.substr(0,4)&&(O.domain=O.domain.substr(4)),y.domain!=O.domain||y.query!=O.query){M=(0,_.getLang)("global_share_too_many_links");break}}}if(M)return v(M),w.delayed=!0,!1}if(!n.title)return v((0,_.getLang)("global_share_title_required")),w.delayed=!0,!1;if(!n.url)return v((0,_.getLang)("global_share_url_required")),w.delayed=!0,!1;if(n.url=new URL(n.url).href,n.video?(f=n.video_owner_id+"_"+n.video_id,w.snippet_video=1):f=n.prometheus?n.media:n.user_id&&n.photo_id&&!n.noPhoto?n.user_id+"_"+n.photo_id:"",n.share_upload_failed&&!f)return n.share_upload_failed=0,w.delayed=!0,!1;if(n.images&&n.images.length&&!(0,p.isArray)(n.images[cur.shareShowImg])&&!t&&!f&&!n.noPhoto&&!n.video)return a.uploadShare(o),w.delayed=!0,!1;if((cur.options.share||{}).require_image&&!f)return v((0,_.getLang)("global_share_image_required")),w.delayed=!0,!1;n.initialPattern&&(0,u.trim)(c)==n.initialPattern&&(w.message=""),n.is_vk_mini_app&&(w.is_vk_mini_app=!0,w.is_photo_edit=n.isPhotoEdit,w.image_offset=cur.shareShowImg),(0,u.extend)(w,{url:n.url,module:cur.module,mode:n.mode,title:(0,u.replaceEntities)(n.title),description:(0,u.replaceEntities)(n.description),button_text:(0,u.replaceEntities)(n.button_text),button_action:n.button_action,extra:n.extra,extra_data:n.extraData,photo_url:n.video?"":(0,u.replaceEntities)(n.photo_url),placeholder_inserted:n.placeholder_inserted,open_graph_data:(n.openGraph||{}).data,open_graph_hash:(n.openGraph||{}).hash});break;case"page":n.initialPattern&&(0,u.trim)(c)==n.initialPattern&&(w.message="");break;case"postpone":return w.postpone=(0,d.val)("postpone_date"+a.lnkId),void(cur.postponedLastDate=w.postpone);case"donut_duration":return;case"mark_as_ads":return void(w.mark_as_ads=1);case"pretty_cards":if(!a.prettyCardGallery)return;if(a.prettyCardGallery.needSendData())return a.prettyCardGallery.saveCards(o,(function(e){v(e)})),w.delayed=!0,!1;f=a.prettyCardGallery.getSendData().attachVal;break;case"donut_link":w["attach"+(m+1)+"_owner_id"]=null==(s=this[5])?void 0:s.owner_id}this[3]&&(0,u.trim)(c)==this[3]&&(w.message=""),h&&this[4]&&(f+="_"+this[4]),w["attach"+(m+1)+"_type"]=b,w["attach"+(m+1)]=f,m++}})),!a.multi&&(w.postpone||(a.postponeDate&&a.postponeIsTooltip||a.postponePreview)&&(w.postpone=(0,d.val)("postpone_date"+a.lnkId),cur.postponedLastDate=w.postpone),!w.copyright&&a.copyrightData)){var M=a.copyrightData();M&&(w=(0,u.extend)(w,M))}return a.multi||w.mark_as_ads||!a.markAsAds||(w.mark_as_ads=1),w},reset:function(e){var o=e.input,t=(0,d.val)(o),a=e.addMedia,_={value:t};return window.Emoji?Emoji.val(o,""):o.innerHTML="",a&&(_.urlsCancelled=(0,u.clone)(a.urlsCancelled),a.unchooseMedia(),a.urlsCancelled=[]),(0,d.re)(e.articleConvertEl),_},restore:function(e,o){var t=e.input,a=g.reset(e);return(0,d.val)(t,o.value||""),a}};const E=g;var v=t(82452),M=t(70655),P=t(85893),y=t(81117),C=t(88420);const O=(0,t(63192).makeIcon)("Icon56ErrorOutline","error_outline_56","0 0 56 56",'<symbol viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg" id="error_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path d="M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4Zm0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7Zm0 27a2 2 0 1 1 0 4 2 2 0 0 1 0-4Zm0-17.5a1.5 1.5 0 0 1 1.5 1.5v11l-.007.144A1.5 1.5 0 0 1 26.5 29V18l.007-.144A1.5 1.5 0 0 1 28 16.5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',56,56,!1,void 0);var D=function(e){var o=e.title,t=e.text,a=e.more_button_text,_=e.more_button_url,r=e.ok_button_text,i=e.onClose;return(0,P.jsxs)("div",(0,M.__assign)({className:"FakeInfoWarning__box"},{children:[(0,P.jsx)("div",(0,M.__assign)({className:"FakeInfoWarning__imageContainer"},{children:(0,P.jsx)(O,{},void 0)}),void 0),(0,P.jsx)("div",(0,M.__assign)({className:"FakeInfoWarning__title"},{children:o}),void 0),(0,P.jsx)("div",(0,M.__assign)({className:"FakeInfoWarning__text"},{children:t}),void 0),!!_&&(0,P.jsx)("a",(0,M.__assign)({href:_,target:"_blank",rel:"noopener"},{children:a}),void 0),(0,P.jsx)("div",(0,M.__assign)({className:"FakeInfoWarning__buttonWrap"},{children:(0,P.jsx)(C.default,(0,M.__assign)({onClick:i,appearance:"primary"},{children:r}),void 0)}),void 0)]}),void 0)};window.Page=i.default,window.page=i.default,window.Wall=n.default,window.wall=n.default,window.WallUpload=l.default,window.Composer=E,window._postsSendTimer||(window._postsSendTimer=window.setTimeout(i.default.postsSend,1e4));try{window.stManager.done("page.js"),(0,a.tq)().setInteractiveHandler("Wall/fake_news_info",(function(e){var o=e.payload,t=o.event,a=o.dataAttrs;null==t||t.preventDefault();var _,r=a,i=r.title,n=r.text,l=r.more_button_text,d=r.more_button_url,s=r.ok_button_text;_={title:i,text:n,more_button_text:l,more_button_url:d,ok_button_text:s},(0,y.showComponentInBox)((0,P.jsx)(D,(0,M.__assign)({},_,{onClose:function(){(0,y.destroyComponentInBox)(!0)}}),void 0),{containerClass:"FakeInfoWarning"}),window.ajax.post("al_page.php",{act:"track_fake_news_caption_clicked"})})),(0,a.tq)().setInteractiveHandler("Page/owner_new_photo",(function(e){try{var o=e.payload.dataAttrs.options,t=JSON.parse(o),a=t.ownerId;t.useNewForm?i.default.ownerAvatarUpload(a):i.default.ownerPhoto(a)}catch(e){(0,v.showErrorBox)((0,_.getLang)("global_error"))}})),(0,a.tq)().setInteractiveHandler("Page/owner_edit_photo",(function(e){try{var o=e.payload.dataAttrs.options,t=JSON.parse(o),a=t.ownerId,r=t.hash;t.useNewForm?i.default.ownerAvatarEdit(a,r):i.default.ownerCrop(a,r)}catch(e){(0,v.showErrorBox)((0,_.getLang)("global_error"))}})),(0,a.tq)().setInteractiveHandler("Page/owner_set_exist_photo",(function(e){try{var o=e.payload.dataAttrs.options,t=JSON.parse(o),a=t.photo;t.useNewForm?i.default.ownerAvatarSelect(a):(0,r.showBox)("al_page.php",{act:"owner_photo_edit",photo:a},{stat:["owner_photo.css",window.jsc("web/owner_photo.js"),"tagger.css",window.jsc("web/tagger.js")]})}catch(e){(0,v.showErrorBox)((0,_.getLang)("global_error"))}}))}catch(e){}},75382:(e,o,t)=>{t.d(o,{floatingButtonCollapseAllRepliesHide:()=>r,floatingButtonCollapseAllRepliesShow:()=>i,loadRepliesLinkShow:()=>n,loadRepliesLinkIsVisible:()=>l,highlightUpdatedReply:()=>d,highlightUpdatedReplyContent:()=>s});var a=t(30104),_=t(15544),r=function(e){e instanceof HTMLElement&&e.classList.contains("replies_side")&&e.classList.add("replies_side_hidden")},i=function(e){e instanceof HTMLElement&&e.classList.contains("replies_side")&&e.classList.remove("replies_side_hidden")},n=function(e){e instanceof HTMLElement&&e.classList.contains("replies_next")&&e.classList.add("replies_next_shown")},l=function(e){return!!(e instanceof HTMLElement&&e.classList.contains("replies_next"))&&(e.classList.contains("replies_next_shown")||(0,_.isVisible)(e))},d=function(e){(0,a.triggerAnimationClass)(e,"reply_highlight_updated",3e3)},s=function(e){(0,a.triggerAnimationClass)(e,"reply_highlight_updated_content",3e3)}}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var o=__webpack_module_cache__[e];if(void 0!==o)return o.exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,o,t,a)=>{if(!o){var _=1/0;for(l=0;l<deferred.length;l++){for(var[o,t,a]=deferred[l],r=!0,i=0;i<o.length;i++)(!1&a||_>=a)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](o[i])))?o.splice(i--,1):(r=!1,a<_&&(_=a));if(r){deferred.splice(l--,1);var n=t();void 0!==n&&(e=n)}}return e}a=a||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>a;l--)deferred[l]=deferred[l-1];deferred[l]=[o,t,a]},__webpack_require__.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(o,{a:o}),o},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var t=Object.create(null);__webpack_require__.r(t);var a={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var _=2&o&&e;"object"==typeof _&&!~leafPrototypes.indexOf(_);_=getProto(_))Object.getOwnPropertyNames(_).forEach((o=>a[o]=()=>e[o]));return a.default=()=>e,__webpack_require__.d(t,a),t},__webpack_require__.d=(e,o)=>{for(var t in o)__webpack_require__.o(o,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},__webpack_require__.e=()=>Promise.resolve(),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={60339:0};__webpack_require__.O.j=o=>0===e[o];var o=(o,t)=>{var a,_,[r,i,n]=t,l=0;for(a in i)__webpack_require__.o(i,a)&&(__webpack_require__.m[a]=i[a]);if(n)var d=n(__webpack_require__);for(o&&o(t);l<r.length;l++)_=r[l],__webpack_require__.o(e,_)&&e[_]&&e[_][0](),e[r[l]]=0;return __webpack_require__.O(d)},t=self.webpackChunkvk=self.webpackChunkvk||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var __webpack_exports__=__webpack_require__.O(void 0,[76429,22897,75514,24509,40885,56990,38288,68592,91454,41081,48195,22129,46643,4502,59302,85820,83063],(()=>__webpack_require__(69417)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();