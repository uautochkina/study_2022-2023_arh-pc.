/*! For license information please see 3ae78002d05d100ea57d5ee29ec63b89.dbe1cfdf7856228d5f72.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[70306],{74351:(e,t,a)=>{"use strict";function i(e,t){return new Promise((function(a){setTimeout(a.bind(null,t),1e3*e)}))}a.d(t,{pause:()=>i})},88822:(e,t,a)=>{"use strict";a.d(t,{decodeHTMLEntities:()=>n,escape:()=>r});var i=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function r(e){return i.reduce((function(e,t){var a=t[0],i=t[1];return e.replace(new RegExp(i,"ig"),a)}),e)}function n(e){return i.reduce((function(e,t){var a=t[0],i=t[1];return e.replace(new RegExp(a,"ig"),i)}),e).replace(/&#(\d+);/g,(function(e,t){return String.fromCodePoint(t)}))}},71831:(e,t,a)=>{"use strict";function i(e){return e>0&&e<2e9}function r(e){return e>2e9}a.d(t,{isChatPeer:()=>r,isUserPeer:()=>i})},24600:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20ArticleBoxOutline","article_box_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="article_box_outline_20"><g fill-rule="nonzero" fill="none"><path opacity=".527" d="M0 0h20v20H0z" /><path d="M6.916 2h6.168c1.434 0 2.132.135 2.857.523.66.353 1.183.876 1.536 1.536.388.725.523 1.423.523 2.857v6.168c0 1.434-.135 2.132-.523 2.857a3.703 3.703 0 0 1-1.536 1.536c-.725.388-1.423.523-2.857.523H6.916c-1.434 0-2.132-.135-2.857-.523a3.703 3.703 0 0 1-1.536-1.536C2.135 15.216 2 14.518 2 13.084V6.916c0-1.434.135-2.132.523-2.857a3.703 3.703 0 0 1 1.536-1.536C4.784 2.135 5.482 2 6.916 2Zm0 1.5c-1.207 0-1.671.09-2.15.345a2.203 2.203 0 0 0-.92.921c-.256.479-.346.943-.346 2.15v6.168c0 1.207.09 1.671.345 2.15.214.399.522.707.921.92.479.256.943.346 2.15.346h6.168c1.207 0 1.671-.09 2.15-.345.399-.214.707-.522.92-.921.256-.479.346-.943.346-2.15V6.916c0-1.207-.09-1.671-.345-2.15a2.203 2.203 0 0 0-.921-.92c-.479-.256-.943-.346-2.15-.346H6.916ZM6.75 6h6.5a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5Zm0 3.25h6.5a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 1 1 0-1.5Zm0 3.25h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5Z" fill="currentColor" /></g></symbol>',20,20,!1,void 0)},99990:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20Chain","chain_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="chain_20"><g fill="currentColor"><path d="M12.517 4.176a2.357 2.357 0 0 1 3.303 0 2.273 2.273 0 0 1 0 3.242l-.687.679a.75.75 0 0 0 1.055 1.066l.687-.678a3.772 3.772 0 0 0 0-5.376 3.857 3.857 0 0 0-5.413 0L8.125 6.408a3.772 3.772 0 0 0 0 5.375.75.75 0 1 0 1.055-1.066 2.272 2.272 0 0 1 0-3.242z" /><path d="M7.483 15.824c-.91.901-2.392.901-3.303 0a2.272 2.272 0 0 1 0-3.242l.687-.679a.75.75 0 0 0-1.055-1.066l-.687.678a3.772 3.772 0 0 0 0 5.376 3.857 3.857 0 0 0 5.413 0l3.337-3.299a3.772 3.772 0 0 0 0-5.375.75.75 0 0 0-1.055 1.066 2.272 2.272 0 0 1 0 3.242z" /></g></symbol>',20,20,!1,void 0)},39446:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20DeleteOutline","delete_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_outline_20"><path fill-rule="evenodd" d="M6.837 4H2.75a.75.75 0 0 0 0 1.5h.545l.907 9.248c.051.523.094.96.157 1.314.066.37.163.711.353 1.028a2.9 2.9 0 0 0 1.247 1.131c.334.158.682.222 1.058.25.36.029.797.029 1.323.029h3.32c.526 0 .964 0 1.323-.028.376-.03.724-.093 1.058-.25a2.9 2.9 0 0 0 1.247-1.132c.19-.317.287-.657.353-1.028.063-.355.106-.79.157-1.314l.907-9.248h.545a.75.75 0 0 0 0-1.5h-4.087a3.25 3.25 0 0 0-6.326 0Zm1.581 0h3.164a1.751 1.751 0 0 0-3.164 0Zm6.78 1.5H4.802l.89 9.072c.054.56.091.938.143 1.228.05.281.104.422.162.52a1.4 1.4 0 0 0 .603.546c.102.048.248.088.533.11.294.024.673.024 1.235.024h3.262c.562 0 .941 0 1.235-.023.285-.023.43-.063.533-.111a1.4 1.4 0 0 0 .603-.547c.058-.097.112-.238.162-.52.052-.29.09-.667.144-1.226l.89-9.073Zm-2.886 2.002a.75.75 0 0 1 .685.81l-.5 6.003a.75.75 0 0 1-1.494-.124l.5-6.003a.75.75 0 0 1 .81-.686Zm-4.624 0a.75.75 0 0 1 .81.686l.5 6.002a.75.75 0 0 1-1.495.125l-.5-6.003a.75.75 0 0 1 .685-.81Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},67458:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".4" d="M0 0h20v20H0z" /><path d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.52 7.52 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222ZM3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7.009 7.009 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9.077 9.077 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',20,20,!1,void 0)},6057:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20PhoneOutline","phone_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="phone_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".1" d="M0 0h20v20H0z" /><path d="m7.78 2.7.7.833c1.373 1.628 1.229 4.054-.299 5.582l-.297.296c.226.38.633.878 1.23 1.475.53.53.984.912 1.344 1.149l.13.082.298-.297c1.526-1.527 3.95-1.672 5.58-.302l.833.702c1.46 1.229 1.602 3.419.346 4.894a3.859 3.859 0 0 1-2.29 1.289l-.506.06c-3.005.292-6.037-1.16-9.094-4.217-3.056-3.056-4.51-6.09-4.226-9.025l.06-.515a3.834 3.834 0 0 1 1.3-2.354l.168-.135c1.462-1.107 3.54-.924 4.723.484Zm-3.911.788c-.321.276-.562.633-.698 1.033a2.37 2.37 0 0 0-.115.552c-.343 2.548.898 5.25 3.76 8.112 2.86 2.862 5.562 4.103 8.123 3.758a2.376 2.376 0 0 0 1.571-.81c.719-.844.636-2.082-.177-2.766l-.833-.701-.142-.112c-1.02-.739-2.471-.614-3.411.326l-.597.598-.088.076a.903.903 0 0 1-.862.133c-.648-.238-1.425-.818-2.346-1.74-.923-.923-1.503-1.7-1.74-2.347a.903.903 0 0 1 .209-.95l.598-.597.129-.137c.862-.987.906-2.44.084-3.416l-.702-.834-.112-.122c-.7-.697-1.853-.735-2.651-.056Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',20,20,!1,void 0)},93047:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20WriteOutline","write_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="write_outline_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.076 2.649A2.215 2.215 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.296 3.296 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.288 3.288 0 0 1 .965-2.34l8.123-8.132 1.988-1.986zm2.286 4.135.927-.926a.711.711 0 0 0 0-1.013l-1.137-1.136a.713.713 0 0 0-.507-.21.713.713 0 0 0-.507.21l-.927.926 2.15 2.149zM12.135 5.71l-8.109 8.118a1.79 1.79 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z" fill="currentColor" /></symbol>',20,20,!1,void 0)},81536:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},94184:(e,t)=>{var a;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)&&a.length){var l=r.apply(null,a);l&&e.push(l)}else if("object"===n)for(var s in a)i.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},8679:(e,t,a)=>{"use strict";var i=a(59864),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function o(e){return i.isMemo(e)?l:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=l;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,a,i){if("string"!=typeof a){if(_){var r=p(a);r&&r!==_&&e(t,r,i)}var l=c(a);d&&(l=l.concat(d(a)));for(var s=o(t),m=o(a),v=0;v<l.length;++v){var h=l[v];if(!(n[h]||i&&i[h]||m&&m[h]||s&&s[h])){var g=f(a,h);try{u(t,h,g)}catch(e){}}}}return t}},41143:e=>{"use strict";e.exports=function(e,t,a,i,r,n,l,s){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,i,r,n,l,s],c=0;(o=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},69921:(e,t)=>{"use strict";var a="function"==typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,n=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,s=a?Symbol.for("react.profiler"):60114,o=a?Symbol.for("react.provider"):60109,u=a?Symbol.for("react.context"):60110,c=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,_=a?Symbol.for("react.suspense_list"):60120,m=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,h=a?Symbol.for("react.block"):60121,g=a?Symbol.for("react.fundamental"):60117,C=a?Symbol.for("react.responder"):60118,b=a?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case d:case n:case s:case l:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case m:case o:return e;default:return t}}case r:return t}}}function A(e){return y(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=o,t.Element=i,t.ForwardRef=f,t.Fragment=n,t.Lazy=v,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=l,t.Suspense=p,t.isAsyncMode=function(e){return A(e)||y(e)===c},t.isConcurrentMode=A,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===o},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===f},t.isFragment=function(e){return y(e)===n},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===r},t.isProfiler=function(e){return y(e)===s},t.isStrictMode=function(e){return y(e)===l},t.isSuspense=function(e){return y(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===d||e===s||e===l||e===p||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===o||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===C||e.$$typeof===b||e.$$typeof===h)},t.typeOf=y},59864:(e,t,a)=>{"use strict";e.exports=a(69921)},67121:(e,t,a)=>{"use strict";a.d(t,{default:()=>i}),e=a.hmd(e);const i=function(e){var t,a=e.Symbol;return"function"==typeof a?a.observable?t=a.observable:(t=a("observable"),a.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:e)},63197:(e,t,a)=>{"use strict";a.d(t,{SCHEDULED_CALLS_PAGE_COUNT:()=>i,SCHEDULED_CALLS_NEXT_PAGE_COUNT:()=>r,initialStateScheduledCalls:()=>n,callSounds:()=>l});var i=3,r=10,n={profiles:{},me:window.vk&&window.vk.id},l={end:"/mp3/call_end.mp3",incoming:"/mp3/call_incoming.mp3",outgoing:"/mp3/call_outgoing.mp3",connected:"/mp3/call_connected.mp3",connecting:"/mp3/call_connecting.mp3"}},83510:(e,t,a)=>{"use strict";a.d(t,{decode:()=>l,langUtils:()=>s});a(70655);var i=a(86067),r=a(88822),n=a(41650),l=function(e){return(0,r.escape)((0,r.decodeHTMLEntities)(e))},s={getLang:n.getLang,langSex:function(e,t,a){return(0,i.langSex)(e,a)},langNumeric:function(e,t,a,r){return(0,i.langNumeric)(e,a,r)},langShortDateTime:function(e){return(0,i.langDate)(e,(0,n.getLang)("global_short_date_time",!0),0,(0,n.getLang)("months_of"),!0)},langShortDate:function(e,t){return void 0===t&&(t=!0),(0,i.langDate)(e,(0,n.getLang)("global_short_date",!0),0,(0,n.getLang)("months_sm_of"),t)}}},50611:(e,t,a)=>{"use strict";a.d(t,{dispatchSetHistoryCalls:()=>o,dispatchDeleteCall:()=>u,dispatchSetCurrentCalls:()=>c,dispatchSetError:()=>d,dispatchSetShowCreateButton:()=>f,dispatchSetLoading:()=>p,updateProfilesAndUrls:()=>_,loadCurrentCalls:()=>m,loadHistoryCalls:()=>v,mapProfiles:()=>h,loadProfiles:()=>g,changeQuery:()=>C});var i=a(70655),r=a(71618),n=a(93385),l=a(95098),s=a(87080),o=function(e){return{type:s.HistoryScreenActionTypes.SET_HISTORY_CALLS,data:e}},u=function(e){return{type:s.HistoryScreenActionTypes.DELETE_CALL,data:e}},c=function(e){return{type:s.HistoryScreenActionTypes.SET_CURRENT_CALLS,data:e}},d=function(e){return{type:s.HistoryScreenActionTypes.ERROR,data:e}},f=function(e){return{type:s.HistoryScreenActionTypes.SET_SHOW_CREATE_BUTTON,data:e}},p=function(e){return{type:s.HistoryScreenActionTypes.SET_LOADING,data:e}};function _(e,t){var a,r,n,o,u,c,d=[],f=[];try{for(var p=(0,i.__values)(t),_=p.next();!_.done;_=p.next()){var m=_.value;(null==m?void 0:m.profiles)&&(null===(n=m.profiles)||void 0===n?void 0:n.length)>0&&(d=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(d),!1),(0,i.__read)(m.profiles),!1)),"anonyms"in m&&(null==m?void 0:m.anonyms)&&(null===(o=m.anonyms)||void 0===o?void 0:o.length)>0&&(d=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(d),!1),(0,i.__read)(m.anonyms),!1)),(null==m?void 0:m.groups)&&(null===(u=m.groups)||void 0===u?void 0:u.length)>0&&(d=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(d),!1),(0,i.__read)(m.groups),!1)),(null==m?void 0:m.items)&&(null===(c=m.items)||void 0===c?void 0:c.length)>0&&(f=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(f),!1),(0,i.__read)(m.items),!1))}}catch(e){a={error:e}}finally{try{_&&!_.done&&(r=p.return)&&r.call(p)}finally{if(a)throw a.error}}return d.length&&g(e,d),f.length&&function(e,t){var a=t.reduce((function(e,t){var a=0;a="type"in t?(0,l.getHistoryCallPeerId)(t):(0,l.getCurrentCallPeerId)(t);var i=String(a);return i in e||(null==t?void 0:t.join_link)&&(e[i]=null==t?void 0:t.join_link),e}),{});e({type:s.HistoryScreenActionTypes.SET_URLS,data:a})}(e,f),Promise.resolve(f.length>0)}function m(e){return(0,r.getCurrentCalls)().then((function(t){var a,i=null!==(a=null==t?void 0:t.items)&&void 0!==a?a:[];return i instanceof Array&&e(c(i)),t}))}function v(e,t,a,n,l,s,u){return void 0===t&&(t=5),void 0===a&&(a=0),void 0===n&&(n=0),void 0===l&&(l="all"),void 0===s&&(s=[]),void 0===u&&(u=!1),(0,r.getCallsHistory)(t,a,n,l).then((function(t){var a,r=null!==(a=null==t?void 0:t.items)&&void 0!==a?a:[],n=r.length>0||u,l=[];return r.length>0&&(l=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(s),!1),(0,i.__read)(r),!1)),n&&e(o(l)),t}))}function h(e){return e.reduce((function(e,t){var a=String(t.id);if(!(a in e)){var i=(0,n.normalizeUser)(t);"group"===t.type||"page"===t.type?e["-"+a]=i:e[a]=i}return e}),{})}function g(e,t){var a,i=h(t);e((a=i,{type:s.HistoryScreenActionTypes.SET_PROFILES,data:a}))}function C(e){window.nav.setLoc(window.nav.fromStr(e))}},49336:(e,t,a)=>{"use strict";a.d(t,{BaseModal:()=>c});var i,r=a(70655),n=a(85893),l=a(67294),s=a(73935),o=a(33024),u=a(59397);!function(e){e.Base="CallsBaseModal",e.Backdrop="CallsBaseModal__backdrop",e.Content="CallsBaseModal__content",e.Cross="CallsModalHeader__cross"}(i||(i={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getScrollbarWidth=function(){var e=document.createElement("div");e.classList.add(t._scrollbarMeasureClass),document.body.appendChild(e);var a=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),a},t.hideScrollBar=function(){var e=document.body.getBoundingClientRect(),a=e.left+e.right<window.innerWidth,i=t.getScrollbarWidth();t.calculatedPadding=window.getComputedStyle(document.body).paddingRight,a&&(document.body.style.paddingRight=parseFloat(t.calculatedPadding)+i+"px"),document.body.classList.add(t._bodyHiddenOverflowClass)},t.showScrollBar=function(){document.body.style.paddingRight=t.calculatedPadding,document.body.classList.remove(t._bodyHiddenOverflowClass)},t.onDocumentKeyDown=function(e){var a=t.props.onClose;"Escape"===e.key&&a()},t.checkPreventCloseClasses=function(e){return!!t.props.preventCloseClasses&&t.props.preventCloseClasses.some((function(t){var a,i;return null===(i=null===(a=e.target)||void 0===a?void 0:a.closest)||void 0===i?void 0:i.call(a,"."+t)}))},t.onBackdropClick=function(e){var a=t.props,r=a.onClose,n=a.onBackdropClick;a.disableBackdropClick||e.target instanceof Element&&(e.target.closest("."+i.Content)||t.checkPreventCloseClasses(e))||(n?n():r())},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.disableEscapeClose,a=e.disableBodyScroll;t||document.body.addEventListener("keydown",this.onDocumentKeyDown),a&&(this._scrollbarMeasureClass=(0,n.jsx)("div",{className:i.Base+"__scrollbarMeasure"},void 0).props.className,this._bodyHiddenOverflowClass=(0,n.jsx)("div",{className:i.Base+"__bodyHiddenOverflow"},void 0).props.className,this.hideScrollBar())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.disableEscapeClose,a=e.disableBodyScroll;t||document.body.removeEventListener("keydown",this.onDocumentKeyDown),a&&this.showScrollBar()},t.prototype.renderModal=function(){var e=this.props,t=e.className,a=e.enableCrossButton,l=e.onClose,s=(0,u.classNames)(i.Base,t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:i.Backdrop},void 0),(0,n.jsx)("div",(0,r.__assign)({className:s,"aria-modal":"true",onClick:this.onBackdropClick},{children:(0,n.jsxs)("div",(0,r.__assign)({className:i.Content},{children:[a&&(0,n.jsxs)("button",(0,r.__assign)({className:i.Cross,type:"button",onClick:l},{children:[(0,n.jsx)(o.default,{width:22,height:22},void 0),"Закрыть"]}),void 0),this.props.children]}),void 0)}),void 0)]},void 0)},t.prototype.render=function(){return s.createPortal(this.renderModal(),document.body)},t}(l.Component)},80905:(e,t,a)=>{"use strict";a.d(t,{CallChip:()=>s});var i=a(70655),r=a(85893),n=a(67294),l=a(59397),s=(0,n.memo)((function(e){var t=e.value,a=e.onClick,n=e.selected,s=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:(0,l.classNames)("CallChip",{"CallChip--selected":!!n}),onClick:function(){return a(t)}},{children:s}),void 0)}));s.displayName="CallChip"},3065:(e,t,a)=>{"use strict";a.d(t,{CallPhoto:()=>p});var i=a(85893),r=a(67294),n=a(6042),l=a(59397),s=a(73674),o=a(70655),u=function(e){var t=(0,o.__rest)(e,[]);return(0,i.jsx)("svg",(0,o.__assign)({width:"10",height:"10",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t,{children:(0,i.jsx)("path",{d:"M6.80486 3.06621L9.19457 3.30079C10.0261 3.38241 10.2811 4.21346 9.63901 4.75944L7.76813 6.35033L8.46267 8.94201C8.69075 9.79313 7.98312 10.3084 7.27435 9.79614L5.0011 8.15325L2.72785 9.79614C2.02194 10.3063 1.31141 9.79324 1.53953 8.94201L2.23406 6.35033L0.363183 4.75944C-0.281598 4.21116 -0.0275869 3.38278 0.807493 3.30079L3.19677 3.06621L4.24943 0.583062C4.57908 -0.194562 5.42332 -0.194173 5.75269 0.583142L6.80486 3.06621Z"},void 0)}),void 0)},c=function(e){var t=e.className,a=e.type;return(0,i.jsx)("div",(0,o.__assign)({className:(0,l.classNames)("UserBadge","UserBadge--"+a,t)},{children:(0,i.jsx)(u,{},void 0)}),void 0)},d=a(10930),f=a(15464),p=function(e){var t,a,o=e.id,u=e.waves,p=void 0!==u&&u,_=e.size,m=e.photo,v=void 0===m?"":m,h=e.alt,g=e.letter,C=e.showCreatorBadge,b=e.showAdminBadge,y=e.className,A=(0,r.useContext)(d.ConfigContext),T=A.withAnimation,E=A.anonymPhoto,S=(0,f.isParticipantAnonym)(o),D=(0,l.classNames)("CallPhoto",y,((t={"CallPhoto--waves":T&&!!p})["CallPhoto--"+_]=!!_,t)),M=null!=g?g:String.fromCodePoint(null!==(a=h.codePointAt(0))&&void 0!==a?a:32);return!v||v.includes(s.DEFAULT_AVATAR)||S&&!E?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.ConversationNoPhoto,{id:Math.abs(o),text:M,size:_,className:D},void 0),C?(0,i.jsx)(c,{className:"CallPhoto__badge",type:"creator"},void 0):b?(0,i.jsx)(c,{className:"CallPhoto__badge",type:"admin"},void 0):null]},void 0):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:v,className:D,alt:h,draggable:!1},void 0),C?(0,i.jsx)(c,{className:"CallPhoto__badge",type:"creator"},void 0):b?(0,i.jsx)(c,{className:"CallPhoto__badge",type:"admin"},void 0):null]},void 0)}},27814:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var i=a(70655),r=a(85893),n=a(59397),l=a(30365),s=a(73479),o=function(e){var t=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalBody"},{children:t}),void 0)},u=a(98037),c=a(61650);const d=function(e){var t=e.className,a=e.appearance,d=void 0===a?"white":a,f=e.title,p=e.actionButtons,_=e.onClose,m=e.children,v=e.footerHint,h=e.backText,g=e.onBack,C=e.hasScroll,b=(0,n.classNames)("CallsModal","CallsModal--"+d,t),y=!(!m||!C),A=!(!p&&!v);return(0,r.jsxs)(l.default,(0,i.__assign)({},e,{className:b},{children:[(0,r.jsx)(s.ModalHeader,{title:f,onClose:_,backText:h,onBack:g},void 0),y&&(0,r.jsx)(c.default.Body,(0,i.__assign)({hasScroll:C,className:"CallsModalBody"},{children:m}),void 0),!y&&(0,r.jsx)(o,{children:m},void 0),A&&(0,r.jsx)(u.ModalFooter,{actionButtons:p,hint:v},void 0)]}),void 0)}},98037:(e,t,a)=>{"use strict";a.d(t,{ModalFooter:()=>l});var i=a(70655),r=a(85893),n=a(59397),l=function(e){var t=e.className,a=e.actionButtons,l=e.hint,s=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:(0,n.classNames)("CallsModalFooter",t)},{children:(0,r.jsxs)("div",(0,i.__assign)({className:"CallsModalFooter__inner"},{children:[l&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalFooter__hint",role:"presentation"},{children:l}),void 0),s&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalFooter__content"},{children:s}),void 0),a]}),void 0)}),void 0)}},73479:(e,t,a)=>{"use strict";a.d(t,{ModalHeader:()=>s});var i=a(70655),r=a(85893),n=a(59397),l=a(33024),s=function(e){var t=e.className,a=e.title,s=e.onClose,o=e.backText,u=e.onBack,c=(0,n.classNames)("CallsModalHeader",t);return(0,r.jsxs)("div",(0,i.__assign)({className:c},{children:[o&&(0,r.jsx)("button",(0,i.__assign)({className:"CallsModalHeader__back",onClick:u},{children:o}),void 0),(0,r.jsx)("h1",(0,i.__assign)({className:"CallsModalHeader__title"},{children:a}),void 0),(0,r.jsxs)("button",(0,i.__assign)({className:"CallsModalHeader__cross",type:"button",onClick:s},{children:[(0,r.jsx)(l.default,{width:22,height:22},void 0),"Закрыть"]}),void 0)]}),void 0)}},21284:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>b});var i,r=a(70655),n=a(85893),l=a(67294),s=a(58241),o=a(74140),u=a(40249),c=a(59397),d=a(88420),f=a(56589),p=a(72629),_=a(28523),m=a(25685);!function(e){e.HOUR="hour",e.MINUTE="minute"}(i||(i={}));var v=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),h=new Array(24).fill(null).map((function(e,t){return{label:v.format(t),value:t}})),g=new Array(60).fill(null).map((function(e,t){return{label:v.format(t),value:t}})),C=a(209),b=function(e){var t=e.date,a=e.onChange,v=e.time,b=e.className,y=e.onSubmit,A=e.minDate,T=e.disableTimeSelect,E=e.disableDateSelect;!function(e){var t=(0,C.useNotifier)().showText,a=(0,m.useLang)().getLang;(0,l.useEffect)((function(){if(e){var i=document.querySelectorAll(".CallsDatePicker .rdrDay.rdrDayDisabled"),r=function(){t(a("calls_notify_disabled_date_selection"))};return i.forEach((function(e){return e.addEventListener("click",r)})),function(){i.forEach((function(e){return e.removeEventListener("click",r)}))}}}),[e,t])}(E);var S=(0,r.__read)((0,l.useState)((function(){return new Date})),1)[0],D=function(){var e=(0,m.useLang)().getLang;return{locale:(0,l.useMemo)((function(){var t=_.default,a=[e("Month1"),e("Month2"),e("Month3"),e("Month4"),e("Month5"),e("Month6"),e("Month7"),e("Month8"),e("Month9"),e("Month10"),e("Month11"),e("Month12")];t.localize.months=function(){return a},t.localize.month=function(e){return a[e]},t.options.weekStartsOn=1;var i=[e("global_sunday_short"),e("global_monday_short"),e("global_tuesday_short"),e("global_wednesday_short"),e("global_thursday_short"),e("global_friday_short"),e("global_saturday_short")];return t.localize.weekdays=function(){return i},t.localize.weekday=function(e){return i[e]},t}),[]),getLang:e}}(),M=D.locale,U=D.getLang,w=(0,l.useCallback)((function(e){a(e,v)}),[v,a]),N=(0,l.useCallback)((function(e){var n=e.name,l=e.selected,s=(0,r.__assign)({},v);n===i.HOUR&&(s.hours=+l.value),n===i.MINUTE&&(s.minutes=+l.value),a(t,s)}),[t,v,a]),k=(0,l.useCallback)((function(e,t){var a=E||(0,p.isDisablePrevArrow)(S,e);return(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__panel"},{children:[(0,n.jsx)("button",(0,r.__assign)({type:"button",onClick:function(){return t(-1,"monthOffset")},className:(0,c.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--minus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":a})},{children:(0,n.jsx)(o.default,{},void 0)}),void 0),(0,n.jsx)("button",(0,r.__assign)({type:"button",onClick:function(){return t(1,"monthOffset")},className:(0,c.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--plus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":!!E})},{children:(0,n.jsx)(u.default,{},void 0)}),void 0)]}),void 0)}),[S,E]),P=E?t:A||S,x=E?t:void 0;return(0,n.jsx)("div",(0,r.__assign)({className:(0,c.classNames)("CallsDatePicker",b)},{children:(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__wrap"},{children:[(0,n.jsx)(s.Calendar,{date:t,minDate:P,maxDate:x,editableDateInputs:!1,navigatorRenderer:k,lang:"ru",onChange:w,monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"iiiiii",dayDisplayFormat:"d",locale:M,showDateDisplay:!1,direction:"horizontal"},void 0),(0,n.jsx)("div",{className:"CallsDatePicker__divider"},void 0),(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__time"},{children:[(0,n.jsxs)("div",(0,r.__assign)({className:(0,c.classNames)({"CallsDatePicker__time__selectWrap--hidden":!!T})},{children:[(0,n.jsx)(f.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:h,value:v.hours,onChange:N,name:i.HOUR},void 0),(0,n.jsx)("span",(0,r.__assign)({className:"CallsDatePicker__time__divider"},{children:":"}),void 0),(0,n.jsx)(f.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:g,value:v.minutes,onChange:N,name:i.MINUTE},void 0)]}),void 0),(0,n.jsx)(d.default,(0,r.__assign)({onClick:y,appearance:"primary"},{children:U("calls_btn_ready")}),void 0)]}),void 0)]}),void 0)}),void 0)}},72629:(e,t,a)=>{"use strict";a.d(t,{isDisablePrevArrow:()=>r,isSameDate:()=>n,getDateTimeValue:()=>l,getNextDateTime:()=>s});var i=a(62833),r=function(e,t){var a=e.getFullYear(),i=t.getFullYear();return i<a||!(i>a)&&t.getMonth()<=e.getMonth()},n=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},l=function(e,t,a){void 0===a&&(a=!1);var r=new Date(e);return r.setHours(t.hours),r.setMinutes(t.minutes),a?(0,i.dateToUnixTimestamp)(r):Math.round(r.valueOf())};function s(e,t,a){void 0===a&&(a=0);var i=new Date(e.valueOf());i.setHours(t.hours,t.minutes);var r=new Date(i.valueOf()+a);return{date:r,time:{hours:r.getHours(),minutes:r.getMinutes()}}}},64372:(e,t,a)=>{"use strict";a.d(t,{Dropdown:()=>d});var i=a(70655),r=a(85893),n=a(67294),l=a(73935),s=a(23570),o=a.n(s),u=a(59397),c=a(53996),d=function(e){function t(t){var a=e.call(this,t)||this;return a.onClick=function(){if(!a.state.dropdown||a.state.dropdown.removed){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,l=e.horizontalPosition,s=a._getElRect();a.update({position:t,horizontalPosition:l,align:i,rect:s,marginTop:r,marginLeft:n})}else a.update()},a.onMouseEnter=function(){a.callerHovered=!0,a.timeouts.appear=setTimeout((function(){if(a.el&&a.callerHovered){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,l=e.horizontalPosition,s=a._getElRect();a.update({position:t,align:i,horizontalPosition:l,rect:s,marginTop:r,marginLeft:n})}}),80)},a.onMouseLeave=function(){a.callerHovered=!1,a.timeouts.callerDisappear=setTimeout((function(){a.callerHovered||a.hovered||a.update()}),250)},a.onDropdownMouseEnter=function(){"hover"===a.props.trigger&&(a.hovered=!0)},a.onDropdownMouseLeave=function(){"hover"===a.props.trigger&&(a.hovered=!1,a.timeouts.disappear=setTimeout((function(){a.callerHovered||a.hovered||a.update()}),250))},a.onKeyDown=function(e){"Escape"===e.key&&a.state.dropdown&&a.update()},a.onDocumentClick=function(e){var t=e.target;a.props.dataJsx&&a.elWrapperClass?!a.state.dropdown||a.state.dropdown.removed||t.closest("."+a.elWrapperClass)||a.el.contains(t)||a.update():!a.state.dropdown||a.state.dropdown.removed||a.el.contains(t)||a.update()},a.onResize=function(){if(a.state.dropdown&&!a.state.dropdown.removed){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,l=e.horizontalPosition,s=a._getElRect();a.update({position:t,align:i,horizontalPosition:l,rect:s,marginTop:r,marginLeft:n})}},a.onTransitionEnd=function(e){"visibility"===e.propertyName&&a.state.dropdown&&a.state.dropdown.removed&&a.setState({dropdown:void 0})},a.onItemClick=function(e,t){t.separator||(a.update(),t.onClick&&t.onClick(e))},a.state={},a.timeouts={},a.elWrapperClass="dropdown-"+o()(),a}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.el=l.findDOMNode(this),"click"===this.props.trigger?(this.el.addEventListener("click",this.onClick),document.addEventListener("mousedown",this.onDocumentClick),window.addEventListener("resize",this.onResize)):(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave)),requestAnimationFrame((function(){if(e.props.rootScrollSelector){var t=document.querySelector(e.props.rootScrollSelector);t||(0,c.debugMessage)(c.DebugMessageType.ERROR,{component:"calls/Dropdown",text:"Invalid $element selector with prop rootScrollSelector",selector:e.props.rootScrollSelector}),null==t||t.addEventListener("scroll",e.onResize)}})),document.body.addEventListener("keydown",this.onKeyDown)},t.prototype.componentWillUnmount=function(){var e,t=this;if(Object.keys(this.timeouts).forEach((function(e){clearTimeout(t.timeouts[e])})),"click"===this.props.trigger?(this.el.removeEventListener("click",this.onClick),document.removeEventListener("mousedown",this.onDocumentClick),window.removeEventListener("resize",this.onResize)):(this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",this.onMouseLeave)),this.defaultNode&&(null===(e=this.defaultNode.parentNode)||void 0===e||e.removeChild(this.defaultNode),delete this.defaultNode),this.props.rootScrollSelector){var a=document.querySelector(this.props.rootScrollSelector);null==a||a.removeEventListener("scroll",this.onResize)}document.body.removeEventListener("keydown",this.onKeyDown)},t.prototype._getElRect=function(){return this.props.useFixedPosition?this.el.getBoundingClientRect():(0,u.getOffsetRect)(this.el)},t.prototype.update=function(e){if(!e)return this.setState({dropdown:Object.assign({},this.state.dropdown,{removed:!0})});var t=e.position,a=e.align,i=e.horizontalPosition,r=e.rect,n=e.marginTop,l=e.marginLeft,s=r.left,o=r.top;switch(t){case"t":"center"===i?s+=.5*r.width:"right"===i&&(s+=r.width);break;case"r":s+=r.width,o+=.5*r.height;break;case"b":o+=r.height,"center"===i?s+=.5*r.width:"right"===i&&(s+=r.width);break;case"l":o+=.5*r.height}s=Math.round(s+l),o=Math.round(o+n),this.setState({dropdown:{position:t,align:a,x:s,y:o}})},t.prototype.renderDropdown=function(){var e,t=this;if(!this.state.dropdown)return null;var a=this.state.dropdown,n=a.x,l=a.y,s=a.position,o=a.align,c=a.removed,d=(0,u.classNames)("CallsDropdownComponent","CallsDropdownComponent--"+s,((e={"CallsDropdownComponent--removed":!!c})["CallsDropdownComponent--align-"+o]="t"===s||"b"===s,e),"CallsDropdownComponent--"+this.props.appearance,{"CallsDropdownComponent--position-fixed":!!this.props.useFixedPosition},this.props.className);return(0,r.jsxs)("div",(0,i.__assign)({className:d,style:n&&l?{top:l,left:n}:void 0,onTransitionEnd:function(e){return t.onTransitionEnd(e)},onMouseEnter:this.onDropdownMouseEnter,onMouseLeave:this.onDropdownMouseLeave},{children:[this.props.dataJsx&&((0,u.isFunction)(this.props.dataJsx)?this.props.dataJsx((function(){return t.update()})):this.props.dataJsx),this.props.data&&(0,r.jsx)("ul",(0,i.__assign)({className:"CallsDropdownComponent__in"},{children:this.props.data.map((function(e,a){return(0,r.jsx)("li",(0,i.__assign)({className:(0,u.classNames)("CallsDropdownComponent__item",{CallsDropdownComponent__itemSeparator:e.separator},{CallsDropdownComponent__itemNegative:e.negative},{CallsDropdownComponent__itemNoHover:e.noHover}),onClick:function(a){return t.onItemClick(a,e)},onMouseDown:function(a){return t.onItemClick(a,e)}},{children:e.text}),void 0!==e.id?e.id:a)}))}),void 0)]}),void 0)},t.prototype.render=function(){var e=this.renderDropdown();return e?(this.defaultNode||(0,u.isUndefined)(window)||(this.defaultNode=document.createElement("div"),this.defaultNode.classList.add(this.elWrapperClass),document.body.appendChild(this.defaultNode)),(0,r.jsxs)(n.Fragment,{children:[this.props.children,l.createPortal(e,this.defaultNode)]},void 0)):this.props.children},t.defaultProps={position:"b",horizontalPosition:"center",align:"center",marginTop:0,marginLeft:0,trigger:"click",className:"",appearance:"primary"},t}(n.Component)},75683:(e,t,a)=>{"use strict";a.d(t,{ModalDeleteCall:()=>d});var i=a(70655),r=a(85893),n=a(27814),l=a(88420),s=a(33483),o=a(25685),u=a(59247),c=a(78658),d=function(e){var t,a=e.onClose,d=e.call,f=e.onSubmit,p=e.onReschedule,_=e.loading,m=(0,o.useLang)().getLang,v=(0,u.useLocale)().locale,h=new Date(1e3*((null===(t=d.schedule)||void 0===t?void 0:t.time)||0));return(0,r.jsx)(n.default,(0,i.__assign)({className:"CallsModalDeleteCall",onClose:a,title:m("calls_delete_call"),actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,(0,i.__assign)({appearance:"secondary",onClick:p},{children:m("calls_reschedule_to_other_time")}),void 0),(0,r.jsx)(l.default,(0,i.__assign)({appearance:"primary",onClick:f,disabled:!!_},{children:m("calls_delete")}),void 0)]},void 0)},{children:m("calls_delete_call_desc").replace("{name}",(0,c.shorten)(d.name||"",30)).replace("{time}",s.timeFormat.format(h)).replace("{datemonth}",(0,s.dateMonthFormat)(h,v))}),void 0)}},72382:(e,t,a)=>{"use strict";a.d(t,{ModalRescheduleCall:()=>w});var i=a(70655),r=a(85893),n=a(67294),l=a(49336),s=a(88420),o=a(73479),u=a(98037),c=a(25685),d=a(70226),f=a(93589),p=a(32997),_=a(59397),m=a(22835),v=a(95418),h=a(80905),g=a(82659),C=a(20659),b=a(4182),y=a(26075),A=a(60120),T=a(73628),E=a(45391),S=a(58108),D=a(72716),M=a(62833),U=a(7533),w=function(e){var t,a=e.onClose,w=e.onSubmit,N=e.call,k=e.loading,P=e.userSelectOptions,x=e.myUserId,R=(0,c.useLang)().getLang,I=(0,C.useOptions)(),O=I.durationOptions,L=I.calendarOptions;(0,y.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});var j=(0,U.useUserOptions)({options:P,myUserId:x}),B=(0,T.useDateTimeValues)({call:N}),V=(0,b.useTimezones)(),F=(0,E.useRRuleEndValue)((0,i.__assign)({recurrenceUntilTime:null==N?void 0:N.schedule.recurrence_until_time},B.rruleEndCtx)),G=(0,D.useRepeatCallOptions)({date:B.dateStartCtx.date,initialValue:(0,M.mapRecurrenceRule)(null===(t=null==N?void 0:N.schedule)||void 0===t?void 0:t.recurrence_rule)}),H=(0,v.useFormSelectValue)({options:L,initialValue:g.ECalendar.Other}),W=(0,m.useFormCheckboxesValues)({initialValue:!!N&&!N.skip_notification}),z=(0,n.useRef)(["ModalScheduleCall__dropdown"]),q=".CallsModalRescheduleCall";return(0,r.jsxs)(l.BaseModal,(0,i.__assign)({className:"CallsModalRescheduleCall",onClose:a,preventCloseClasses:z.current,disableBodyScroll:!0},{children:[(0,r.jsx)(o.ModalHeader,{title:R("calls_reschedule_title"),onClose:a},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalRescheduleCall__disclaimer"},{children:R("calls_reschedule_disclaimer")}),void 0),(0,r.jsx)("div",{className:(0,_.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_start_time")},void 0),(0,r.jsx)(f.DatePicker,(0,i.__assign)({},B.dateStartCtx,{disableTimeSelect:B.isAllDay,rootScrollSelector:q}),void 0)]}),void 0),(0,r.jsx)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration")},{children:O.map((function(e){return(0,r.jsx)(h.CallChip,(0,i.__assign)({value:e,onClick:B.handleChangeDuration,selected:B.duration===e.value},{children:e.label}),e.value)}))}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_end")},void 0),(0,r.jsx)(f.DatePicker,(0,i.__assign)({},B.dateEndCtx,{minDate:B.dateStartCtx.date,disabled:B.isAllDay,rootScrollSelector:q}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone")},{children:[(0,r.jsx)("span",{children:R("calls_timezone")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},V,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,_.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat")},{children:[(0,r.jsx)("div",{children:R("calls_repeat")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},G),void 0)]}),void 0),G.value!==A.ERepeatCallVariant.Never&&(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_end_of_rrule")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__select-primary__wrap"},{children:[(0,r.jsx)(S.DatePickerRruleEnd,{date:F.date,time:F.time,handleChangeDatePicker:F.handleChangeDatePicker,placeholder:F.placeholder,refDropdownTrigger:F.refDropdownTrigger,minDate:B.dateEndCtx.date,rootScrollSelector:q},void 0),(0,r.jsx)(p.default,(0,i.__assign)({},F.selectProps,{placeholder:F.placeholder,forcePlaceholder:!0}),void 0)]}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_add_to_calendar")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},H),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:R("calls_remind")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:R("calls_remind_desc")}),void 0)]},void 0),(0,r.jsx)(d.default,(0,i.__assign)({},W),void 0)]}),void 0),(0,r.jsx)(u.ModalFooter,{actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,(0,i.__assign)({appearance:"tertiary",onClick:a,disabled:!!k},{children:R("calls_cancel")}),void 0),(0,r.jsx)(s.default,(0,i.__assign)({appearance:"primary",onClick:function(){var e=j.select.value!==x?j.displayName:void 0,t={groupId:N.caller_id,name:N.name,muteAudio:N.mute_audio||g.EMediaPermission.Allowed,muteVideo:N.mute_video||g.EMediaPermission.Allowed,onlyAuthUsers:N.only_auth_users?1:0,duration:B.durationMs,start:B.startTimeMs,waitingHall:N.waiting_hall?1:0,calendar:H.value,displayName:e,timezone:V.value,rrule:G.value,skipNotification:W.checked?0:1};(null==N?void 0:N.schedule.marker_time)&&(t.markerTime=N.schedule.marker_time),G.value!==A.ERepeatCallVariant.Never&&F.value&&(t.recurrenceUntilTime=F.value.valueOf()),w(t)},disabled:!!k},{children:R("calls_reschedule_btn")}),void 0)]},void 0)},void 0)]}),void 0)}},93589:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>u});var i=a(70655),r=a(85893),n=a(67294),l=a(21284),s=a(64372),o=a(59397),u=(0,n.memo)((function(e){var t=e.minDate,a=e.disabled,n=e.disableTimeSelect,u=e.rootScrollSelector,c=void 0===u?".ModalScheduleCall .CallsModalBody .ui_scroll_outer":u,d=(0,i.__rest)(e,["minDate","disabled","disableTimeSelect","rootScrollSelector"]);return(0,r.jsx)(s.Dropdown,(0,i.__assign)({className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:function(e){return(0,r.jsx)(l.DatePicker,(0,i.__assign)({},d,{minDate:t,disableTimeSelect:n,onSubmit:e}),void 0)},position:"b",horizontalPosition:"left",rootScrollSelector:c,useFixedPosition:!0,marginTop:-24,marginLeft:-38},{children:(0,r.jsx)("span",(0,i.__assign)({className:(0,o.classNames)("ModalScheduleCall__select-text","ModalScheduleCall__select-text--datepicker",{"ModalScheduleCall__select-text--disabled":!!a})},{children:d.chosenDateText}),void 0)}),void 0)}));u.displayName="DatePickerForScheduledCall"},58108:(e,t,a)=>{"use strict";a.d(t,{DatePickerRruleEnd:()=>o});var i=a(70655),r=a(85893),n=a(67294),l=a(21284),s=a(64372),o=(0,n.memo)((function(e){var t=e.rootScrollSelector||".ModalScheduleCall .CallsModalBody";return(0,r.jsx)(s.Dropdown,(0,i.__assign)({className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:function(t){return(0,r.jsx)(l.DatePicker,{date:e.date,time:e.time,onChange:e.handleChangeDatePicker,disableTimeSelect:!0,minDate:e.minDate,onSubmit:t},void 0)},position:"b",horizontalPosition:"left",rootScrollSelector:t,useFixedPosition:!0,marginTop:-24,marginLeft:-3},{children:(0,r.jsx)("span",{ref:e.refDropdownTrigger,className:"ModalScheduleCall__select-text"},void 0)}),void 0)}));o.displayName="DatePickerRruleEnd"},37184:(e,t,a)=>{"use strict";a.d(t,{ModalScheduleCall:()=>w});var i=a(70655),r=a(85893),n=a(25685),l=a(27814),s=a(89366),o=a(67294),u=a(22835),c=a(95418),d=a(32997),f=a(70226),p=a(59397),_=a(88420),m=function(e){var t=e.description,a=e.onClose,s=e.onSubmit,o=(0,n.useLang)().getLang;return(0,r.jsx)(l.default,(0,i.__assign)({className:"CallsDialogConfirmClose",title:o("calls_confirm"),onClose:a,actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.default,(0,i.__assign)({onClick:a,appearance:"tertiary"},{children:o("calls_cancel")}),void 0),(0,r.jsx)(_.default,(0,i.__assign)({onClick:s},{children:o("calls_exit")}),void 0)]},void 0)},{children:t}),void 0)};var v=a(80905),h=a(82659),g=a(72716),C=a(4182),b=a(7533),y=a(60120),A=a(20659),T=a(26075),E=a(62833),S=a(73628),D=a(93589),M=a(45391),U=a(58108),w=function(e){var t=e.onClose,a=e.headerTitle,w=e.onSubmit,N=e.userSelectOptions,k=e.myUserId,P=e.loading,x=e.call,R=(0,n.useLang)().getLang,I=(0,A.useOptions)(),O=I.calendarOptions,L=I.durationOptions,j=I.mediaOptions,B=function(){var e=(0,i.__read)((0,o.useState)(!1),2),t=e[0],a=e[1],r=(0,o.useCallback)((function(){a(!1)}),[]);return{open:t,handleOpenDialog:(0,o.useCallback)((function(){a(!0)}),[]),handleCloseDialog:r}}(),V=B.handleCloseDialog,F=B.handleOpenDialog,G=B.open;(0,T.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});var H=function(e){var t=e.initialValue,a=e.validator,r=(0,i.__read)((0,o.useState)(t||""),2),n=r[0],l=r[1],s=(0,i.__read)((0,o.useState)(!1),2),u=s[0],c=s[1],d=(0,o.useRef)(!1),f=(0,o.useCallback)((function(e){d.current=!0,l(e.target.value)}),[]);return(0,o.useEffect)((function(){d.current&&a&&c(!a(n))}),[n,a]),{value:n,error:u,onChange:f}}({initialValue:function(){return(null==x?void 0:x.name)||R("calls_default_meeting_name")}}),W=(0,S.useDateTimeValues)({call:x}),z=(0,C.useTimezones)(),q=(0,M.useRRuleEndValue)((0,i.__assign)({recurrenceUntilTime:null==x?void 0:x.schedule.recurrence_until_time},W.rruleEndCtx)),K=(0,g.useRepeatCallOptions)({date:W.dateStartCtx.date,initialValue:(0,E.mapRecurrenceRule)(null==x?void 0:x.schedule.recurrence_rule)}),Y=(0,c.useFormSelectValue)({options:O,initialValue:h.ECalendar.Other}),J=(0,u.useFormCheckboxesValues)({initialValue:!!x&&!x.skip_notification}),Z=(0,u.useFormCheckboxesValues)({initialValue:!!(null==x?void 0:x.waiting_hall)}),$=(0,u.useFormCheckboxesValues)({initialValue:!(null==x?void 0:x.only_auth_users)}),Q=(0,c.useFormSelectValue)({options:j,initialValue:function(){return(null==x?void 0:x.mute_audio)||h.EMediaPermission.Allowed}}),X=(0,c.useFormSelectValue)({options:j,initialValue:function(){return(null==x?void 0:x.mute_video)||h.EMediaPermission.Allowed}}),ee=(0,b.useUserOptions)({options:N,myUserId:k,forceShow:!(!x||!(null==N?void 0:N.length))});return(0,r.jsxs)(r.Fragment,{children:[G&&(0,r.jsx)(m,{description:R("calls_confirm_exit_description"),onClose:V,onSubmit:t},void 0),(0,r.jsx)(l.default,(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall",{"ModalScheduleCall--custom-h":!x&&((null==N?void 0:N.length)||0)>1}),title:a,onClose:F,disableBodyScroll:!0,hasScroll:!0,actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",(0,i.__assign)({className:"ModalScheduleCall__text--muted"},{children:R("calls_will_copy_to_clipboard")}),void 0),(0,r.jsxs)("div",{children:[(0,r.jsx)(_.default,(0,i.__assign)({onClick:F,appearance:"tertiary"},{children:R("calls_cancel")}),void 0),(0,r.jsx)(_.default,(0,i.__assign)({onClick:function(){var e=ee.select.value!==k?ee.displayName:void 0,t={name:H.value.trim()||R("calls_default_meeting_name"),muteAudio:Q.value,muteVideo:X.value,onlyAuthUsers:$.checked?0:1,duration:W.durationMs,start:W.startTimeMs,waitingHall:Z.checked?1:0,calendar:Y.value,displayName:e,timezone:z.value,rrule:K.value,skipNotification:J.checked?0:1};(null==x?void 0:x.schedule.marker_time)&&(t.markerTime=x.schedule.marker_time),ee.select.value!==k&&(t.groupId=ee.select.value),K.value!==y.ERepeatCallVariant.Never&&q.value&&(t.recurrenceUntilTime=q.value.valueOf()),w(t)},disabled:P},{children:R(x?"calls_save":"calls_landing_standalone_schedule_call")}),void 0)]},void 0)]},void 0)},{children:(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__calendar"},{children:[!!ee.isShow&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row--user-select","ModalScheduleCall__calendar__row--3-cols")},{children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"ModalScheduleCall__avatar",src:ee.avatarUrl,alt:"user-avatar"},void 0)},void 0),(0,r.jsx)("div",{children:ee.displayName},void 0),(0,r.jsx)(d.default,(0,i.__assign)({},ee.select,{className:"ModalScheduleCall__select",appearance:"fancy",disabled:!!x}),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0)]},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_title")},void 0),(0,r.jsx)(s.default,{value:H.value,onChange:H.onChange,isError:H.error},void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_start_time")},void 0),(0,r.jsx)(D.DatePicker,(0,i.__assign)({},W.dateStartCtx,{disableTimeSelect:W.isAllDay}),void 0)]}),void 0),(0,r.jsx)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration")},{children:L.map((function(e){return(0,r.jsx)(v.CallChip,(0,i.__assign)({value:e,onClick:W.handleChangeDuration,selected:W.duration===e.value},{children:e.label}),e.value)}))}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_end")},void 0),(0,r.jsx)(D.DatePicker,(0,i.__assign)({},W.dateEndCtx,{minDate:W.dateStartCtx.date,disabled:W.isAllDay}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone")},{children:[(0,r.jsx)("span",{children:R("calls_timezone")},void 0),(0,r.jsx)(d.default,(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},z,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat")},{children:[(0,r.jsx)("div",{children:R("calls_repeat")},void 0),(0,r.jsx)(d.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},K),void 0)]}),void 0),K.value!==y.ERepeatCallVariant.Never&&(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_end_of_rrule")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__select-primary__wrap"},{children:[(0,r.jsx)(U.DatePickerRruleEnd,{date:q.date,time:q.time,handleChangeDatePicker:q.handleChangeDatePicker,placeholder:q.placeholder,refDropdownTrigger:q.refDropdownTrigger,minDate:W.dateEndCtx.date},void 0),(0,r.jsx)(d.default,(0,i.__assign)({},q.selectProps,{placeholder:q.placeholder,forcePlaceholder:!0}),void 0)]}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:R("calls_add_to_calendar")},void 0),(0,r.jsx)(d.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},Y),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:R("calls_remind")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:R("calls_remind_desc")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},J),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:R("calls_waiting_hall")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:R("calls_menu_waiting_hall_description")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},Z),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:R("calls_create_call_by_link_anon")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:R("calls_create_call_by_link_anon_hint_shedule")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},$),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("div",{children:R("calls_participant_menu_mute_video")},void 0),(0,r.jsx)(d.default,(0,i.__assign)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},X),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("div",{children:R("calls_microphones")},void 0),(0,r.jsx)(d.default,(0,i.__assign)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},Q),void 0)]}),void 0)]}),void 0)}),void 0)]},void 0)}},82659:(e,t,a)=>{"use strict";a.d(t,{timezones:()=>s,EDuration:()=>n,DURATION_MAP:()=>c,DURATION_LANG_MAP:()=>d,ECalendar:()=>o,EMediaPermission:()=>u,hour:()=>f,numberFormatter:()=>p,dateFormatter:()=>_,numberWithSignFormatter:()=>m});var i,r,n,l=a(82280),s={"Pacific/Niue":{id:"Pacific/Niue",title:"Ниуэ",subtitle:"UTC-11",offset:-11},"Pacific/Pago_Pago":{id:"Pacific/Pago_Pago",title:"Самоа/Паго-Паго",subtitle:"UTC-11",offset:-11},"America/Adak":{id:"America/Adak",title:"Гавайско-алеутское время/Адак",subtitle:"UTC-10",offset:-10},"Pacific/Honolulu":{id:"Pacific/Honolulu",title:"Гавайско-алеутское время/Гонолулу",subtitle:"UTC-10",offset:-10},"Pacific/Rarotonga":{id:"Pacific/Rarotonga",title:"Острова Кука/Раротонга",subtitle:"UTC-10",offset:-10},"Pacific/Tahiti":{id:"Pacific/Tahiti",title:"Таити",subtitle:"UTC-10",offset:-10},"Pacific/Marquesas":{id:"Pacific/Marquesas",title:"Маркизские о-ва",subtitle:"UTC-9",offset:-9.5},"America/Anchorage":{id:"America/Anchorage",title:"Аляска/Анкоридж",subtitle:"UTC-9",offset:-9},"America/Juneau":{id:"America/Juneau",title:"Аляска/Джуно",subtitle:"UTC-9",offset:-9},"America/Metlakatla":{id:"America/Metlakatla",title:"Аляска/Метлакатла",subtitle:"UTC-9",offset:-9},"America/Nome":{id:"America/Nome",title:"Аляска/Ном",subtitle:"UTC-9",offset:-9},"America/Sitka":{id:"America/Sitka",title:"Аляска/Ситка",subtitle:"UTC-9",offset:-9},"America/Yakutat":{id:"America/Yakutat",title:"Аляска/Якутат",subtitle:"UTC-9",offset:-9},"Pacific/Gambier":{id:"Pacific/Gambier",title:"о-ва Гамбье",subtitle:"UTC-9",offset:-9},"America/Los_Angeles":{id:"America/Los_Angeles",title:"Тихоокеанское время/Лос-Анджелес",subtitle:"UTC-8",offset:-8},"America/Tijuana":{id:"America/Tijuana",title:"Тихоокеанское время/Тихуана",subtitle:"UTC-8",offset:-8},"America/Vancouver":{id:"America/Vancouver",title:"Тихоокеанское время/Ванкувер",subtitle:"UTC-8",offset:-8},"Pacific/Pitcairn":{id:"Pacific/Pitcairn",title:"Питкэрн",subtitle:"UTC-8",offset:-8},"America/Boise":{id:"America/Boise",title:"Горное время (Северная Америка)/Бойсе",subtitle:"UTC-7",offset:-7},"America/Cambridge_Bay":{id:"America/Cambridge_Bay",title:"Горное время (Северная Америка)/Кеймбридж-Бей",subtitle:"UTC-7",offset:-7},"America/Chihuahua":{id:"America/Chihuahua",title:"Тихоокеанское мексиканское время/Чиуауа",subtitle:"UTC-7",offset:-7},"America/Creston":{id:"America/Creston",title:"Горное время (Северная Америка)/Крестон",subtitle:"UTC-7",offset:-7},"America/Dawson":{id:"America/Dawson",title:"Горное время (Северная Америка)/Доусон",subtitle:"UTC-7",offset:-7},"America/Dawson_Creek":{id:"America/Dawson_Creek",title:"Горное время (Северная Америка)/Доусон-Крик",subtitle:"UTC-7",offset:-7},"America/Denver":{id:"America/Denver",title:"Горное время (Северная Америка)/Денвер",subtitle:"UTC-7",offset:-7},"America/Edmonton":{id:"America/Edmonton",title:"Горное время (Северная Америка)/Эдмонтон",subtitle:"UTC-7",offset:-7},"America/Fort_Nelson":{id:"America/Fort_Nelson",title:"Горное время (Северная Америка)/Форт Нельсон",subtitle:"UTC-7",offset:-7},"America/Hermosillo":{id:"America/Hermosillo",title:"Тихоокеанское мексиканское время/Эрмосильо",subtitle:"UTC-7",offset:-7},"America/Inuvik":{id:"America/Inuvik",title:"Горное время (Северная Америка)/Инувик",subtitle:"UTC-7",offset:-7},"America/Mazatlan":{id:"America/Mazatlan",title:"Тихоокеанское мексиканское время/Масатлан",subtitle:"UTC-7",offset:-7},"America/Ojinaga":{id:"America/Ojinaga",title:"Горное время (Северная Америка)/Охинага",subtitle:"UTC-7",offset:-7},"America/Phoenix":{id:"America/Phoenix",title:"Горное время (Северная Америка)/Финикс",subtitle:"UTC-7",offset:-7},"America/Whitehorse":{id:"America/Whitehorse",title:"Горное время (Северная Америка)/Уайтхорс",subtitle:"UTC-7",offset:-7},"America/Yellowknife":{id:"America/Yellowknife",title:"Горное время (Северная Америка)/Йеллоунайф",subtitle:"UTC-7",offset:-7},"America/Bahia_Banderas":{id:"America/Bahia_Banderas",title:"Центральная Америка/Баия-де-Бандерас",subtitle:"UTC-6",offset:-6},"America/Belize":{id:"America/Belize",title:"Центральная Америка/Белиз",subtitle:"UTC-6",offset:-6},"America/Chicago":{id:"America/Chicago",title:"Центральная Америка/Чикаго",subtitle:"UTC-6",offset:-6},"America/Costa_Rica":{id:"America/Costa_Rica",title:"Центральная Америка/Коста-Рика",subtitle:"UTC-6",offset:-6},"America/El_Salvador":{id:"America/El_Salvador",title:"Центральная Америка/Сальвадор",subtitle:"UTC-6",offset:-6},"America/Guatemala":{id:"America/Guatemala",title:"Центральная Америка/Гватемала",subtitle:"UTC-6",offset:-6},"America/Indiana/Knox":{id:"America/Indiana/Knox",title:"Центральная Америка/Нокс",subtitle:"UTC-6",offset:-6},"America/Indiana/Tell_City":{id:"America/Indiana/Tell_City",title:"Центральная Америка/Телл-Сити",subtitle:"UTC-6",offset:-6},"America/Managua":{id:"America/Managua",title:"Центральная Америка/Манагуа",subtitle:"UTC-6",offset:-6},"America/Matamoros":{id:"America/Matamoros",title:"Центральная Америка/Матаморос",subtitle:"UTC-6",offset:-6},"America/Menominee":{id:"America/Menominee",title:"Центральная Америка/Меномини",subtitle:"UTC-6",offset:-6},"America/Merida":{id:"America/Merida",title:"Центральная Америка/Мерида",subtitle:"UTC-6",offset:-6},"America/Mexico_City":{id:"America/Mexico_City",title:"Центральная Америка/Мехико",subtitle:"UTC-6",offset:-6},"America/Monterrey":{id:"America/Monterrey",title:"Центральная Америка/Монтеррей",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Beulah":{id:"America/North_Dakota/Beulah",title:"Центральная Америка/Бойла",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Center":{id:"America/North_Dakota/Center",title:"Центральная Америка/Центр",subtitle:"UTC-6",offset:-6},"America/North_Dakota/New_Salem":{id:"America/North_Dakota/New_Salem",title:"Центральная Америка/Нью-Сейлем",subtitle:"UTC-6",offset:-6},"America/Rainy_River":{id:"America/Rainy_River",title:"Центральная Америка/Рейни-Ривер",subtitle:"UTC-6",offset:-6},"America/Rankin_Inlet":{id:"America/Rankin_Inlet",title:"Центральная Америка/Ранкин-Инлет",subtitle:"UTC-6",offset:-6},"America/Regina":{id:"America/Regina",title:"Центральная Америка/Реджайна",subtitle:"UTC-6",offset:-6},"America/Resolute":{id:"America/Resolute",title:"Центральная Америка/Резольют",subtitle:"UTC-6",offset:-6},"America/Swift_Current":{id:"America/Swift_Current",title:"Центральная Америка/Свифт-Керрент",subtitle:"UTC-6",offset:-6},"America/Tegucigalpa":{id:"America/Tegucigalpa",title:"Центральная Америка/Тегусигальпа",subtitle:"UTC-6",offset:-6},"America/Winnipeg":{id:"America/Winnipeg",title:"Центральная Америка/Виннипег",subtitle:"UTC-6",offset:-6},"Pacific/Easter":{id:"Pacific/Easter",title:"О-в Пасхи/о-в Пасхи",subtitle:"UTC-6",offset:-6},"Pacific/Galapagos":{id:"Pacific/Galapagos",title:"Галапагосские о-ва",subtitle:"UTC-6",offset:-6},"America/Atikokan":{id:"America/Atikokan",title:"Atikokan",subtitle:"UTC-5",offset:-5},"America/Bogota":{id:"America/Bogota",title:"Колумбия/Богота",subtitle:"UTC-5",offset:-5},"America/Cancun":{id:"America/Cancun",title:"Восточная Америка/Канкун",subtitle:"UTC-5",offset:-5},"America/Detroit":{id:"America/Detroit",title:"Восточная Америка/Детройт",subtitle:"UTC-5",offset:-5},"America/Eirunepe":{id:"America/Eirunepe",title:"Акри время/Эйрунепе",subtitle:"UTC-5",offset:-5},"America/Grand_Turk":{id:"America/Grand_Turk",title:"Восточная Америка/Гранд-Терк",subtitle:"UTC-5",offset:-5},"America/Guayaquil":{id:"America/Guayaquil",title:"Гуаякиль",subtitle:"UTC-5",offset:-5},"America/Havana":{id:"America/Havana",title:"Куба/Гавана",subtitle:"UTC-5",offset:-5},"America/Indiana/Indianapolis":{id:"America/Indiana/Indianapolis",title:"Indianapolis",subtitle:"UTC-5",offset:-5},"America/Indiana/Marengo":{id:"America/Indiana/Marengo",title:"Восточная Америка/Маренго",subtitle:"UTC-5",offset:-5},"America/Indiana/Petersburg":{id:"America/Indiana/Petersburg",title:"Восточная Америка/Питерсберг",subtitle:"UTC-5",offset:-5},"America/Indiana/Vevay":{id:"America/Indiana/Vevay",title:"Восточная Америка/Вевей",subtitle:"UTC-5",offset:-5},"America/Indiana/Vincennes":{id:"America/Indiana/Vincennes",title:"Восточная Америка/Винсеннес",subtitle:"UTC-5",offset:-5},"America/Indiana/Winamac":{id:"America/Indiana/Winamac",title:"Восточная Америка/Уинамак",subtitle:"UTC-5",offset:-5},"America/Iqaluit":{id:"America/Iqaluit",title:"Восточная Америка/Икалуит",subtitle:"UTC-5",offset:-5},"America/Jamaica":{id:"America/Jamaica",title:"Восточная Америка/Ямайка",subtitle:"UTC-5",offset:-5},"America/Kentucky/Louisville":{id:"America/Kentucky/Louisville",title:"Louisville",subtitle:"UTC-5",offset:-5},"America/Kentucky/Monticello":{id:"America/Kentucky/Monticello",title:"Восточная Америка/Монтиселло",subtitle:"UTC-5",offset:-5},"America/Lima":{id:"America/Lima",title:"Перу/Лима",subtitle:"UTC-5",offset:-5},"America/Nassau":{id:"America/Nassau",title:"Восточная Америка/Нассау",subtitle:"UTC-5",offset:-5},"America/New_York":{id:"America/New_York",title:"Восточная Америка/Нью-Йорк",subtitle:"UTC-5",offset:-5},"America/Nipigon":{id:"America/Nipigon",title:"Восточная Америка/Нипигон",subtitle:"UTC-5",offset:-5},"America/Panama":{id:"America/Panama",title:"Восточная Америка/Панама",subtitle:"UTC-5",offset:-5},"America/Pangnirtung":{id:"America/Pangnirtung",title:"Восточная Америка/Пангниртанг",subtitle:"UTC-5",offset:-5},"America/Port-au-Prince":{id:"America/Port-au-Prince",title:"Восточная Америка/Порт-о-Пренс",subtitle:"UTC-5",offset:-5},"America/Rio_Branco":{id:"America/Rio_Branco",title:"Акри время/Риу-Бранку",subtitle:"UTC-5",offset:-5},"America/Thunder_Bay":{id:"America/Thunder_Bay",title:"Восточная Америка/Тандер-Бей",subtitle:"UTC-5",offset:-5},"America/Toronto":{id:"America/Toronto",title:"Восточная Америка/Торонто",subtitle:"UTC-5",offset:-5},"America/Asuncion":{id:"America/Asuncion",title:"Парагвай/Асунсьон",subtitle:"UTC-4",offset:-4},"America/Barbados":{id:"America/Barbados",title:"Атлантическое время/Барбадос",subtitle:"UTC-4",offset:-4},"America/Blanc-Sablon":{id:"America/Blanc-Sablon",title:"Атлантическое время/Бланк-Саблон",subtitle:"UTC-4",offset:-4},"America/Boa_Vista":{id:"America/Boa_Vista",title:"Амазонка/Боа-Виста",subtitle:"UTC-4",offset:-4},"America/Campo_Grande":{id:"America/Campo_Grande",title:"Амазонка/Кампу-Гранди",subtitle:"UTC-4",offset:-4},"America/Caracas":{id:"America/Caracas",title:"Каракас",subtitle:"UTC-4",offset:-4},"America/Cuiaba":{id:"America/Cuiaba",title:"Амазонка/Куяба",subtitle:"UTC-4",offset:-4},"America/Curacao":{id:"America/Curacao",title:"Атлантическое время/Кюрасао",subtitle:"UTC-4",offset:-4},"America/Glace_Bay":{id:"America/Glace_Bay",title:"Атлантическое время/Глейс-Бей",subtitle:"UTC-4",offset:-4},"America/Goose_Bay":{id:"America/Goose_Bay",title:"Атлантическое время/Гус-Бей",subtitle:"UTC-4",offset:-4},"America/Guyana":{id:"America/Guyana",title:"Гайана",subtitle:"UTC-4",offset:-4},"America/Halifax":{id:"America/Halifax",title:"Атлантическое время/Галифакс",subtitle:"UTC-4",offset:-4},"America/La_Paz":{id:"America/La_Paz",title:"Ла-Пас",subtitle:"UTC-4",offset:-4},"America/Manaus":{id:"America/Manaus",title:"Амазонка/Манаус",subtitle:"UTC-4",offset:-4},"America/Martinique":{id:"America/Martinique",title:"Атлантическое время/Мартиника",subtitle:"UTC-4",offset:-4},"America/Moncton":{id:"America/Moncton",title:"Атлантическое время/Монктон",subtitle:"UTC-4",offset:-4},"America/Port_of_Spain":{id:"America/Port_of_Spain",title:"Атлантическое время/Порт-оф-Спейн",subtitle:"UTC-4",offset:-4},"America/Porto_Velho":{id:"America/Porto_Velho",title:"Амазонка/Порту-Велью",subtitle:"UTC-4",offset:-4},"America/Puerto_Rico":{id:"America/Puerto_Rico",title:"Атлантическое время/Пуэрто-Рико",subtitle:"UTC-4",offset:-4},"America/Santiago":{id:"America/Santiago",title:"Чили/Сантьяго",subtitle:"UTC-4",offset:-4},"America/Santo_Domingo":{id:"America/Santo_Domingo",title:"Атлантическое время/Санто-Доминго",subtitle:"UTC-4",offset:-4},"America/Thule":{id:"America/Thule",title:"Атлантическое время/Туле",subtitle:"UTC-4",offset:-4},"Atlantic/Bermuda":{id:"Atlantic/Bermuda",title:"Атлантическое время/Бермудские о-ва",subtitle:"UTC-4",offset:-4},"America/St_Johns":{id:"America/St_Johns",title:"Ньюфаундленд/Сент-Джонс",subtitle:"UTC-3",offset:-3.5},"America/Araguaina":{id:"America/Araguaina",title:"Бразилия/Арагуаина",subtitle:"UTC-3",offset:-3},"America/Argentina/Buenos_Aires":{id:"America/Argentina/Buenos_Aires",title:"Buenos Aires",subtitle:"UTC-3",offset:-3},"America/Argentina/Catamarca":{id:"America/Argentina/Catamarca",title:"Catamarca",subtitle:"UTC-3",offset:-3},"America/Argentina/Cordoba":{id:"America/Argentina/Cordoba",title:"Cordoba",subtitle:"UTC-3",offset:-3},"America/Argentina/Jujuy":{id:"America/Argentina/Jujuy",title:"Jujuy",subtitle:"UTC-3",offset:-3},"America/Argentina/La_Rioja":{id:"America/Argentina/La_Rioja",title:"Аргентина/Ла-Риоха",subtitle:"UTC-3",offset:-3},"America/Argentina/Mendoza":{id:"America/Argentina/Mendoza",title:"Mendoza",subtitle:"UTC-3",offset:-3},"America/Argentina/Rio_Gallegos":{id:"America/Argentina/Rio_Gallegos",title:"Аргентина/Рио-Гальегос",subtitle:"UTC-3",offset:-3},"America/Argentina/Salta":{id:"America/Argentina/Salta",title:"Аргентина/Сальта",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Juan":{id:"America/Argentina/San_Juan",title:"Аргентина/Сан-Хуан",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Luis":{id:"America/Argentina/San_Luis",title:"Аргентина/Сан-Луис",subtitle:"UTC-3",offset:-3},"America/Argentina/Tucuman":{id:"America/Argentina/Tucuman",title:"Аргентина/Тукуман",subtitle:"UTC-3",offset:-3},"America/Argentina/Ushuaia":{id:"America/Argentina/Ushuaia",title:"Аргентина/Ушуая",subtitle:"UTC-3",offset:-3},"America/Bahia":{id:"America/Bahia",title:"Бразилия/Баия",subtitle:"UTC-3",offset:-3},"America/Belem":{id:"America/Belem",title:"Бразилия/Белен",subtitle:"UTC-3",offset:-3},"America/Cayenne":{id:"America/Cayenne",title:"Кайенна",subtitle:"UTC-3",offset:-3},"America/Fortaleza":{id:"America/Fortaleza",title:"Бразилия/Форталеза",subtitle:"UTC-3",offset:-3},"America/Godthab":{id:"America/Godthab",title:"Западная Гренландия/Нуук",subtitle:"UTC-3",offset:-3},"America/Maceio":{id:"America/Maceio",title:"Бразилия/Масейо",subtitle:"UTC-3",offset:-3},"America/Miquelon":{id:"America/Miquelon",title:"Сен-Пьер и Микелон/Микелон",subtitle:"UTC-3",offset:-3},"America/Montevideo":{id:"America/Montevideo",title:"Уругвай/Монтевидео",subtitle:"UTC-3",offset:-3},"America/Paramaribo":{id:"America/Paramaribo",title:"Парамарибо",subtitle:"UTC-3",offset:-3},"America/Punta_Arenas":{id:"America/Punta_Arenas",title:"Пунта-Аренас",subtitle:"UTC-3",offset:-3},"America/Recife":{id:"America/Recife",title:"Бразилия/Ресифи",subtitle:"UTC-3",offset:-3},"America/Santarem":{id:"America/Santarem",title:"Бразилия/Сантарен",subtitle:"UTC-3",offset:-3},"America/Sao_Paulo":{id:"America/Sao_Paulo",title:"Бразилия/Сан-Паулу",subtitle:"UTC-3",offset:-3},"Antarctica/Palmer":{id:"Antarctica/Palmer",title:"Палмер",subtitle:"UTC-3",offset:-3},"Antarctica/Rothera":{id:"Antarctica/Rothera",title:"Ротера",subtitle:"UTC-3",offset:-3},"Atlantic/Stanley":{id:"Atlantic/Stanley",title:"Фолклендские о-ва/Стэнли",subtitle:"UTC-3",offset:-3},"America/Noronha":{id:"America/Noronha",title:"Фернанду-ди-Норонья/Норонья",subtitle:"UTC-2",offset:-2},"Atlantic/South_Georgia":{id:"Atlantic/South_Georgia",title:"Южная Георгия",subtitle:"UTC-2",offset:-2},"America/Scoresbysund":{id:"America/Scoresbysund",title:"Восточная Гренландия/Скорсбисунн",subtitle:"UTC-1",offset:-1},"Atlantic/Azores":{id:"Atlantic/Azores",title:"Азорские о-ва",subtitle:"UTC-1",offset:-1},"Atlantic/Cape_Verde":{id:"Atlantic/Cape_Verde",title:"Кабо-Верде",subtitle:"UTC-1",offset:-1},"Africa/Abidjan":{id:"Africa/Abidjan",title:"Абиджан",subtitle:"UTC-0",offset:0},"Africa/Accra":{id:"Africa/Accra",title:"Аккра",subtitle:"UTC-0",offset:0},"Africa/Bissau":{id:"Africa/Bissau",title:"Бисау",subtitle:"UTC-0",offset:0},"Africa/Casablanca":{id:"Africa/Casablanca",title:"Касабланка",subtitle:"UTC-0",offset:0},"Africa/El_Aaiun":{id:"Africa/El_Aaiun",title:"Эль-Аюн",subtitle:"UTC-0",offset:0},"Africa/Monrovia":{id:"Africa/Monrovia",title:"Монровия",subtitle:"UTC-0",offset:0},"Africa/Sao_Tome":{id:"Africa/Sao_Tome",title:"Сан-Томе",subtitle:"UTC-0",offset:0},"America/Danmarkshavn":{id:"America/Danmarkshavn",title:"Денмарксхавн",subtitle:"UTC-0",offset:0},"Antarctica/Troll":{id:"Antarctica/Troll",title:"Тролль",subtitle:"UTC-0",offset:0},"Atlantic/Canary":{id:"Atlantic/Canary",title:"Западная Европа/Канарские о-ва",subtitle:"UTC-0",offset:0},"Atlantic/Faroe":{id:"Atlantic/Faroe",title:"Faroe",subtitle:"UTC-0",offset:0},"Atlantic/Madeira":{id:"Atlantic/Madeira",title:"Западная Европа/Мадейра",subtitle:"UTC-0",offset:0},"Atlantic/Reykjavik":{id:"Atlantic/Reykjavik",title:"Рейкьявик",subtitle:"UTC-0",offset:0},"Europe/Dublin":{id:"Europe/Dublin",title:"Дублин",subtitle:"UTC-0",offset:0},"Europe/Lisbon":{id:"Europe/Lisbon",title:"Западная Европа/Лиссабон",subtitle:"UTC-0",offset:0},"Europe/London":{id:"Europe/London",title:"Лондон",subtitle:"UTC-0",offset:0},"Africa/Algiers":{id:"Africa/Algiers",title:"Центральная Европа/Алжир",subtitle:"UTC+1",offset:1},"Africa/Ceuta":{id:"Africa/Ceuta",title:"Центральная Европа/Сеута",subtitle:"UTC+1",offset:1},"Africa/Lagos":{id:"Africa/Lagos",title:"Западная Африка/Лагос",subtitle:"UTC+1",offset:1},"Africa/Ndjamena":{id:"Africa/Ndjamena",title:"Западная Африка/Нджамена",subtitle:"UTC+1",offset:1},"Africa/Tunis":{id:"Africa/Tunis",title:"Центральная Европа/Тунис",subtitle:"UTC+1",offset:1},"Europe/Amsterdam":{id:"Europe/Amsterdam",title:"Центральная Европа/Амстердам",subtitle:"UTC+1",offset:1},"Europe/Andorra":{id:"Europe/Andorra",title:"Центральная Европа/Андорра",subtitle:"UTC+1",offset:1},"Europe/Belgrade":{id:"Europe/Belgrade",title:"Центральная Европа/Белград",subtitle:"UTC+1",offset:1},"Europe/Berlin":{id:"Europe/Berlin",title:"Центральная Европа/Берлин",subtitle:"UTC+1",offset:1},"Europe/Brussels":{id:"Europe/Brussels",title:"Центральная Европа/Брюссель",subtitle:"UTC+1",offset:1},"Europe/Budapest":{id:"Europe/Budapest",title:"Центральная Европа/Будапешт",subtitle:"UTC+1",offset:1},"Europe/Copenhagen":{id:"Europe/Copenhagen",title:"Центральная Европа/Копенгаген",subtitle:"UTC+1",offset:1},"Europe/Gibraltar":{id:"Europe/Gibraltar",title:"Центральная Европа/Гибралтар",subtitle:"UTC+1",offset:1},"Europe/Luxembourg":{id:"Europe/Luxembourg",title:"Центральная Европа/Люксембург",subtitle:"UTC+1",offset:1},"Europe/Madrid":{id:"Europe/Madrid",title:"Центральная Европа/Мадрид",subtitle:"UTC+1",offset:1},"Europe/Malta":{id:"Europe/Malta",title:"Центральная Европа/Мальта",subtitle:"UTC+1",offset:1},"Europe/Monaco":{id:"Europe/Monaco",title:"Центральная Европа/Монако",subtitle:"UTC+1",offset:1},"Europe/Oslo":{id:"Europe/Oslo",title:"Центральная Европа/Осло",subtitle:"UTC+1",offset:1},"Europe/Paris":{id:"Europe/Paris",title:"Центральная Европа/Париж",subtitle:"UTC+1",offset:1},"Europe/Prague":{id:"Europe/Prague",title:"Центральная Европа/Прага",subtitle:"UTC+1",offset:1},"Europe/Rome":{id:"Europe/Rome",title:"Центральная Европа/Рим",subtitle:"UTC+1",offset:1},"Europe/Stockholm":{id:"Europe/Stockholm",title:"Центральная Европа/Стокгольм",subtitle:"UTC+1",offset:1},"Europe/Tirane":{id:"Europe/Tirane",title:"Центральная Европа/Тирана",subtitle:"UTC+1",offset:1},"Europe/Vienna":{id:"Europe/Vienna",title:"Центральная Европа/Вена",subtitle:"UTC+1",offset:1},"Europe/Warsaw":{id:"Europe/Warsaw",title:"Центральная Европа/Варшава",subtitle:"UTC+1",offset:1},"Europe/Zurich":{id:"Europe/Zurich",title:"Центральная Европа/Цюрих",subtitle:"UTC+1",offset:1},"Africa/Cairo":{id:"Africa/Cairo",title:"Восточная Европа/Каир",subtitle:"UTC+2",offset:2},"Africa/Johannesburg":{id:"Africa/Johannesburg",title:"Йоханнесбург",subtitle:"UTC+2",offset:2},"Africa/Juba":{id:"Africa/Juba",title:"Джуба",subtitle:"UTC+2",offset:2},"Africa/Khartoum":{id:"Africa/Khartoum",title:"Хартум",subtitle:"UTC+2",offset:2},"Africa/Maputo":{id:"Africa/Maputo",title:"Мапуту",subtitle:"UTC+2",offset:2},"Africa/Tripoli":{id:"Africa/Tripoli",title:"Восточная Европа/Триполи",subtitle:"UTC+2",offset:2},"Africa/Windhoek":{id:"Africa/Windhoek",title:"Виндхук",subtitle:"UTC+2",offset:2},"Asia/Amman":{id:"Asia/Amman",title:"Восточная Европа/Амман",subtitle:"UTC+2",offset:2},"Asia/Beirut":{id:"Asia/Beirut",title:"Восточная Европа/Бейрут",subtitle:"UTC+2",offset:2},"Asia/Damascus":{id:"Asia/Damascus",title:"Восточная Европа/Дамаск",subtitle:"UTC+2",offset:2},"Asia/Famagusta":{id:"Asia/Famagusta",title:"Фамагуста",subtitle:"UTC+2",offset:2},"Asia/Gaza":{id:"Asia/Gaza",title:"Восточная Европа/Газа",subtitle:"UTC+2",offset:2},"Asia/Hebron":{id:"Asia/Hebron",title:"Восточная Европа/Хеврон",subtitle:"UTC+2",offset:2},"Asia/Jerusalem":{id:"Asia/Jerusalem",title:"Израиль/Иерусалим",subtitle:"UTC+2",offset:2},"Asia/Nicosia":{id:"Asia/Nicosia",title:"Восточная Европа/Никосия",subtitle:"UTC+2",offset:2},"Europe/Athens":{id:"Europe/Athens",title:"Восточная Европа/Афины",subtitle:"UTC+2",offset:2},"Europe/Bucharest":{id:"Europe/Bucharest",title:"Восточная Европа/Бухарест",subtitle:"UTC+2",offset:2},"Europe/Chisinau":{id:"Europe/Chisinau",title:"Восточная Европа/Кишинев",subtitle:"UTC+2",offset:2},"Europe/Helsinki":{id:"Europe/Helsinki",title:"Восточная Европа/Хельсинки",subtitle:"UTC+2",offset:2},"Europe/Kaliningrad":{id:"Europe/Kaliningrad",title:"Восточная Европа/Калининград",subtitle:"UTC+2",offset:2},"Europe/Kiev":{id:"Europe/Kiev",title:"Восточная Европа/Киев",subtitle:"UTC+2",offset:2},"Europe/Riga":{id:"Europe/Riga",title:"Восточная Европа/Рига",subtitle:"UTC+2",offset:2},"Europe/Sofia":{id:"Europe/Sofia",title:"Восточная Европа/София",subtitle:"UTC+2",offset:2},"Europe/Tallinn":{id:"Europe/Tallinn",title:"Восточная Европа/Таллин",subtitle:"UTC+2",offset:2},"Europe/Uzhgorod":{id:"Europe/Uzhgorod",title:"Восточная Европа/Ужгород",subtitle:"UTC+2",offset:2},"Europe/Vilnius":{id:"Europe/Vilnius",title:"Восточная Европа/Вильнюс",subtitle:"UTC+2",offset:2},"Europe/Zaporozhye":{id:"Europe/Zaporozhye",title:"Восточная Европа/Запорожье",subtitle:"UTC+2",offset:2},"Africa/Nairobi":{id:"Africa/Nairobi",title:"Найроби",subtitle:"UTC+3",offset:3},"Antarctica/Syowa":{id:"Antarctica/Syowa",title:"С",subtitle:"UTC+3",offset:3},"Asia/Baghdad":{id:"Asia/Baghdad",title:"Саудовская Аравия/Багдад",subtitle:"UTC+3",offset:3},"Asia/Qatar":{id:"Asia/Qatar",title:"Саудовская Аравия/Катар",subtitle:"UTC+3",offset:3},"Asia/Riyadh":{id:"Asia/Riyadh",title:"Саудовская Аравия/Эр-Рияд",subtitle:"UTC+3",offset:3},"Europe/Istanbul":{id:"Europe/Istanbul",title:"Стамбул",subtitle:"UTC+3",offset:3},"Europe/Kirov":{id:"Europe/Kirov",title:"Киров",subtitle:"UTC+3",offset:3},"Europe/Minsk":{id:"Europe/Minsk",title:"Москва/Минск",subtitle:"UTC+3",offset:3},"Europe/Moscow":{id:"Europe/Moscow",title:"Москва",subtitle:"UTC+3",offset:3},"Europe/Simferopol":{id:"Europe/Simferopol",title:"Москва/Симферополь",subtitle:"UTC+3",offset:3},"Europe/Volgograd":{id:"Europe/Volgograd",title:"Волгоград",subtitle:"UTC+3",offset:3},"Asia/Tehran":{id:"Asia/Tehran",title:"Иран/Тегеран",subtitle:"UTC+3",offset:3.5},"Asia/Baku":{id:"Asia/Baku",title:"Азербайджан/Баку",subtitle:"UTC+4",offset:4},"Asia/Dubai":{id:"Asia/Dubai",title:"Дубай",subtitle:"UTC+4",offset:4},"Asia/Tbilisi":{id:"Asia/Tbilisi",title:"Грузия/Тбилиси",subtitle:"UTC+4",offset:4},"Asia/Yerevan":{id:"Asia/Yerevan",title:"Армения/Ереван",subtitle:"UTC+4",offset:4},"Europe/Astrakhan":{id:"Europe/Astrakhan",title:"Астрахань",subtitle:"UTC+4",offset:4},"Europe/Samara":{id:"Europe/Samara",title:"Время в Самаре/Самара",subtitle:"UTC+4",offset:4},"Europe/Saratov":{id:"Europe/Saratov",title:"Саратов",subtitle:"UTC+4",offset:4},"Europe/Ulyanovsk":{id:"Europe/Ulyanovsk",title:"Ульяновск",subtitle:"UTC+4",offset:4},"Indian/Mahe":{id:"Indian/Mahe",title:"Маэ",subtitle:"UTC+4",offset:4},"Indian/Mauritius":{id:"Indian/Mauritius",title:"Маврикий",subtitle:"UTC+4",offset:4},"Indian/Reunion":{id:"Indian/Reunion",title:"Реюньон",subtitle:"UTC+4",offset:4},"Asia/Kabul":{id:"Asia/Kabul",title:"Кабул",subtitle:"UTC+4",offset:4.5},"Antarctica/Mawson":{id:"Antarctica/Mawson",title:"Моусон",subtitle:"UTC+5",offset:5},"Asia/Aqtau":{id:"Asia/Aqtau",title:"Актау",subtitle:"UTC+5",offset:5},"Asia/Aqtobe":{id:"Asia/Aqtobe",title:"Актобе",subtitle:"UTC+5",offset:5},"Asia/Ashgabat":{id:"Asia/Ashgabat",title:"Туркменистан/Ашхабад",subtitle:"UTC+5",offset:5},"Asia/Atyrau":{id:"Asia/Atyrau",title:"Атырау",subtitle:"UTC+5",offset:5},"Asia/Dushanbe":{id:"Asia/Dushanbe",title:"Душанбе",subtitle:"UTC+5",offset:5},"Asia/Karachi":{id:"Asia/Karachi",title:"Пакистан/Карачи",subtitle:"UTC+5",offset:5},"Asia/Oral":{id:"Asia/Oral",title:"Уральск",subtitle:"UTC+5",offset:5},"Asia/Qyzylorda":{id:"Asia/Qyzylorda",title:"Кызылорда",subtitle:"UTC+5",offset:5},"Asia/Samarkand":{id:"Asia/Samarkand",title:"Узбекистан/Самарканд",subtitle:"UTC+5",offset:5},"Asia/Tashkent":{id:"Asia/Tashkent",title:"Узбекистан/Ташкент",subtitle:"UTC+5",offset:5},"Asia/Yekaterinburg":{id:"Asia/Yekaterinburg",title:"Екатеринбург",subtitle:"UTC+5",offset:5},"Indian/Kerguelen":{id:"Indian/Kerguelen",title:"Кергелен",subtitle:"UTC+5",offset:5},"Indian/Maldives":{id:"Indian/Maldives",title:"Мальдивы",subtitle:"UTC+5",offset:5},"Asia/Colombo":{id:"Asia/Colombo",title:"Коломбо",subtitle:"UTC+5",offset:5.5},"Asia/Kolkata":{id:"Asia/Kolkata",title:"Kolkata",subtitle:"UTC+5",offset:5.5},"Asia/Kathmandu":{id:"Asia/Kathmandu",title:"Kathmandu",subtitle:"UTC+5",offset:5.75},"Antarctica/Vostok":{id:"Antarctica/Vostok",title:"Восток",subtitle:"UTC+6",offset:6},"Asia/Almaty":{id:"Asia/Almaty",title:"Алматы",subtitle:"UTC+6",offset:6},"Asia/Bishkek":{id:"Asia/Bishkek",title:"Бишкек",subtitle:"UTC+6",offset:6},"Asia/Dhaka":{id:"Asia/Dhaka",title:"Бангладеш/Дакка",subtitle:"UTC+6",offset:6},"Asia/Omsk":{id:"Asia/Omsk",title:"Омск",subtitle:"UTC+6",offset:6},"Asia/Qostanay":{id:"Asia/Qostanay",title:"Костанай",subtitle:"UTC+6",offset:6},"Asia/Thimphu":{id:"Asia/Thimphu",title:"Тхимпху",subtitle:"UTC+6",offset:6},"Asia/Urumqi":{id:"Asia/Urumqi",title:"Урумчи",subtitle:"UTC+6",offset:6},"Indian/Chagos":{id:"Indian/Chagos",title:"Чагос",subtitle:"UTC+6",offset:6},"Asia/Yangon":{id:"Asia/Yangon",title:"Yangon",subtitle:"UTC+6",offset:6.5},"Indian/Cocos":{id:"Indian/Cocos",title:"Кокосовые о-ва",subtitle:"UTC+6",offset:6.5},"Antarctica/Davis":{id:"Antarctica/Davis",title:"Дейвис",subtitle:"UTC+7",offset:7},"Asia/Bangkok":{id:"Asia/Bangkok",title:"Бангкок",subtitle:"UTC+7",offset:7},"Asia/Barnaul":{id:"Asia/Barnaul",title:"Барнаул",subtitle:"UTC+7",offset:7},"Asia/Ho_Chi_Minh":{id:"Asia/Ho_Chi_Minh",title:"Ho Chi Minh",subtitle:"UTC+7",offset:7},"Asia/Hovd":{id:"Asia/Hovd",title:"Ховд",subtitle:"UTC+7",offset:7},"Asia/Jakarta":{id:"Asia/Jakarta",title:"Джакарта",subtitle:"UTC+7",offset:7},"Asia/Krasnoyarsk":{id:"Asia/Krasnoyarsk",title:"Красноярск",subtitle:"UTC+7",offset:7},"Asia/Novokuznetsk":{id:"Asia/Novokuznetsk",title:"Красноярск/Новокузнецк",subtitle:"UTC+7",offset:7},"Asia/Novosibirsk":{id:"Asia/Novosibirsk",title:"Новосибирск",subtitle:"UTC+7",offset:7},"Asia/Pontianak":{id:"Asia/Pontianak",title:"Понтианак",subtitle:"UTC+7",offset:7},"Asia/Tomsk":{id:"Asia/Tomsk",title:"Томск",subtitle:"UTC+7",offset:7},"Indian/Christmas":{id:"Indian/Christmas",title:"о-в Рождества",subtitle:"UTC+7",offset:7},"Asia/Brunei":{id:"Asia/Brunei",title:"Бруней",subtitle:"UTC+8",offset:8},"Asia/Choibalsan":{id:"Asia/Choibalsan",title:"Улан-Батор/Чойбалсан",subtitle:"UTC+8",offset:8},"Asia/Hong_Kong":{id:"Asia/Hong_Kong",title:"Гонконг",subtitle:"UTC+8",offset:8},"Asia/Irkutsk":{id:"Asia/Irkutsk",title:"Иркутск",subtitle:"UTC+8",offset:8},"Asia/Kuala_Lumpur":{id:"Asia/Kuala_Lumpur",title:"Куала-Лумпур",subtitle:"UTC+8",offset:8},"Asia/Kuching":{id:"Asia/Kuching",title:"Кучинг",subtitle:"UTC+8",offset:8},"Asia/Macau":{id:"Asia/Macau",title:"Китай/Макао",subtitle:"UTC+8",offset:8},"Asia/Makassar":{id:"Asia/Makassar",title:"Макасар",subtitle:"UTC+8",offset:8},"Asia/Manila":{id:"Asia/Manila",title:"Филиппины/Манила",subtitle:"UTC+8",offset:8},"Asia/Shanghai":{id:"Asia/Shanghai",title:"Китай/Шанхай",subtitle:"UTC+8",offset:8},"Asia/Singapore":{id:"Asia/Singapore",title:"Сингапур",subtitle:"UTC+8",offset:8},"Asia/Taipei":{id:"Asia/Taipei",title:"Тайвань/Тайбэй",subtitle:"UTC+8",offset:8},"Asia/Ulaanbaatar":{id:"Asia/Ulaanbaatar",title:"Улан-Батор",subtitle:"UTC+8",offset:8},"Australia/Perth":{id:"Australia/Perth",title:"Западная Австралия/Перт",subtitle:"UTC+8",offset:8},"Australia/Eucla":{id:"Australia/Eucla",title:"Центральная Австралия",subtitle:"UTC+8",offset:8.75},"Asia/Chita":{id:"Asia/Chita",title:"Якутск/Чита",subtitle:"UTC+9",offset:9},"Asia/Dili":{id:"Asia/Dili",title:"Дили",subtitle:"UTC+9",offset:9},"Asia/Jayapura":{id:"Asia/Jayapura",title:"Джаяпура",subtitle:"UTC+9",offset:9},"Asia/Khandyga":{id:"Asia/Khandyga",title:"Якутск/Хандыга",subtitle:"UTC+9",offset:9},"Asia/Pyongyang":{id:"Asia/Pyongyang",title:"Корея/Пхеньян",subtitle:"UTC+9",offset:9},"Asia/Seoul":{id:"Asia/Seoul",title:"Корея/Сеул",subtitle:"UTC+9",offset:9},"Asia/Tokyo":{id:"Asia/Tokyo",title:"Япония/Токио",subtitle:"UTC+9",offset:9},"Asia/Yakutsk":{id:"Asia/Yakutsk",title:"Якутск",subtitle:"UTC+9",offset:9},"Pacific/Palau":{id:"Pacific/Palau",title:"Палау",subtitle:"UTC+9",offset:9},"Australia/Adelaide":{id:"Australia/Adelaide",title:"Центральная Австралия/Аделаида",subtitle:"UTC+9",offset:9.5},"Australia/Broken_Hill":{id:"Australia/Broken_Hill",title:"Центральная Австралия/Брокен-Хилл",subtitle:"UTC+9",offset:9.5},"Australia/Darwin":{id:"Australia/Darwin",title:"Центральная Австралия/Дарвин",subtitle:"UTC+9",offset:9.5},"Antarctica/DumontDUrville":{id:"Antarctica/DumontDUrville",title:"Дюмон-д",subtitle:"UTC+10",offset:10},"Antarctica/Macquarie":{id:"Antarctica/Macquarie",title:"Восточная Австралия/Маккуори",subtitle:"UTC+10",offset:10},"Asia/Ust-Nera":{id:"Asia/Ust-Nera",title:"Владивосток/Усть-Нера",subtitle:"UTC+10",offset:10},"Asia/Vladivostok":{id:"Asia/Vladivostok",title:"Владивосток",subtitle:"UTC+10",offset:10},"Australia/Brisbane":{id:"Australia/Brisbane",title:"Восточная Австралия/Брисбен",subtitle:"UTC+10",offset:10},"Australia/Currie":{id:"Australia/Currie",title:"Восточная Австралия/Керри",subtitle:"UTC+10",offset:10},"Australia/Hobart":{id:"Australia/Hobart",title:"Восточная Австралия/Хобарт",subtitle:"UTC+10",offset:10},"Australia/Lindeman":{id:"Australia/Lindeman",title:"Восточная Австралия/Линдеман",subtitle:"UTC+10",offset:10},"Australia/Melbourne":{id:"Australia/Melbourne",title:"Восточная Австралия/Мельбурн",subtitle:"UTC+10",offset:10},"Australia/Sydney":{id:"Australia/Sydney",title:"Восточная Австралия/Сидней",subtitle:"UTC+10",offset:10},"Pacific/Chuuk":{id:"Pacific/Chuuk",title:"Chuuk",subtitle:"UTC+10",offset:10},"Pacific/Guam":{id:"Pacific/Guam",title:"Гуам",subtitle:"UTC+10",offset:10},"Pacific/Port_Moresby":{id:"Pacific/Port_Moresby",title:"Порт-Морсби",subtitle:"UTC+10",offset:10},"Australia/Lord_Howe":{id:"Australia/Lord_Howe",title:"Лорд-Хау",subtitle:"UTC+10",offset:10.5},"Antarctica/Casey":{id:"Antarctica/Casey",title:"Кейси",subtitle:"UTC+11",offset:11},"Asia/Magadan":{id:"Asia/Magadan",title:"Магадан",subtitle:"UTC+11",offset:11},"Asia/Sakhalin":{id:"Asia/Sakhalin",title:"Сахалин/о-в Сахалин",subtitle:"UTC+11",offset:11},"Asia/Srednekolymsk":{id:"Asia/Srednekolymsk",title:"Среднеколымск",subtitle:"UTC+11",offset:11},"Pacific/Bougainville":{id:"Pacific/Bougainville",title:"Бугенвиль",subtitle:"UTC+11",offset:11},"Pacific/Efate":{id:"Pacific/Efate",title:"Вануату/Эфате",subtitle:"UTC+11",offset:11},"Pacific/Guadalcanal":{id:"Pacific/Guadalcanal",title:"Гуадалканал",subtitle:"UTC+11",offset:11},"Pacific/Kosrae":{id:"Pacific/Kosrae",title:"Косрае",subtitle:"UTC+11",offset:11},"Pacific/Norfolk":{id:"Pacific/Norfolk",title:"Норфолк",subtitle:"UTC+11",offset:11},"Pacific/Noumea":{id:"Pacific/Noumea",title:"Новая Каледония/Нумеа",subtitle:"UTC+11",offset:11},"Pacific/Pohnpei":{id:"Pacific/Pohnpei",title:"Pohnpei",subtitle:"UTC+11",offset:11},"Asia/Anadyr":{id:"Asia/Anadyr",title:"Время по Анадырю/Анадырь",subtitle:"UTC+12",offset:12},"Asia/Kamchatka":{id:"Asia/Kamchatka",title:"Петропавловск-Камчатский",subtitle:"UTC+12",offset:12},"Pacific/Auckland":{id:"Pacific/Auckland",title:"Новая Зеландия/Окленд",subtitle:"UTC+12",offset:12},"Pacific/Fiji":{id:"Pacific/Fiji",title:"Фиджи",subtitle:"UTC+12",offset:12},"Pacific/Funafuti":{id:"Pacific/Funafuti",title:"Фунафути",subtitle:"UTC+12",offset:12},"Pacific/Kwajalein":{id:"Pacific/Kwajalein",title:"Кваджалейн",subtitle:"UTC+12",offset:12},"Pacific/Majuro":{id:"Pacific/Majuro",title:"Маджуро",subtitle:"UTC+12",offset:12},"Pacific/Nauru":{id:"Pacific/Nauru",title:"Науру",subtitle:"UTC+12",offset:12},"Pacific/Tarawa":{id:"Pacific/Tarawa",title:"Тарава",subtitle:"UTC+12",offset:12},"Pacific/Wake":{id:"Pacific/Wake",title:"Уэйк",subtitle:"UTC+12",offset:12},"Pacific/Wallis":{id:"Pacific/Wallis",title:"Уоллис",subtitle:"UTC+12",offset:12},"Pacific/Chatham":{id:"Pacific/Chatham",title:"Чатем",subtitle:"UTC+12",offset:12.75},"Pacific/Apia":{id:"Pacific/Apia",title:"Апиа",subtitle:"UTC+13",offset:13},"Pacific/Enderbury":{id:"Pacific/Enderbury",title:"о-в Эндербери",subtitle:"UTC+13",offset:13},"Pacific/Fakaofo":{id:"Pacific/Fakaofo",title:"Факаофо",subtitle:"UTC+13",offset:13},"Pacific/Tongatapu":{id:"Pacific/Tongatapu",title:"Тонга/Тонгатапу",subtitle:"UTC+13",offset:13},"Pacific/Kiritimati":{id:"Pacific/Kiritimati",title:"Киритимати",subtitle:"UTC+14",offset:14}};!function(e){e["1day"]="1day",e["30minutes"]="30minutes",e["45minutes"]="45minutes",e["1hour"]="1hour",e["2hours"]="2hours",e["3hours"]="3hours",e["4hours"]="4hours",e["5hours"]="5hours"}(n||(n={}));var o,u,c=((i={})[n["1day"]]=24*l.HOUR,i[n["30minutes"]]=30*l.MINUTE,i[n["45minutes"]]=45*l.MINUTE,i[n["1hour"]]=l.HOUR,i[n["2hours"]]=2*l.HOUR,i[n["3hours"]]=3*l.HOUR,i[n["4hours"]]=4*l.HOUR,i[n["5hours"]]=5*l.HOUR,i),d=((r={})[n["1day"]]="calls_day",r[n["30minutes"]]="calls_min",r[n["45minutes"]]="calls_min",r[n["1hour"]]="calls_hour",r[n["2hours"]]="calls_hour",r[n["3hours"]]="calls_hour",r[n["4hours"]]="calls_hour",r[n["5hours"]]="calls_hour",r);!function(e){e.iCloud="iCloud",e.Google="Google",e.Outlook="Outlook",e.Other="Other"}(o||(o={})),function(e){e.Allowed="unmute",e.DisabledOnEnter="mute",e.Disabled="mute_permanent"}(u||(u={}));var f=36e5,p=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),_=new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}),m=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"})},60120:(e,t,a)=>{"use strict";var i;a.d(t,{ERepeatCallVariant:()=>i}),function(e){e.Daily="daily",e.Weekly="weekly",e.WeeklyOnDayType="same_week_day",e.Monthly="monthly",e.Yearly="yearly",e.Never="never"}(i||(i={}))},73521:(e,t,a)=>{"use strict";a.d(t,{useCalendarEventDetails:()=>u});var i=a(67294),r=a(25685),n=a(59247),l=a(62833),s=a(82659),o=a(60120),u=function(e){var t=e.meParticipant,a=(0,n.useLocale)().locale,u=(0,r.useLang)().getLang,c=function(e){var t=e.locale,a=(0,i.useMemo)((function(){return"ru"===t?new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric"}):new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"long",year:"numeric"})}),[t]),r=(0,i.useMemo)((function(){return"ru"===t?new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}),[t]);return{formatter:(0,i.useMemo)((function(){var e="ru"===t?"ru-RU":"en-US";return new Intl.DateTimeFormat(e,{day:"2-digit",month:"long",year:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})}),[t]),dateFormatter:a,timeFormatter:r}}({locale:a}),d=c.dateFormatter,f=c.timeFormatter,p=c.formatter,_=(0,i.useCallback)((function(e){var t;if(!e)return"";var a="";return e.timezone&&(a=" (UTC"+s.numberWithSignFormatter.format((null===(t=s.timezones[e.timezone])||void 0===t?void 0:t.offset)||0)+")"),p.format(e.start)+a}),[u,d,f,p]);return{getDescription:(0,i.useCallback)((function(e){if(!e||!e.start)return"";var a=u("calls_name_invited").replace("{name}",e.displayName||(null==t?void 0:t.name)||"")+":\n";return e.title!==u("calls_default_meeting_name")&&(a+="«"+e.title+"»",a+="\n"),e.repeatRule!==o.ERepeatCallVariant.Never?a+=(0,l.getOptionText)(e.start,e.repeatRule,u):a+=_(e),a+="\n\n",a+=u("calls_join_by_link")+":",a+="\n",a+=e.join_link}),[t,_]),getTitle:_}}},73628:(e,t,a)=>{"use strict";a.d(t,{useDateTimeValues:()=>g});var i,r=a(70655),n=a(67294),l=a(65391),s=a(72629),o=a(82659),u=a(59397);!function(e){e.SetDuration="set-duration",e.SetDateStart="set-date-start",e.SetDateEnd="set-date-end",e.ResetStartTime="reset-start-time",e.ResetEndTime="reset-end-time",e.SetRruleEnd="set-rrule-end"}(i||(i={}));var c=function(e,t){switch(t.type){case i.SetDuration:var a=t.data;if(e.duration===a)return e;var n=function(){var t={date:e.dateStart,time:e.timeStart};if(a===o.EDuration["1day"])t.date=new Date(e.dateStart.getFullYear(),e.dateStart.getMonth(),e.dateStart.getDate()),t.time=f(t.date);else if(e.duration===o.EDuration["1day"]){var i=e.roundToNearestMinutes;t.date=(0,l.getDateProxy)({roundToNearestMinutes:i,passedDate:e.dateStart,passedTime:f(new Date)}),t.time=f(t.date)}return t}(),u=(0,s.getNextDateTime)(n.date,n.time,d({duration:a})),c=p(e.rruleDateEnd,u.date);return(0,r.__assign)((0,r.__assign)({},e),{duration:t.data,dateEnd:u.date,timeEnd:u.time,dateStart:n.date,timeStart:n.time,rruleDateEnd:c.date});case i.SetDateStart:var m=e.duration,v=t.data,h=v.date,g=v.time;u=(0,s.getNextDateTime)(h,g,d({duration:m})),c=p(e.rruleDateEnd,u.date);return(0,r.__assign)((0,r.__assign)({},e),{dateStart:h,timeStart:g,dateEnd:u.date,timeEnd:u.time,rruleDateEnd:c.date});case i.SetDateEnd:var C=e.rruleDateEnd,b=t.data;h=b.date,g=b.time,c=p(C,h);return(0,r.__assign)((0,r.__assign)({},e),{dateEnd:h,timeEnd:g,duration:void 0,rruleDateEnd:c.date});case i.ResetStartTime:var y=e.roundToNearestMinutes;C=e.rruleDateEnd,g=f(h=(0,l.getDateProxy)({roundToNearestMinutes:y})),m=e.duration===o.EDuration["1day"]?o.EDuration["30minutes"]:e.duration,c=p(C,(u=(0,s.getNextDateTime)(h,g,d({duration:m}))).date);return(0,r.__assign)((0,r.__assign)({},e),{dateStart:h,timeStart:g,dateEnd:u.date,timeEnd:u.time,duration:m,rruleDateEnd:c.date});case i.ResetEndTime:y=e.roundToNearestMinutes,C=e.rruleDateEnd,g=f(h=(0,l.getDateProxy)({roundToNearestMinutes:y})),c=p(C,h);return(0,r.__assign)((0,r.__assign)({},e),{dateEnd:h,timeEnd:g,duration:void 0,rruleDateEnd:c.date});case i.SetRruleEnd:c=_(t.data.date);return(0,r.__assign)((0,r.__assign)({},e),{rruleDateEnd:c.date,rruleTimeEnd:c.time});default:return e}};function d(e){var t,a=e.call,i=e.duration;return(0,u.isUndefined)(i)?(null===(t=null==a?void 0:a.schedule)||void 0===t?void 0:t.duration)?1e3*a.schedule.duration:0:o.DURATION_MAP[i]}function f(e){return{hours:e.getHours(),minutes:e.getMinutes()}}function p(e,t){var a={date:e,time:f(e)};if(t.valueOf()>e.valueOf()){var i=_(t);a.date=i.date}return a}function _(e){var t=(0,u.isNumber)(e)?new Date(e):e,a=new Date(t);return a.setHours(23,59,59,0),{date:a,time:f(a)}}var m=a(62833),v=a(60120),h=function(e){var t,a,i,n,u=e.call,c=u?(i=o.DURATION_MAP,n={},Object.entries(i).forEach((function(e){var t=(0,r.__read)(e,2),a=t[0],i=t[1];n[i]=a})),n)[1e3*((null===(t=u.schedule)||void 0===t?void 0:t.duration)||0)]:o.EDuration["30minutes"],f=u?new Date(1e3*((null===(a=u.schedule)||void 0===a?void 0:a.time)||0)):new Date,p=u?f:(0,l.getDateProxy)({passedDate:f,roundToNearestMinutes:30}),m={hours:p.getHours(),minutes:p.getMinutes()},v=(0,s.getNextDateTime)(p,m,d({call:u,duration:c})),h=v.date,g=v.time,C=(null==u?void 0:u.schedule.recurrence_until_time)?_(1e3*(null==u?void 0:u.schedule.recurrence_until_time)):_(h);return{duration:c,dateStart:p,timeStart:m,dateEnd:h,timeEnd:g,roundToNearestMinutes:30,rruleDateEnd:C.date,rruleTimeEnd:C.time}},g=function(e){var t,a=(0,l.useChosenDateText)().getChosenDateText,u=(0,r.__read)((0,n.useReducer)(c,e,h),2),d=u[0],f=u[1],p=d.duration===o.EDuration["1day"],_=(0,n.useMemo)((function(){var e=(0,s.getDateTimeValue)(d.dateStart,d.timeStart);return(0,s.getDateTimeValue)(d.dateEnd,d.timeEnd)-e}),[d.dateStart,d.timeStart,d.dateEnd,d.timeEnd]),g=(0,n.useMemo)((function(){return(0,s.getDateTimeValue)(d.dateStart,d.timeStart)}),[d.dateStart,d.timeStart]),C=(0,n.useCallback)((function(e){f({type:i.SetDuration,data:e.value})}),[]),b=(0,n.useMemo)((function(){var t;return{date:d.dateStart,time:d.timeStart,onChange:function(e,t){f({type:i.SetDateStart,data:{date:e,time:t}})},onReset:function(){f({type:i.ResetStartTime})},chosenDateText:a(d.dateStart,d.timeStart,p),disableDateSelect:(0,m.mapRecurrenceRule)(null===(t=e.call)||void 0===t?void 0:t.schedule.recurrence_rule)!==v.ERepeatCallVariant.Never}}),[d.dateStart,d.timeStart,p,null===(t=e.call)||void 0===t?void 0:t.schedule.recurrence_rule]),y=(0,n.useMemo)((function(){return{date:d.dateEnd,time:d.timeEnd,onChange:function(e,t){f({type:i.SetDateEnd,data:{date:e,time:t}})},onReset:function(){f({type:i.ResetEndTime})},chosenDateText:p?a(d.dateStart,d.timeStart,p):a(d.dateEnd,d.timeEnd,p)}}),[d.dateEnd,d.timeEnd,p,d.dateStart,d.timeStart]),A=(0,n.useMemo)((function(){return{date:d.rruleDateEnd,time:d.rruleTimeEnd,chosenDateText:"",onChange:function(e,t){f({type:i.SetRruleEnd,data:{date:e,time:t}})}}}),[d.rruleDateEnd,d.rruleTimeEnd]);return{dateStartCtx:b,dateEndCtx:y,duration:d.duration,handleChangeDuration:C,durationMs:_,startTimeMs:g,isAllDay:p,rruleEndCtx:A}}},20659:(e,t,a)=>{"use strict";a.d(t,{useOptions:()=>c});var i=a(70655),r=a(67294),n=a(53996),l=a(25685),s=a(78658),o=a(82280),u=a(82659),c=function(){var e=(0,l.useLang)().getLang,t=(0,r.useMemo)((function(){var t;return(t={})[u.EMediaPermission.Allowed]=e("calls_create_call_by_link_phone_option_allow_always"),t[u.EMediaPermission.DisabledOnEnter]=e("calls_create_call_by_link_phone_option_disallow_entrance"),t[u.EMediaPermission.Disabled]=e("calls_create_call_by_link_phone_option_disallow_always"),t}),[e]),a=(0,r.useMemo)((function(){var t,a,r=n.browser.os(),l=[];try{for(var o=(0,i.__values)(Object.values(u.ECalendar)),c=o.next();!c.done;c=o.next()){var d=c.value;switch(d){case u.ECalendar.Outlook:(0,s.hasIn)(r,"Windows","MacOS")&&l.push({label:d,value:d});break;case u.ECalendar.iCloud:(0,s.hasIn)(r,"MacOS")&&l.push({label:d,value:d});break;case u.ECalendar.Google:var f=e("calls_calendar").replace("{name}",u.ECalendar.Google);l.push({label:f,value:d});break;case u.ECalendar.Other:f=e("calls_will_add_to_another_calendar");l.push({label:f,value:d})}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(t)throw t.error}}return l}),[e]),c=(0,r.useMemo)((function(){return Object.keys(u.EMediaPermission).map((function(e){return{label:t[u.EMediaPermission[e]],value:u.EMediaPermission[e]}}))}),[e]),d=(0,r.useMemo)((function(){var t=function(e,t,a){switch(e){case"m":return a("calls_min",t).replace("{time}",t.toString());case"h":return a("calls_hour_v2",t).replace("{hours}",t.toString());case"d":return a("calls_all_day")}};return Object.values(u.EDuration).map((function(a){var i=u.DURATION_LANG_MAP[a],r=function(){switch(i){case"calls_min":return{value:u.DURATION_MAP[a]/o.MINUTE,type:"m"};case"calls_hour":return{value:u.DURATION_MAP[a]/o.HOUR,type:"h"};default:return{value:u.DURATION_MAP[a]/o.DAY,type:"d"}}}(),n=r.value,l=r.type;return{label:t(l,n,e),value:a}}))}),[e]);return{calendarOptions:a,durationOptions:d,mediaOptions:c}}},45391:(e,t,a)=>{"use strict";a.d(t,{useRRuleEndValue:()=>u});var i,r=a(70655),n=a(67294),l=a(95418),s=a(65391),o=a(25685);!function(e){e[e.Never=0]="Never",e[e.Date=1]="Date"}(i||(i={}));var u=function(e){var t=e.recurrenceUntilTime,a=e.date,u=e.time,c=e.onChange,d=(0,o.useLang)().getLang,f=(0,s.useChosenDateText)().getChosenDateText,p=(0,n.useRef)(null),_=(0,r.__read)((0,n.useState)(!!t),2),m=_[0],v=_[1],h=(0,n.useCallback)((function(e,t){v(!0),c(e,t)}),[c]),g=(0,n.useCallback)((function(e){var t,a;switch(e){case i.Date:null===(a=null===(t=p.current)||void 0===t?void 0:t.click)||void 0===a||a.call(t);break;case i.Never:v(!1)}}),[]),C=(0,n.useMemo)((function(){return[{value:i.Never,label:d("calls_never")},{value:i.Date,label:d(m?"calls_change_date":"calls_choose_date")}]}),[a,m]),b=(0,l.useFormSelectValue)({options:C,initialValue:function(){return t?i.Date:i.Never},onChange:g}),y=b.value===i.Date?f(a,u,!0):b.label,A=b.value===i.Date?a:null;return{date:a,time:u,handleChangeDatePicker:h,selectProps:b,refDropdownTrigger:p,placeholder:y,value:A}}},72716:(e,t,a)=>{"use strict";a.d(t,{useRepeatCallOptions:()=>o});var i=a(67294),r=a(25685),n=a(95418),l=a(60120),s=a(62833),o=function(e){var t=e.date,a=e.initialValue,o=void 0===a?l.ERepeatCallVariant.Never:a,u=(0,r.useLang)().getLang,c=(0,i.useMemo)((function(){return[{value:l.ERepeatCallVariant.Never,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.Never,u)},{value:l.ERepeatCallVariant.Daily,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.Daily,u)},{value:l.ERepeatCallVariant.Weekly,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.Weekly,u)},{value:l.ERepeatCallVariant.WeeklyOnDayType,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.WeeklyOnDayType,u)},{value:l.ERepeatCallVariant.Monthly,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.Monthly,u)},{value:l.ERepeatCallVariant.Yearly,label:(0,s.getOptionText)(t,l.ERepeatCallVariant.Yearly,u)}]}),[t]);return(0,n.useFormSelectValue)({options:c,initialValue:o})}},26075:(e,t,a)=>{"use strict";a.d(t,{useSelectTimezonesScrollOnOpen:()=>n});var i=a(70655),r=a(67294),n=function(e){var t=e.selector;(0,r.useEffect)((function(){if(window.hasOwnProperty("MutationObserver")){var e=document.querySelector("."+t),a=document.querySelector("."+t+" input");if(e&&a){var r=new MutationObserver((function(t){var a,r,n,l,s;try{for(var o=(0,i.__values)(t),u=o.next();!u.done;u=o.next()){var c=u.value;if("childList"===c.type){var d=function(t){if(!(t instanceof HTMLElement&&t.classList.contains("CallsSelect__menu")))return"continue";var a=t.querySelector(".CallsSelect__option--selected");if(!a)return"continue";var i=e.getBoundingClientRect(),r=a.getBoundingClientRect().top-i.top-i.height;requestAnimationFrame((function(){t.scrollTo({top:r})}))};try{for(var f=(n=void 0,(0,i.__values)(c.addedNodes)),p=f.next();!p.done;p=f.next()){d(p.value)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(n)throw n.error}}}else if("attributes"===c.type){if(!(c.target instanceof HTMLInputElement))continue;null===(s=e.querySelector(".CallsSelect__menu"))||void 0===s||s.scrollTo({top:0})}}}catch(e){a={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}}));return r.observe(e,{childList:!0}),r.observe(a,{attributes:!0}),function(){r.disconnect()}}}}),[t])}},4182:(e,t,a)=>{"use strict";a.d(t,{useTimezones:()=>o});var i=a(70655),r=a(67294),n=a(78658),l=a(95418),s=a(82659),o=function(e){var t,a=(void 0===e?{}:e).initialTimezone,o="ru"===((null===(t=window.langConfig)||void 0===t?void 0:t.locale)||"ru")?"title":"id",c=(0,i.__read)((0,r.useState)((function(){return(0,n.getCallable)(a)||(new Intl.DateTimeFormat).resolvedOptions().timeZone})),1)[0],d=(0,r.useMemo)((function(){var e=s.timezones[c];if(e)return{label:u(e,o),value:e.id}}),[c,o]),f=(0,r.useMemo)((function(){return(0,n.objectReduce)(s.timezones,(function(e,t){return e.push({label:u(t,o),value:t.id}),e}),[])}),[o]);return(0,l.useFormSelectValue)({options:f,initialValue:null==d?void 0:d.value})};function u(e,t){var a=e.offset>=0?"+"+e.offset:e.offset;return e[t]+", UTC"+a}},7533:(e,t,a)=>{"use strict";a.d(t,{useUserOptions:()=>l});var i=a(67294),r=a(95418),n=a(25685),l=function(e){var t=e.options,a=e.myUserId,l=e.forceShow,s=(0,n.useLang)().getLang,o=(0,i.useRef)([]),u=(0,r.useFormSelectValue)({options:t||o.current}),c=!!(l||t&&t.length>1),d=(0,i.useMemo)((function(){return u.value===a?s("calls_from_myself"):u.label}),[u.value,u.options,u.label]),f=(0,i.useMemo)((function(){var e=null==t?void 0:t.find((function(e){return e.value===u.value}));return e&&(e.profile.photo_100||e.profile.photo_50||e.profile.photo_200)||""}),[u.value,t]);return{isShow:c,select:u,displayName:d,avatarUrl:f}}},62833:(e,t,a)=>{"use strict";a.d(t,{dateToUnixTimestamp:()=>u,google:()=>f,openLinkInNewTab:()=>p,ics:()=>h,getWeekDayLang:()=>C,getOptionText:()=>b,mapRecurrenceRule:()=>A,mapGoogleIcsUrl:()=>E,getUserSelectOptions:()=>S,mapFormData:()=>M});var i=a(70655),r=a(33483),n=a(78658),l=a(60120),s=a(82659),o=a(59397),u=function(e){return"number"==typeof e?Math.round(e/1e3):Math.round(e.valueOf()/1e3)},c=function(e,t,a){void 0===t&&(t=s.hour),void 0===a&&(a=!1);var i=e.valueOf(),r=i+t;if(a){var n=60*(new Date).getTimezoneOffset()*1e3;i+=n,r+=n}return{start:u(i),end:u(r)}},d=function(e,t){var a,i="number"==typeof e?new Date(e):e;if(!t)return i;var r=60*((null===(a=s.timezones[t])||void 0===a?void 0:a.offset)||0)*60*1e3,n=60*i.getTimezoneOffset()*1e3,l=i.valueOf()-r-n;return new Date(l)},f=function(e){var t=d(e.start,e.timezone),a=c(t,e.duration,!0),i=a.end,r={action:"TEMPLATE",dates:_(1e3*a.start)+"/"+_(1e3*i),text:e.title,details:e.description,location:e.location,trp:!0},n=new URLSearchParams(r);return e.repeatRule&&n.append("recur","RRULE:"+m(e.start,e.repeatRule,e.repeatRuleEnd)),"https://calendar.google.com/calendar/render?"+n.toString()},p=function(e,t,a){void 0===a&&(a=!0);var i=document.createElement("a");i.download="VK_Calls_Meeting_"+s.dateFormatter.format(t)+".ics",Object.assign(i,{target:a?"_blank":"_self",href:e}).click(),i.remove()};function _(e){var t="number"==typeof e?new Date(e):e,a=t.getFullYear().toString();return a+=s.numberFormatter.format(t.getMonth()+1),a+=s.numberFormatter.format(t.getDate()),a+="T",a+=s.numberFormatter.format(t.getHours()),a+=s.numberFormatter.format(t.getMinutes()),a+="00Z"}function m(e,t,a){var i="";switch(t){case l.ERepeatCallVariant.Never:case void 0:break;case l.ERepeatCallVariant.Daily:i="FREQ=DAILY;INTERVAL=1";break;case l.ERepeatCallVariant.Monthly:i="FREQ=MONTHLY;BYMONTHDAY="+e.getDate()+";INTERVAL=1";break;case l.ERepeatCallVariant.Weekly:i="FREQ=WEEKLY;INTERVAL=1";break;case l.ERepeatCallVariant.WeeklyOnDayType:i=g(e)?"FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;INTERVAL=1":"FREQ=WEEKLY;BYDAY=SU,SA;INTERVAL=1";break;case l.ERepeatCallVariant.Yearly:i="FREQ=YEARLY;BYMONTH="+(e.getMonth()+1)+";BYMONTHDAY="+e.getDate()}if(a)switch(t){case l.ERepeatCallVariant.Daily:case l.ERepeatCallVariant.Monthly:case l.ERepeatCallVariant.Weekly:case l.ERepeatCallVariant.WeeklyOnDayType:case l.ERepeatCallVariant.Yearly:i+=";UNTIL="+_(a)}return i}var v=function(e){return e.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")},h=function(e){var t=v(e.description||""),a=v(e.location||""),i=c(e.start,e.duration),r=i.start,n=i.end,l=e.timezone||(new Intl.DateTimeFormat).resolvedOptions().timeZone,s=_(1e3*r),o=_(1e3*n),u=[{key:"BEGIN",value:"VCALENDAR"},{key:"VERSION",value:"2.0"},{key:"PRODID",value:"-//VK//VK Calls Web//"},{key:"CALSCALE",value:"GREGORIAN"},{key:"METHOD",value:"PUBLISH"},{key:"CLASS",value:"PUBLIC"},{key:"TZURL",value:"http://tzurl.org/zoneinfo-outlook/"+l},{key:"X-LIC-LOCATION",value:l},{key:"BEGIN",value:"VTIMEZONE"},{key:"TZID",value:l},{key:"END",value:"VTIMEZONE"},{key:"BEGIN",value:"VEVENT"},{key:"CREATED",value:s},{key:"DTSTART",value:"TZID="+l+":"+s.slice(0,-1)},{key:"DTEND",value:"TZID="+l+":"+o.slice(0,-1)},{key:"TZID",value:l},{key:"SUMMARY",value:e.title},{key:"DESCRIPTION",value:t},{key:"LOCATION",value:a},{key:"ORGANIZER",value:e.organizer},{key:"RRULE",value:m(e.start,e.repeatRule,e.repeatRuleEnd)},{key:"END",value:"VEVENT"},{key:"END",value:"VCALENDAR"}],d="";return u.forEach((function(e){if(e.value)switch(!0){case"DTSTART"===e.key:case"DTEND"===e.key:d+=e.key+";"+encodeURIComponent(e.value+"\n");break;case"ORGANIZER"==e.key:var t=e.value;d+=e.key+";"+encodeURIComponent("CN="+t.name+":MAILTO:"+t.email+"\n");break;default:d+=e.key+":"+encodeURIComponent(e.value+"\n")}})),"data:text/calendar;charset=utf8,"+d};function g(e){switch(e.getDay()){case 0:case 6:return!1;default:return!0}}var C=function(e,t){switch(e){case 0:return t("calls_on_sunday");case 1:return t("calls_on_monday");case 2:return t("calls_on_tuesday");case 3:return t("calls_on_wednesday");case 4:return t("calls_on_thursday");case 5:return t("calls_on_friday");case 6:return t("calls_on_saturday")}},b=function(e,t,a){switch(t){case l.ERepeatCallVariant.Daily:return a("calls_every_day");case l.ERepeatCallVariant.Monthly:return a("calls_day_of_each_month").replace("{date}",e.getDate());case l.ERepeatCallVariant.Weekly:return function(e,t){switch(e.getDay()){case 0:return t("calls_on_each_sunday");case 1:return t("calls_on_each_monday");case 2:return t("calls_on_each_tuesday");case 3:return t("calls_on_each_wednesday");case 4:return t("calls_on_each_thursday");case 5:return t("calls_on_each_friday");case 6:return t("calls_on_each_saturday");default:return""}}(e,a);case l.ERepeatCallVariant.WeeklyOnDayType:return(0,n.capitalize)((0,r.getTypeOfDay)(e,a));case l.ERepeatCallVariant.Yearly:return a("calls_each_year");case l.ERepeatCallVariant.Never:return a("calls_never")}},y=function(e,t){switch(t){case l.ERepeatCallVariant.WeeklyOnDayType:return g(e)?"weekdays":"weekend";case void 0:return"never";default:return t}},A=function(e){switch(e){case"weekdays":case"weekend":return l.ERepeatCallVariant.WeeklyOnDayType;case void 0:return l.ERepeatCallVariant.Never;default:return e}},T=function(e,t){return(null==e?void 0:e.location)?e.location:t("calls_default_meeting_name")},E=function(e,t){return{start:e.start,title:e.title,description:e.description,repeatRule:e.repeatRule,location:T(e,t),duration:e.duration,timezone:e.timezone,repeatRuleEnd:e.repeatRuleEnd}},S=function(e){if(e)return[{value:e.id,label:e.name,profile:(0,i.__assign)((0,i.__assign)({},e),{photo_100:e.photo})}]},D=function(e){var t,a=d(new Date(e.start),e.timezone),i=u(a),r={mute_audio:e.muteAudio,mute_video:e.muteVideo,mute_screen_sharing:e.muteVideo,name:e.name,only_auth_users:e.onlyAuthUsers,duration:(t=e.duration,Math.round(t/1e3)),time:i,recurrence_rule:y(a,e.rrule),waiting_hall:e.waitingHall};return(0,o.isUndefined)(e.groupId)||(r.group_id=e.groupId),(0,o.isUndefined)(e.skipNotification)||(r.skip_notification=e.skipNotification),e.rrule!==l.ERepeatCallVariant.Never&&((0,o.isUndefined)(e.recurrenceUntilTime)||(r.recurrence_until_time=function(e,t){if(e){var a="number"==typeof e?new Date(e):e,i=d(a,t);return u(i)}}(e.recurrenceUntilTime))),r};function M(e,t){return t?function(e,t){var a=(0,i.__assign)((0,i.__assign)({},D(e)),{call_id:t.call_id});return e.markerTime&&(a.marker_time=e.markerTime),a}(e,t):D(e)}},767:(e,t,a)=>{"use strict";a.d(t,{Description:()=>M,ScheduledCallRow:()=>U});var i=a(70655),r=a(85893),n=a(67294),l=a(87255),s=a(88420),o=a(19316),u=a(53449);const c=(0,a(63192).makeIcon)("Icon12Repost","repost_12","0 0 12 12",'<symbol fill="none" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" id="repost_12"><path d="M7.58.915 7.64.83a.6.6 0 0 1 .755-.138l.09.062 2.773 2.313.047.05a.6.6 0 0 1 0 .768l-.077.077-2.744 2.286a.6.6 0 0 1-.976-.363L7.5 5.787V4.5H4a1 1 0 0 0-.993.883L3 5.5V8a1 1 0 0 0 .883.993L4 9h4a1 1 0 0 1 .117 1.993L8 11H4a3 3 0 0 1-2.995-2.824L1 8V5.5a3 3 0 0 1 2.824-2.995L4 2.5h3.5V1.213a.6.6 0 0 1 .08-.299L7.64.83z" fill="currentColor" /></symbol>',12,12,!1,void 0);var d=a(6057),f=a(99990),p=a(24600),_=a(93047),m=a(67458),v=a(39446),h=a(81536),g=a(3065),C=a(25685),b=a(59247),y=a(59397),A=a(60120),T=a(15464),E=a(33483),S=function(e){var t=e.children,a=e.className;return(0,r.jsx)("div",(0,i.__assign)({className:(0,y.classNames)("CallsScheduledCallRowDropdownItem",a)},{children:t}),void 0)},D=function(e){var t,a=e.call,n=e.isToday,l=(0,i.__rest)(e,["call","isToday"]),o=(0,C.useLang)().getLang,c=function(){var e;return null===(e=l.onCallEnter)||void 0===e?void 0:e.call(l,a)},g=function(){var e;return null===(e=l.onCallDelete)||void 0===e?void 0:e.call(l,a)},b=function(){var e;return null===(e=l.onCallCopyText)||void 0===e?void 0:e.call(l,a)},A=function(){var e;return null===(e=l.onCallCopyLink)||void 0===e?void 0:e.call(l,a)},E=function(){var e;return null===(e=l.onCallEdit)||void 0===e?void 0:e.call(l,a)},D=function(){var e;return null===(e=l.onCallMessage)||void 0===e?void 0:e.call(l,a)},M=(t=[{id:1,text:(0,r.jsxs)(S,{children:[(0,r.jsx)(d.default,{},void 0),o("calls_landing_standalone_join")]},void 0),onClick:c},{id:2,text:(0,r.jsxs)(S,{children:[(0,r.jsx)(f.default,{},void 0),o("calls_copy_link")]},void 0),onClick:A},{id:3,text:(0,r.jsxs)(S,{children:[(0,r.jsx)(p.default,{},void 0),o("calls_copy_text")]},void 0),onClick:b},{id:4,text:(0,r.jsxs)(S,{children:[(0,r.jsx)(_.default,{},void 0),o("calls_edit_call")]},void 0),onClick:E}],(0,T.isParticipantGroup)(a.caller_id)||t.push({id:5,text:(0,r.jsxs)(S,{children:[(0,r.jsx)(m.default,{},void 0),o("calls_goto_chat")]},void 0),onClick:D}),t.push({id:6,text:(0,r.jsxs)(S,(0,i.__assign)({className:"CallsScheduledCallRowDropdownItem--red"},{children:[(0,r.jsx)(v.default,{},void 0),o("calls_delete")]}),void 0),onClick:g}),t);return(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowAsideMenu"},{children:[n&&(0,r.jsx)(s.default,(0,i.__assign)({onClick:c,appearance:"secondary",size:"s"},{children:o("calls_landing_standalone_join")}),void 0),(0,r.jsx)(u.default,(0,i.__assign)({className:"CallsScheduledCallRowDropdown",trigger:"hover",align:"right",data:M},{children:(0,r.jsx)(h.default,{className:(0,y.classNames)("CallHistoryScreen--friendsIcon","CallHistoryListItem--asidePointers","CallsScheduledCallRowDropdown__icon")},void 0)}),void 0)]}),void 0)},M=function(e){var t,a=e.call,n=e.isToday,l=e.isTomorrow,s=(0,C.useLang)().getLang,o=(0,b.useLocale)().locale,u=function(){var e,t,i,r=new Date(1e3*((null===(e=a.schedule)||void 0===e?void 0:e.time)||0));return{start:E.timeFormat.format(r),startDate:r,end:E.timeFormat.format(new Date(1e3*((null===(t=a.schedule)||void 0===t?void 0:t.time)||0)+1e3*((null===(i=a.schedule)||void 0===i?void 0:i.duration)||0)))}}(),d=function(){var e,t,i=!(!n&&!l),r=(0,E.getRepeatDescription)(u.startDate,(null===(e=a.schedule)||void 0===e?void 0:e.recurrence_rule)||"never",s,o,i),c=", ";if(!r){if(i)return"";r=(0,E.dateMonthFormat)(u.startDate,o)}return(i||(null===(t=a.schedule)||void 0===t?void 0:t.recurrence_rule)===A.ERepeatCallVariant.Daily)&&(c=" · "),""+c+r}();return(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowDescription"},{children:[(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowDescription--time"},{children:["never"!==(null===(t=a.schedule)||void 0===t?void 0:t.recurrence_rule)&&(0,r.jsx)(c,{},void 0),(0,r.jsx)("span",(0,i.__assign)({className:"CallsScheduledCallRowSubDescription"},{children:u.start+" — "+u.end+d}),void 0)]}),void 0),a.group&&(0,r.jsx)("div",{children:a.group.name},void 0)]}),void 0)},U=(0,n.memo)((function(e){var t,a,n,s=e.call,u=e.isToday,c=(0,i.__rest)(e,["call","isToday"]),d=(null===(t=s.group)||void 0===t?void 0:t.photo_50)||(null===(a=s.chat)||void 0===a?void 0:a.photo_50);return(0,r.jsx)(l.default,(0,i.__assign)({className:"CallsScheduledCallRow",selectable:!1,canBeHovered:!1,aside:(0,r.jsx)(D,(0,i.__assign)({call:s,isToday:u},c),void 0)},{children:(0,r.jsx)(o.default,{className:"CallsScheduledCallRowEntity",photo:(0,r.jsx)(g.CallPhoto,{id:(null===(n=s.chat)||void 0===n?void 0:n.peer_id)||1,photo:d,alt:s.name||"",size:"34"},void 0),title:s.name,description:(0,r.jsx)(M,{call:s,isToday:u,isTomorrow:c.isTomorrow},void 0)},void 0)}),void 0)}))},33483:(e,t,a)=>{"use strict";a.d(t,{timeFormat:()=>o,dateMonthFormat:()=>d,mapCalls:()=>g,getTypeOfDay:()=>C,getRepeatDescription:()=>y});var i=a(70655),r=a(62833),n=a(60120),l=a(78658),s=864e5,o=new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}),u=new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long"}),c=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long"}),d=function(e,t){return"ru"===t?u.format(e):c.format(e)},f=new Intl.DateTimeFormat("ru-RU",{month:"long"}),p=new Intl.DateTimeFormat("en-US",{month:"long"}),_=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},m=function(e,t){return _(e,t)&&e.getDate()===t.getDate()},v=function(e,t){var a=new Date(e.valueOf()+s);return m(a,t)},h=function(){var e=!1;return{getDayTitle:function(t,a,i,r){switch(!0){case m(t,a):return e=!0,r("calls_today")+", "+d(a,i);case v(t,a):return e=!0,r("calls_tomorrow")+", "+d(a,i);case o=t,u=a,Math.abs(o.valueOf()-u.valueOf())/s<7:return e?r("calls_five_days_tops").replace("{days}",5):r("calls_five_days_tops").replace("{days}",7);case _(t,a):return r("calls_this_month");default:var n=(0,l.capitalize)(function(e,t){return"ru"===t?f.format(e):p.format(e)}(a,i));return function(e,t){return e.getFullYear()===t.getFullYear()}(t,a)||(n+=", "+a.getFullYear()),n}var o,u}}},g=function(e){var t,a,r,n,l,s,o,u=e.now,c=e.items,d=e.locale,f=e.getLang,p=function(e){return e?null==e?void 0:e.reduce((function(e,t){var a;return(0,i.__assign)((0,i.__assign)({},e),((a={})[t.id]=t,a))}),{}):null}(e.groups),_=new Map,g=h().getDayTitle,C=new Set;if(c)try{for(var b=(0,i.__values)(c),y=b.next();!y.done;y=b.next()){var A=y.value,T=(0,i.__rest)(A,[]),E=!(!p||!T.caller_id)&&p[Math.abs(T.caller_id)];E&&(T.group=E);var S=new Date(1e3*((null===(l=T.schedule)||void 0===l?void 0:l.time)||0)),D=g(u,S,d,f);if(T.caller_id&&C.add(T.caller_id),_.has(D))(null===(s=_.get(D))||void 0===s?void 0:s.calls.has(T.call_id))||null===(o=_.get(D))||void 0===o||o.calls.set(T.call_id,T);else{var M=new Map;M.set(T.call_id,T),_.set(D,{title:D,calls:M,isToday:m(u,S)||void 0,isTomorrow:v(u,S)||void 0})}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(t)throw t.error}}var U=0,w=[];try{for(var N=(0,i.__values)(_.values()),k=N.next();!k.done;k=N.next()){var P=k.value,x=(0,i.__spreadArray)([],(0,i.__read)(P.calls.values()),!1);U+=x.length,w.push((0,i.__assign)((0,i.__assign)({},P),{calls:x}))}}catch(e){r={error:e}}finally{try{k&&!k.done&&(n=N.return)&&n.call(N)}finally{if(r)throw r.error}}return{calls:w,callerIds:C,total:U}},C=function(e,t){switch(e.getDay()){case 0:case 6:return t("calls_on_dayoffs");default:return t("calls_on_workdays")}},b=function(e,t,a){return a?"":d(e,t)+" · "},y=function(e,t,a,i,l){switch(t){case n.ERepeatCallVariant.Daily:return a("calls_daily");case n.ERepeatCallVariant.Monthly:var s=b(e,i,l);return s+=a("calls_monthly");case n.ERepeatCallVariant.Weekly:s=b(e,i,l);return s+=a("calls_on").replace("{day}",(0,r.getWeekDayLang)(e.getDay(),a));case"weekdays":case"weekend":case n.ERepeatCallVariant.WeeklyOnDayType:s=b(e,i,l);return s+=C(e,a);case n.ERepeatCallVariant.Yearly:s=b(e,i,l);return s+=a("calls_yearly");default:return""}}},32997:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var i=a(70655),r=a(85893),n=a(67294),l=a(73935),s=a(59397),o=a(89366);const u=function(e){function t(t){var a,n=e.call(this,t)||this;return n.handleMouseDown=function(e){var t=n.state.opened,a=n.props,i=a.onFocus,r=a.alwaysOpened,l=a.disabled,s=a.searchable;i&&"function"==typeof i&&i(t),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),l||r||n.toggle(!!s||!t))},n.getOptionByValue=function(e,t){for(var a=0;a<e.length;a++)if(e.hasOwnProperty(a)){var i=e[a];if("object"==typeof i){if("group"===i.type&&void 0!==i.items){var r=n.getOptionByValue(i.items||[],t);if(r)return r}if(i.value===t)return i}else if(i===t)return i}},n.setValue=function(e,t,a){a&&a.stopPropagation(),"object"==typeof t&&n.props.searchable&&(t=t.props.title);var i={value:e,label:"object"==typeof t?t:t.toString()},r={selected:i};n.fireChangeEvent(i),n.setState(r),n.props.alwaysOpened||n.toggle(!1)},n.fireChangeEvent=function(e){e!==n.state.selected&&n.props.onChange&&n.props.onChange({name:n.props.name,selected:e})},n.renderOption=function(e){var t=(0,s.classNames)("CallsSelect__option",{"CallsSelect__option--selected":e===n.state.selected}),a=void 0!==e.value?e.value:e.label||e,l=void 0!==e.label?e.label:e;return(0,r.jsx)("div",(0,i.__assign)({className:t,onClick:function(e){return n.setValue(a,l,e)},title:e.title},{children:l}),a)},n.buildMenu=function(){var e=n.state.filteredOptions.map((function(e){return"string"!=typeof e&&"group"===e.type?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__group"},{children:[e.name&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__title"},{children:e.name}),void 0),e.items&&e.items.map((function(e){return n.renderOption(e)}))]}),e.name):n.renderOption(e)}));return e.length?e:(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__noresults"},{children:n.props.searchPlaceholder}),void 0)},n.renderMenu=function(){return n.props.customMenu?n.props.customMenu(n.state.filteredOptions,n.setValue,n.state.selected):(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__menu"},{children:n.buildMenu()}),void 0)},n.filterOptions=function(e,t){var a=e.toLowerCase();return t.filter((function(e){return"string"==typeof e?e.toLowerCase().includes(a):"string"==typeof e.label?e.label.toLowerCase().includes(a):"object"==typeof e.label&&e.label.props.title.toLowerCase().indexOf(a)>=0}))},n.handleSearchType=function(e){var t=n.filterOptions(e.target.value,n.state.allOptions);n.setState({selected:{value:e.target.value,label:e.target.value},filteredOptions:t}),n.toggle(!0),n.props.onType&&n.props.onType(e.target.value)},n.handleSearchFocus=function(e){n.props.enableSearchSelectOnFocus&&e.target.select(),n.props.onInputFocus&&n.props.onInputFocus(e)},n.handleEditableType=function(e){n.setState({opened:!0}),n.props.onEdit&&n.props.onEdit(e.target.value)},n.buildControl=function(e){var t,a,l="",u=n.props,c=u.searchable,d=u.editable,f=u.inputOtherProps,p=u.placeholder,_=u.forcePlaceholder,m=(0,s.classNames)("CallsSelect__input",f&&f.className);return e&&"string"==typeof e&&(l=e),e&&"object"==typeof e&&(e&&"string"==typeof e.label&&(l=_&&"string"==typeof p&&p?p:e.label),e&&"object"==typeof e.label&&c&&(l=e.label.props.title||""),e&&"object"==typeof e.label&&!c&&(a=e.placeholder||e.label)),t=c?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)(o.default,(0,i.__assign)({placeholder:n.props.placeholder,value:l||"",onChange:n.handleSearchType.bind(n),onFocus:n.handleSearchFocus.bind(n),onBlur:function(e){var t,a;return null===(a=(t=n.props).onInputBlur)||void 0===a?void 0:a.call(t,e,n.state.filteredOptions)},disabled:n.props.disabled,isControlledOutside:!0},f,{className:m}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0):d?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)(o.default,(0,i.__assign)({placeholder:n.props.placeholder,id:n.props.id,value:l||"",onChange:n.handleEditableType,onFocus:n.props.onInputFocus,onBlur:n.props.onInputBlur,disabled:n.props.disabled,isControlledOutside:!0,autoComplete:"off"},f,{className:m}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0):(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__placeholder"},{children:l||a}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0),t},n.handleBodyKeyDown=function(e){"Escape"===e.key&&n.mounted&&n.state.opened&&!n.props.alwaysOpened&&n.toggle(!1)},n.checkRightSearchableValue=function(){var e=n.state.selected,t=n.props,a=t.options,i=t.value;if(i&&n.props.searchable){var r=n.getOptionByValue(a,i);r&&"object"==typeof r&&"object"==typeof e&&r.value!==e.value&&n.setState({selected:r,filteredOptions:a})}},n.handleDocumentClick=function(e){var t=n.state.opened,a=n.props,i=a.alwaysOpened,r=a.checkRightSearchableValue;n.mounted&&t&&!i&&n.el&&!n.el.contains(e.target)&&n.toggle(!1),r&&n.checkRightSearchableValue()},a=void 0!==t.value?t.editable&&void 0!==t.customValue?{label:t.customValue,value:t.customValue}:n.getOptionByValue(t.options,t.value):{label:n.getLabel(t),value:""},n.state={filteredOptions:t.options,allOptions:t.options,selected:a,opened:!!t.alwaysOpened},n.mounted=!0,n}return(0,i.__extends)(t,e),t.prototype.getLabel=function(e){return this.props.searchable?this.props.value||"":e.placeholder||"Select..."},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({filteredOptions:e.options,allOptions:e.options}),this.props.editable&&void 0!==e.customValue?this.setState({selected:{label:e.customValue,value:e.customValue}}):void 0!==e.value&&e.value!==this.state.selected?this.setState({selected:this.getOptionByValue(e.options,e.value)}):void 0===e.value&&this.setState({selected:{label:this.getLabel(e),value:""}})},t.prototype.componentDidMount=function(){this.el=l.findDOMNode(this),document.addEventListener("mousedown",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1),document.body.addEventListener("keydown",this.handleBodyKeyDown,!1)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.removeEventListener("mousedown",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1),document.body.removeEventListener("keydown",this.handleBodyKeyDown,!1)},t.prototype.toggle=function(e){var t=this;this.setState({opened:e},(function(){var e,a,i,r;t.state.opened?null===(a=(e=t.props).onShow)||void 0===a||a.call(e):null===(r=(i=t.props).onHide)||void 0===r||r.call(i)}))},t.prototype.render=function(){var e=this.props,t=e.className,a=e.appearance,n=e.style,l=e.searchable,o=e.editable,u=e.disabled,c=e.position,d=e.isFluid,f=e.alwaysNotEmpty,p=this.state,_=p.selected,m=p.opened,v=!f&&_&&"object"==typeof _&&!_.value||!1,h=l||o?"secondary":a,g=(0,s.classNames)("CallsSelect","CallsSelect--"+h,"CallsSelect--"+c,{"CallsSelect--opened":!!m,"CallsSelect--disabled":!!u,"CallsSelect--empty":v,"CallsSelect--isFluid":d},t),C=this.buildControl(_);return(0,r.jsxs)("div",(0,i.__assign)({className:g,style:n},{children:[C,this.state.opened&&this.renderMenu()]}),void 0)},t.defaultProps={appearance:"primary",searchPlaceholder:"No options found",searchable:!1,editable:!1,inputOtherProps:{},onShow:function(){},onHide:function(){},position:"b"},t}(n.Component)},10930:(e,t,a)=>{"use strict";a.d(t,{ConfigContext:()=>n});var i=a(67294),r=a(73674),n=(0,i.createContext)({isModalView:!0,withAnimation:!0,allowAddMembers:!1,debugLog:!1,incomingCall:!1,streaming:!0,streamingPrivacy:!0,fullHD:!1,anonymPhoto:!0,allowBanParticipant:!1,showFeedbackScreen:!1,enableVideoSlots:!1,videoSlotsCount:r.VIDEO_SLOTS_COUNT,browserWarnings:null,allowCallByName:!1,enableScreenTrack:!1,enableProducerScreenTrack:!1,allowWaitingHall:!1,allowPushToTalk:!1,badNetwork:!1,badNetworkP2P:!1,desktopAppNotification:!1,sferum:!1,lazyLoading:!1,enableDomainBender:!1,enableMultipleDevices:!1,enableP2PAudioRed:!1,enableServerAudioRed:!1,enableTranslationSplit:!1,enableNavChangeCallCollapse:!1,enableParticipantListChunk:!1})},71192:(e,t,a)=>{"use strict";a.d(t,{LangContext:()=>i});var i=(0,a(67294).createContext)({getLang:function(e){return e},langSex:function(e,t){return t},langNumeric:function(e,t){return""+t},langShortDateTime:function(e){return""+e},langShortDate:function(e){return""+e}})},40182:(e,t,a)=>{"use strict";a.d(t,{setApiWrappers:()=>n,getApiWrapper:()=>l});var i=null,r=null,n=function(e,t){i=e,r=t},l=function(e){return void 0===e&&(e=!0),e?i:r}},67921:(e,t,a)=>{"use strict";a.d(t,{isGroupCallByPeer:()=>o,isActiveGroupCallMessage:()=>u,isRequireAuthToJoin:()=>c,isWaitingHallEnabled:()=>d,getDefaultConversation:()=>f,isAuthedByGroupId:()=>p,getMediaOptions:()=>_,isIAmSpeaking:()=>m,getCallsCount:()=>v,increaseCallsCount:()=>h});var i=a(71831),r=a(73674),n=a(53996),l=a(59397),s=(a(78658),a(15464)),o=function(e){return 0===e||(0,i.isChatPeer)(e)||null===e};function u(e){return e&&e.attaches&&e.attaches[0]&&"group_call_in_progress"===e.attaches[0].type}function c(e){return e.conversationOptions.includes(n.ConversationOption.REQUIRE_AUTH_TO_JOIN)}function d(e){return e.conversationOptions.includes(n.ConversationOption.WAITING_HALL)}function f(e){return{peerId:0,canAddMembers:!0,tab:e("calls_new_call_title"),photo:r.DEFAULT_GROUP_CALL_PHOTO}}function p(e){return!!e.groupId}function _(e){var t=e.audio,a=e.video,i=[];return t&&i.push(n.MediaOption.AUDIO),a&&i.push(n.MediaOption.VIDEO),i}function m(e){return!!e.externalId&&!!e.speakers[(0,s.externalIdToString)(e.externalId)]}function v(){var e;return Number(null!==(e=l.localStorage.getItem(r.CALLS_DESKTOP_APP_NOTIFICATION))&&void 0!==e?e:0)}function h(){var e,t=Number(null!==(e=l.localStorage.getItem(r.CALLS_DESKTOP_APP_NOTIFICATION))&&void 0!==e?e:0)+1;l.localStorage.setItem(r.CALLS_DESKTOP_APP_NOTIFICATION,String(t))}},82280:(e,t,a)=>{"use strict";a.d(t,{MINUTE:()=>i,HOUR:()=>r,DAY:()=>n,WEEK:()=>l,SECOND_JS:()=>s});var i=6e4,r=60*i,n=86400,l=7*n,s=1e3},37441:(e,t,a)=>{"use strict";a.d(t,{ENavigateToConvoDirection:()=>i,isFastChatMounted:()=>s,useBoxLayerObserver:()=>u,useNavGoListener:()=>o});var i,r=a(70655),n=a(67294),l=function(){var e;return!(!(null===(e=window.reforgedME)||void 0===e?void 0:e.selectPeer)||!document.querySelector(".FCApp"))},s=function(){return e=window.location,t=e.host,a=e.pathname,!/calls\.vk\.(com|ru)/.test(t)&&!a.startsWith("/calls-standalone")&&l();var e,t,a};!function(e){e[e.Messenger=0]="Messenger",e[e.FastChat=1]="FastChat"}(i||(i={}));var o=function(e,t){(0,n.useEffect)((function(){if(!t&&l()){var a=function(e){function t(t,a,i,r){return e(t,a,i,r),!0}function a(){var e,t;return null===(t=null===(e=window.nav)||void 0===e?void 0:e.subscribeOnModuleEvaluated)||void 0===t||t.call(e,i),!0}function i(){var e,i,r,n,l,s;null===(r=null===(i=null===(e=window.cur)||void 0===e?void 0:e.nav)||void 0===i?void 0:i.push)||void 0===r||r.call(i,t),null===(s=null===(l=null===(n=window.cur)||void 0===n?void 0:n.destroy)||void 0===l?void 0:l.push)||void 0===s||s.call(l,a)}return{init:i,destroy:function(){var e,r,n,l,s,o;null===(r=null===(e=window.nav)||void 0===e?void 0:e.unsubscribeOnModuleEvaluated)||void 0===r||r.call(e,i),(null===(n=window.cur)||void 0===n?void 0:n.nav)&&Array.isArray(null===(l=window.cur)||void 0===l?void 0:l.nav)&&(window.cur.nav=window.cur.nav.filter((function(e){return e!==t}))),(null===(s=window.cur)||void 0===s?void 0:s.destroy)&&Array.isArray(null===(o=window.cur)||void 0===o?void 0:o.destroy)&&(window.cur.destroy=window.cur.destroy.filter((function(e){return e!==a})))}}}(e);return a.init(),function(){a.destroy()}}}),[e,t])},u=function(e,t){(0,n.useEffect)((function(){if(!t&&l()&&window.hasOwnProperty("MutationObserver")&&window.hasOwnProperty("boxLayer")){var a=new MutationObserver((function(t){var a,i,n=!1;try{for(var l=(0,r.__values)(t),s=l.next();!s.done;s=l.next()){var o=s.value;if("childList"===o.type)o.addedNodes.length&&(e(),n=!0);if(n)break}}catch(e){a={error:e}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}}));return a.observe(window.boxLayer,{childList:!0}),function(){a.disconnect()}}}),[e,t])}},78658:(e,t,a)=>{"use strict";a.d(t,{shallowEqual:()=>p.shallowEqual,fetchUserShortName:()=>m,convertClientData:()=>v,convertServerData:()=>h,convertCallerFromLongpoll:()=>g,convertChatFromLongpoll:()=>C,getPeerIdFromLongpoll:()=>b,isGroupCallEvent:()=>y,isAnyoneWithVideo:()=>A,calculateCallDuration:()=>T,getTextForApiErrorByCode:()=>E,getTextForServerError:()=>S,getTextForClientError:()=>D,createPayload:()=>M,isInReconnect:()=>U,compose:()=>w,exponentialRetry:()=>N,startCallRetryWrapper:()=>k,getParticipantsListLabel:()=>P,unpackState:()=>x,normalizePreviewData:()=>R,conditionalPausedPromise:()=>I,hasIn:()=>O,isEmpty:()=>L,objectFilter:()=>j,objectReduce:()=>B,objectForEach:()=>V,objectSome:()=>F,noop:()=>G,capitalize:()=>H,shorten:()=>W,getCallable:()=>z,binarySearch:()=>q});var i=a(70655),r=a(71831),n=a(67921),l=a(73674),s=a(74351),o=a(59397),u=a(88822),c=a(93385),d=a(53996),f=a(15464),p=a(35886);function _(e){var t,a=e.shortName,r=e.firstName;e.lastName;return a&&r||(a=m(r=(t=(0,i.__read)(e.name.split(" "),2))[0],t[1],e.name)),(0,i.__assign)((0,i.__assign)({},e),{peerId:+e.id,tab:e.name,shortName:a,firstName:r})}function m(e,t,a){if(e){var i=t?t.length>2?t.substring(0,1)+".":t:"";return i?e+" "+i:e}return a}function v(e){var t=(0,i.__read)(e,2),a=t[0],r=t[1],n=a&&function(e){var t=e.callInProgress,a=void 0!==t&&t,r=(0,i.__rest)(e,["callInProgress"]);return!r.call_in_progress&&a&&(r.call_in_progress=a),r}(a);return[n&&("peerId"in n?n:_(n)),r?r.map(_):[]]}function h(e){var t,a=e.items,n=e.profiles,l=void 0===n?[]:n,s=(0,i.__read)(a,1)[0],o=function(e){if(e.chat_settings){var t={peerId:e.peer.id,tab:e.chat_settings.title,name:e.chat_settings.title,canAddMembers:e.chat_settings.acl.can_invite,adminIds:e.chat_settings.admin_ids,ownerId:e.chat_settings.owner_id||-1};return e.chat_settings.photo&&(t.photo=e.chat_settings.photo.photo_100),t}return{canAddMembers:!0,peerId:e.peer.id}}(s),u=function(e){return e.map(c.normalizeUser)}(l);return[(0,i.__assign)((0,i.__assign)({},o),{tab:o.name}),(0,r.isUserPeer)(null!==(t=o.peerId)&&void 0!==t?t:0)?[(0,i.__assign)((0,i.__assign)({},u&&u.filter((function(e){return e.peerId===o.peerId}))[0]),o)]:u,s]}function g(e){var t=e.caller_info,a=t.first_name+" "+t.last_name;return{peerId:+t.user_id,name:a,tab:a,photo:t.photo_400||t.photo_200,firstName:t.first_name,lastName:t.last_name,shortName:m(t.first_name,t.last_name,a)}}function C(e){var t=e.chat_info;return{peerId:2e9+t.chat_id,tab:t.title,name:t.title,photo:t.photo_400||t.photo_200}}function b(e){var t=e.caller_info,a=e.chat_info;return a?2e9+a.chat_id:t.user_id}function y(e){return!!e.payload.chat_info}function A(e){return!!(0,f.isParticipantWithVideo)(e.localDevice)||F(e.devices,(function(e){return!(!e.wasConnected||!(0,f.isParticipantWithVideo)(e))}))}function T(e){var t=Date.now(),a=Math.max(0,Math.floor((t-e)/1e3));return 0===a?"00:00":a<=599?"0"+(0,o.formatDuration)(a):(0,o.formatDuration)(a)}function E(e,t,a){switch(+e){case l.SERVER_ERROR_MESSAGES_CALL_JOIN_NOT_ALLOWED:return a("calls_join_error_require_access");case l.SERVER_ERROR_MESSAGES_CALL_NOT_FOUND:return a("calls_join_error_text");case l.SERVER_ERROR_MESSAGES_CALL_INVALID_JOIN_LINK:return a("calls_invalid_join_link");case l.SERVER_ERROR_PRIVACY:return a("calls_privacy_error");case l.SERVER_ERROR_BUSY:return a(t?"calls_chat_busy_error":"calls_busy_error");case l.SERVER_ERROR_FLOOD_CONTROL:return a("calls_flood_error");case l.SERVER_ERROR_REQUIRE_AUTH:return a("calls_join_error_require_auth");case l.SERVER_ERROR_UNKNOWN:case l.SERVER_ERROR_INVALID_REQUEST:case l.SERVER_ERROR_INTERNAL:case l.SERVER_ERROR_OLD_RECEIVER_APP:default:return a("calls_start_error")}}function S(e,t,a){var i,r,n=0===e.search("EXTERNAL_API_ERROR"),s=e.match(/\d+/g),o=s?Number(null===(i=e.match(/\d+/g))||void 0===i?void 0:i[1]):l.CLIENT_ERROR_UNKNOWN,u=s?Number(null===(r=e.match(/\d+/g))||void 0===r?void 0:r[0]):l.CLIENT_ERROR_UNKNOWN;if(!n||Number.isNaN(o))return u===l.SDK_ERROR_AUTH?a("calls_start_error_auth"):function(e,t,a){switch(!0){case-1!==e.search("error.webrtc.auth.required"):return a("calls_join_error_require_auth");case-1!==e.search("error.webrtc.auth.banned"):case-1!==e.search("error.webrtc.participant.check.privacy"):return a("calls_join_error_banned");case-1!==e.search("error.webrtc.participant.check.killed_call"):return a("calls_join_error_killed_call");case-1!==e.search("not.found.webrtc.conversation"):return a("calls_join_error_not_found_conversation");default:return a("calls_start_error")}}(e,0,a);switch(e){case d.HangupType.CANCELED:return a("calls_hangup_error_canceled");case d.HangupType.REJECTED:return a("calls_hangup_error_rejected");case d.HangupType.REMOVED:return a("calls_hangup_error_removed");case d.HangupType.HUNGUP:return a("calls_hangup_error_hangup");case d.HangupType.MISSED:return a("calls_hangup_error_missed");case d.HangupType.BUSY:return a("calls_hangup_error_busy");case d.HangupType.FAILED:return a("calls_hangup_error_failed");case d.HangupType.NETWORK_ERROR:return a("calls_hangup_error_network_error");case d.HangupType.CALLER_IS_BLOCKED:return a("calls_hangup_error_caller_is_blocked");case d.HangupType.NOT_FRIENDS:return a("calls_hangup_error_not_friends");case d.HangupType.CALLEE_IS_OFFLINE:return a("calls_hangup_error_callee_is_offline");case d.HangupType.UNKNOWN_ERROR:return a("calls_hangup_error_unknown_error");case d.HangupType.UNSUPPORTED:return a("calls_hangup_error_unsupported");case d.HangupType.OLD_VERSION:return a("calls_hangup_error_old_version");case d.HangupType.SERVICE_DISABLED:return a("calls_hangup_error_service_disabled");case d.HangupType.EXTERNAL_API_ERROR:return a("calls_hangup_error_external_api_error");case d.HangupType.SOCKET_CLOSED:return a("calls_hangup_error_socket_closed")}return E(+o,t,a)}function D(e,t,a){return a("calls_sorry_error")}function M(e,t,a){void 0===a&&(a=0);var i={is_video:t.includes(d.MediaOption.VIDEO),chat_id:(0,r.isChatPeer)(e)?e-2e9:void 0,with_join_link:(0,n.isGroupCallByPeer)(e),join_by_link:(0,n.isGroupCallByPeer)(e),community_user_id:a};return JSON.stringify(i)}function U(e){return e.localDevice.status===d.ParticipantStatus.RECONNECT||F(e.devices,(function(e){return e.status===d.ParticipantStatus.RECONNECT}))}var w=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.reduce((function(e,t){return t(e)}),e).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))}};function N(e,t){return void 0===t&&(t={attempts:10,timeout:0}),function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.attempts>0?(0,s.pause)(t.timeout,null).then((function(){return e.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))})).catch((function(r){return!t.timeout&&(t.timeout=1),t.attempts=r.type===l.SdkErrorType.API?0:t.attempts-1,t.timeout=Math.min(2*t.timeout,300),N(e,t).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))})):Promise.reject(l.CallErrorType.CANT_REACH_API)}}var k=function(e,t){return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1)).catch((function(r){if(r.error===l.FatalError.AUTH)return e().then((function(){return t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))}));throw r}))}};function P(e,t,a,i,r,n,l){void 0===n&&(n=0),void 0===l&&(l=3);var s=function(e){return(0,u.decodeHTMLEntities)(a(e)||"")};if(0===n&&e.length>0&&(n=e.length),n>t.length){var o=n-t.length,c=e.slice(0,l).map(s).join(", ");return r(o,"calls_members_list_label",i("calls_members_list_label",o)).replace("{name}",c)}if(t.length>1){var d=t.length>2?e.slice(0,2).map(s).join(", "):s(e[0]),f=s(e[t.length-1]);return i("calls_and").replace("{before}",d).replace("{after}",f)}return 1===t.length?s(e[0]):""}function x(e){return"current"in e?e.current:e}function R(e,t){var a=t.join_link,r=t.preview,n=t.profiles,s=t.anonyms,o=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(s),!1),(0,i.__read)(n),!1).map(c.normalizeUser);return{joinLink:a,title:r.title,membersCount:r.members_count,photo_100:r.photo.photo_100,photo_200:r.photo.photo_200,members:o,conversationData:{peerId:0,canAddMembers:!0,tab:e("calls_new_call_title"),photo:l.DEFAULT_GROUP_CALL_PHOTO}}}var I=function(e){return"number"!=typeof e||Number.isNaN(e)?Promise.resolve():(0,s.pause)(e,void 0)},O=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return t.includes(e)},L=function(e){switch(typeof e){case"boolean":case"string":case"undefined":case"number":return!e;case"function":case"bigint":case"symbol":return!0;case"object":return null!==e&&(Array.isArray(e)?!e.length:!Object.keys(e).length)}},j=function(e,t){var a=[];for(var i in e)e.hasOwnProperty(i)&&t(e[i])&&a.push(e[i]);return a},B=function(e,t,a){var i=a;for(var r in e)e.hasOwnProperty(r)&&(i=t(i,e[r]));return i},V=function(e,t){for(var a in e)e.hasOwnProperty(a)&&t(e[a])};function F(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return!0;return!1}var G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},H=function(e){var t;return e.length?(null===(t=e.charAt(0))||void 0===t?void 0:t.toLocaleUpperCase())+e.slice(1):""},W=function(e,t){return e.length<=t?e:e.slice(0,Math.max(t-3,0)).trim().concat("...")},z=function(e){return"function"==typeof e?e():e};function q(e,t){for(var a=0,i=e.length,r=!1;a<i;){var n=Math.floor((a+i)/2),l=t(e[n],n);l>0?a=n+1:(i=n,r=!l)}return r?a:~a}},95098:(e,t,a)=>{"use strict";a.d(t,{getHistoryCallPeerId:()=>r,getCurrentCallPeerId:()=>n,getCurrentCallOwner:()=>l,getHistoryItemOwner:()=>s});var i=a(73674);function r(e){var t,a=e.chat,r=e.user_ids,n=e.items,l=0;return a?a.id&&(l=i.CHAT_PEER_ID_OFFSET+a.id):r.length?l=r[0]:(null==n?void 0:n.length)&&(null===(t=n[0])||void 0===t?void 0:t.chat)&&n[0].chat.id&&(l=i.CHAT_PEER_ID_OFFSET+n[0].chat.id),l}function n(e){var t=0;return(null==e?void 0:e.chat)?t=i.CHAT_PEER_ID_OFFSET+e.chat.id:e.user_ids.length&&(t=e.user_ids[0]),t}function l(e,t){var a=e.chat,i=e.user_ids,r=void 0;if(!a&&i.length){var n=i[0];n in t&&(r=t[n])}return{member:r,chat:a}}function s(e,t){var a,i,r=e.chat,n=e.user_ids,l=e.items,s=void 0;if(!r)if(n.length){var o=n[0];o in t&&(s=t[o])}else(null==l?void 0:l.length)&&(null===(a=l[0])||void 0===a?void 0:a.chat)&&(r=null===(i=l[0])||void 0===i?void 0:i.chat);return{member:s,chat:r}}},71154:(e,t,a)=>{"use strict";a.d(t,{handlePromiseError:()=>n});var i=a(70655),r=a(53996),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.debugMessage.apply(void 0,(0,i.__spreadArray)([r.DebugMessageType.ERROR],(0,i.__read)(e),!1))}},15464:(e,t,a)=>{"use strict";a.d(t,{PARTICIPANTS_LIST_BUFFER_SIZE:()=>d,isParticipantAnonym:()=>f,isParticipantGroup:()=>p,getParticipantExternalId:()=>_,getParticipantActions:()=>v,isParticipantInCall:()=>h,isParticipantUnavailableToCallFromGroup:()=>g,getCallVisibleParticipant:()=>C,getActiveDevices:()=>y,getActiveParticipantsCount:()=>A,getParticipantsInfo:()=>T,getNonAnonymousConnectParticipantsCount:()=>E,canPinParticipants:()=>M,isAdmin:()=>U,isCreator:()=>w,canMuteParticipants:()=>N,getRaisedHands:()=>P,kickParticipant:()=>x,participantIsChatAdmin:()=>R,participantIsAdmin:()=>I,isMutedPermanently:()=>O,getMeId:()=>L,getStream:()=>j,isParticipantWithVideo:()=>B,getOrator:()=>V,externalIdToString:()=>F,getPeerIdDeviceInfo:()=>G,isSameExternalId:()=>H,someDeviceByParticipant:()=>z,getActiveDevicesCount:()=>K,getDefaultExternalId:()=>Y,getSelectedDevice:()=>J,isCallHaveOtherParticipants:()=>Z,convertParticipantStateFromSDK:()=>$,toggleScreenSharing:()=>Q});var i=a(70655),r=a(73674),n=a(67921),l=a(53996),s=a(73294),o=a(78658),u=a(17179),c=a(37441),d={ORATOR:30,GRID:60},f=function(e){var t="object"==typeof e?+e.id:e;return t>-19e8&&t<-189e7},p=function(e){return e<0&&e>-1e9},_=function(e){return(null==e?void 0:e.peerId)?f(e.peerId)?e.peerId.toString():{id:e.peerId.toString(),type:l.ExternalIdType.USER}:null},m={},v=function(e){var t=e.state,a=e.SDK,i=e.dispatch,u=e.participant,d=e.addProfileLink,v=e.getLang,h=e.navigateToConvo,g=e.navigateToProfile,C=e.separatedList,b=void 0!==C&&C,y=e.device,A=y?F(y.externalId):u.peerId,T=t.groupId?u.peerId===t.groupId:u.peerId===t.me,E=y?H(y.externalId,t.externalId):T,S=f(u.peerId),P=(0,n.isGroupCallByPeer)(t.peer),x=!!t.groupId,R=[],I=[],O=t.config.isModalView,L=p(u.peerId);if(E||!d||S||void 0===g||R.push({key:u.link,text:v(L?"calls_go_to_community":"calls_go_to_profile"),onClick:function(e){g(e,u.link)}}),E||S||f(t.me)||void 0===h||x||R.push({text:v(L?"calls_go_to_chat_with_community":"calls_go_to_chat_with_participant"),onClick:function(){var e=function(e,t){if(e.peerId)return e.peerId;if(!(null==t?void 0:t.externalId.id))return null;return+(null==t?void 0:t.externalId.id)}(u,y);e?h(e)!==c.ENavigateToConvoDirection.FastChat&&(O&&i({type:r.E_ACTION.CHANGE_UI_MODE,mode:r.UIMode.COLLAPSED}),i({type:r.E_ACTION.MANAGEMENT,isOpen:!1})):(0,l.debugMessage)(l.DebugMessageType.ERROR,{text:"[getPeerId] returned id: 0",peerId:e})}}),!T&&P&&!f(t.me)&&(U(t.localDevice)||w(t.localDevice))&&!w(u)){var j={negative:!0,text:v("calls_participant_menu_kick"),onClick:function(){i({type:r.E_ACTION.TOGGLE_PARTICIPANTS_KICK,data:{type:r.KickParticipantType.CALL,participant:u}})}};b?I.push(j):R.push(j)}if(!E&&P&&!f(t.me)&&N(t.localDevice)&&y&&(R.push({text:v("calls_participant_menu_mute_audio"),onClick:function(){i({type:r.E_ACTION.TOGGLE_PARTICIPANTS_MANAGEMENT,data:{mode:r.ParticipantsManagementMode.SINGLE_AUDIO,device:y}})}}),R.push({text:v("calls_participant_menu_mute_video"),onClick:function(){i({type:r.E_ACTION.TOGGLE_PARTICIPANTS_MANAGEMENT,data:{mode:r.ParticipantsManagementMode.SINGLE_VIDEO,device:y}})}})),E||P||f(t.me)||!N(t.localDevice)||R.push({text:v("calls_participant_menu_mute"),onClick:function(){var e=function(e){var t;a.muteParticipant(e.externalId,(t={},t[l.MediaOption.AUDIO]=l.MuteState.MUTE,t)).catch(console.log)};y?e(y):q(u,e)}}),E||!P||f(t.me)||!N(t.localDevice)||function(e){return z(e,(function(e){if((0,o.isEmpty)(e.mediaSettings))return!1;var t=e.mediaSettings,a=t.isAudioEnabled,i=t.isVideoEnabled,r=t.isScreenSharingEnabled;return!(!a||!i&&!r)}))}(u)||R.push({text:v("calls_participant_menu_enable_media_request"),onClick:function(){var e=function(e){a.muteParticipant(e.externalId,{},[l.MediaOption.AUDIO,l.MediaOption.VIDEO,l.MediaOption.SCREEN_SHARING]).catch(console.log),s.callStats.logEvent({call_event_type:r.CallActionEventType.ASK_USER_TO_UNMUTE,session_id:t.callData.callId,peer_id:t.peer,is_group_call:(0,n.isGroupCallByPeer)(t.peer)})};y?e(y):q(u,e)}}),E||!P||f(t.me)||f(u.peerId)||!k(t.localDevice)||U(u)||w(u)||!z(u,(function(e){return e.status===l.ParticipantStatus.CONNECTED}))||R.push({text:v("calls_participant_menu_assign_admin_role"),onClick:function(){i({type:r.E_ACTION.TOGGLE_ADMIN_ASSIGNMENT,data:{participant:u}})}}),!T&&P&&!f(t.me)&&k(t.localDevice)&&U(u)&&R.push({text:v("calls_participant_menu_revoke_admin_role"),onClick:function(){var e=_(u);e&&(a.grantRoles(e,[l.UserRole.ADMIN],!0).then((function(){i({type:r.E_ACTION.CHANGE_PARTICIPANT_ROLES,participantId:u.peerId,data:(u.roles||[]).filter((function(e){return e!==l.UserRole.ADMIN}))})})).catch(console.log),s.callStats.logEvent({call_event_type:r.CallActionEventType.RETRIEVE_ADMIN,session_id:t.callData.callId,peer_id:t.peer,is_group_call:(0,n.isGroupCallByPeer)(t.peer)}))}}),P&&!f(t.me)&&M(t.localDevice)&&!D(t.adminPinnedParticipant,y||u)&&R.push({text:v("calls_participant_menu_pin"),onClick:function(){var e=function(e){a.pinParticipant(e.externalId,!1).then((function(){i({type:r.E_ACTION.SET_ADMIN_PINNED_PARTICIPANT,data:e.externalId}),i({type:r.E_ACTION.TOGGLE_ORATOR_MODE,isOratorMode:!0})})).catch(console.log),s.callStats.logEvent({call_event_type:r.CallActionEventType.ADMIN_PIN,session_id:t.callData.callId,peer_id:t.peer,is_group_call:(0,n.isGroupCallByPeer)(t.peer)})};y?e(y):q(u,e)}}),P&&!f(t.me)&&M(t.localDevice)&&D(t.adminPinnedParticipant,y||u)&&R.push({text:v("calls_participant_menu_pin_cancel"),onClick:function(){var e=function(e){a.pinParticipant(e.externalId,!0).then((function(){i({type:r.E_ACTION.SET_ADMIN_PINNED_PARTICIPANT,data:null})})).catch(console.log),s.callStats.logEvent({call_event_type:r.CallActionEventType.ADMIN_UNPIN,session_id:t.callData.callId,peer_id:t.peer,is_group_call:(0,n.isGroupCallByPeer)(t.peer)})};y?e(y):q(u,e)}}),b&&I.length>0&&(R.push({separator:!0}),R=R.concat(I)),m[A]){var B=R.length===m[A].length;if(B)for(var V=0;V<R.length;V++)if(R[V].key!==m[A][V].key||R[V].text!==m[A][V].text){B=!1;break}B?R=m[A]:m[A]=R}else m[A]=R;return R},h=function(e,t){if(t===e.me)return!0;var a=e.participants[t];return!!a&&z(a,(function(e){return!!e.status}))},g=function(e,t){return!!e.unableToCallGroupMembersIds&&e.unableToCallGroupMembersIds.indexOf(t)>-1};function C(e,t){var a=(0,n.isGroupCallByPeer)(e.peer)?W(e.adminPinnedParticipant,e.screenSharingPinnedParticipant,e.pinnedParticipant,e.orator):e.peer,r=null;if(null!==a&&(r="object"==typeof a?F(a):a.toString()),r&&e.devices[r])return e.devices[r];var l=null;for(var s in e.devices)if(e.devices.hasOwnProperty(s)){var o=e.devices[s];if(!H(o.externalId,e.externalId)&&o.wasConnected&&(l||(l=o),!t||B(o)))return o}return l||(l=(0,i.__assign)((0,i.__assign)({},e.localDevice),{externalId:e.externalId||Y()})),l}var b=[];function y(e){var t=e.devices,a=e.adminPinnedParticipant,r=[],n=[],l=[],s=[],u=[],c=[],d=function(t){var i,o,d,f;t.status&&((null===(o=null===(i=t.statusData)||void 0===i?void 0:i.hand)||void 0===o?void 0:o.state)?r.push(t):H(t.externalId,a)?n.push(t):H(t.externalId,e.externalId)?l.push(t):(null===(d=t.mediaSettings)||void 0===d?void 0:d.isScreenSharingEnabled)?s.push(t):(null===(f=t.mediaSettings)||void 0===f?void 0:f.isVideoEnabled)?u.push(t):c.push(t))};(0,o.objectForEach)(t,d),e.externalId&&d((0,i.__assign)((0,i.__assign)({},e.localDevice),{externalId:e.externalId}));var f=(0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(r.sort((function(e,t){var a,i,r,n,l,s;return(null!==(r=null===(i=null===(a=e.statusData)||void 0===a?void 0:a.hand)||void 0===i?void 0:i.ts)&&void 0!==r?r:0)-(null!==(s=null===(l=null===(n=null==t?void 0:t.statusData)||void 0===n?void 0:n.hand)||void 0===l?void 0:l.ts)&&void 0!==s?s:0)}))),!1),(0,i.__read)(n),!1),(0,i.__read)(l),!1),(0,i.__read)(s),!1),(0,i.__read)(u),!1),(0,i.__read)(c),!1);if(f.length!==b.length)b=f;else for(var p=0;p<f.length;p++)if(f[p]!==b[p]){b=f;break}return{activeDevices:b}}function A(e){var t=e.participants,a=0;for(var i in t)t.hasOwnProperty(i)&&S(e.me,t[i])&&a++;return a}var T=function(e){var t,a=e.excludeAnonymFromCount,i=e.participants,r=e.me,n={membersCount:0,creatorPeerId:0};for(var s in i)i.hasOwnProperty(s)&&(!n.creatorPeerId&&(null===(t=i[s].roles)||void 0===t?void 0:t.includes(l.UserRole.CREATOR))&&(n.creatorPeerId=+s),a&&f(+s)||S(r,i[s])&&n.membersCount++);return n};function E(){var e=u.GlobalStore.getCallsState(),t=e.devices,a=e.participants,i=e.me;return(0,o.objectReduce)(t,(function(e,t){if(+t.externalId.id===i)return e;if(t.status!==l.ParticipantStatus.CONNECTED)return e;if(f(t.externalId))return e;var r=a[t.externalId.id];return(U(r)||w(r))&&e.admins++,e.users++,e}),{users:0,admins:0})}function S(e,t){return t.peerId===e||z(t,(function(e){return!!e.status}))}function D(e,t){return"externalId"in t?H(e,t.externalId):!(null===e||!t.peerId)&&e.id===t.peerId.toString()}function M(e){return U(e)||w(e)}function U(e){return!!(null==e?void 0:e.roles)&&e.roles.some((function(e){return e===l.UserRole.ADMIN}))}function w(e){return!!(null==e?void 0:e.roles)&&e.roles.some((function(e){return e===l.UserRole.CREATOR}))}function N(e){return!!e.roles&&(w(e)||U(e))}function k(e){return!!e.roles&&(w(e)||U(e))}function P(e,t,a){var i,r=a?Object.keys(a).length:(0,o.objectReduce)(e,(function(e,t){var a,i;return t.status&&(null===(i=null===(a=t.statusData)||void 0===a?void 0:a.hand)||void 0===i?void 0:i.state)&&e++,e}),0);return(null===(i=t.statusData.hand)||void 0===i?void 0:i.state)?r+1:r}function x(e,t){void 0===t&&(t=!1);var a=_(e);return a?(0,l.removeParticipant)(a,t):Promise.resolve()}function R(e,t){if(!t)return!1;var a=null==e?void 0:e.peerId;return!!a&&(a===t.ownerId||!!t.adminIds&&t.adminIds.includes(a))}function I(e){return U(e)||w(e)}function O(e){var t=e.permissions||{};return[t.audio,t.video,t.screenSharing].some((function(e){return e===r.MediaPermissionType.DENY}))}function L(e){return(0,n.isAuthedByGroupId)(e)?e.groupId:e.me}function j(e,t){return void 0===t&&(t=!1),t?e.stream:e.screenSharingStream?e.screenSharingStream:e.stream}function B(e){var t;return!!(null===(t=e.mediaSettings)||void 0===t?void 0:t.isVideoEnabled)||function(e){var t;return!!(null===(t=e.mediaSettings)||void 0===t?void 0:t.isScreenSharingEnabled)&&!!e.screenSharingStream}(e)}function V(e){var t=W(e.adminPinnedParticipant,e.screenSharingPinnedParticipant,e.pinnedParticipant,e.orator);if(t&&!H(e.externalId,t)){var a=e.devices[F(t)],i=e.participants[t.id];if(a&&i)return{device:a,participant:i}}return{device:e.localDevice,participant:e.participants[e.me]}}function F(e){if(!e)throw new Error("externalId is null or undefined");var t=e.id;return"number"==typeof e.deviceIdx&&(t+=":d"+e.deviceIdx),t}var G=function(e,t){var a=0,i=null;for(var r in t)if(t.hasOwnProperty(r)){if(++a>1)break;var n=t[r];+n.externalId.id===e&&(i=n)}return i};function H(e,t){return!(!e||!t)&&(e.deviceIdx===t.deviceIdx&&e.id===t.id)}function W(){for(var e,t,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];try{for(var n=(0,i.__values)(a),l=n.next();!l.done;l=n.next()){var s=l.value;if(null!=s)return s}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null}function z(e,t){var a,r;if(!e)return!1;var n=u.GlobalStore.getCallsState(),l=n.maps.vkIdToDevices,s=n.devices,o=l.get(e.peerId);if(!o)return!1;try{for(var c=(0,i.__values)(o),d=c.next();!d.done;d=c.next()){var f=s[d.value];if(f&&(null==t?void 0:t(f)))return!0}}catch(e){a={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}return!1}function q(e,t){var a,r,n=u.GlobalStore.getCallsState(),l=n.maps.vkIdToDevices,s=n.devices,o=l.get(e.peerId);if(o)try{for(var c=(0,i.__values)(o),d=c.next();!d.done;d=c.next()){var f=s[d.value];f&&t(f)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}}function K(){var e=u.GlobalStore.getCallsState(),t=e.devices,a=e.participantsChunk;if(a){var i=a.countBefore,r=a.countAfter;return 1+i+a.ids.length+r}var n=1;return(0,o.objectForEach)(t,(function(e){e.status&&n++})),n}function Y(){return{deviceIdx:0,id:"0",type:l.ExternalIdType.USER}}var J=function(e){var t=V(e).device;return"externalId"in t?t:(0,i.__assign)((0,i.__assign)({},t),{externalId:e.externalId||Y()})},Z=function(){var e=u.GlobalStore.getCallsState(),t=e.devices,a=e.externalId,i=e.me,r=(null==a?void 0:a.id)||i.toString();return(0,o.objectSome)(t,(function(e){return e.externalId.id!==r}))};function $(e){var t,a;return e.hand?(0,i.__assign)((0,i.__assign)({},e),{hand:{state:(null===(t=null==e?void 0:e.hand)||void 0===t?void 0:t.state)===r.SdkHandType.RAISED,ts:null===(a=null==e?void 0:e.hand)||void 0===a?void 0:a.ts}}):e}function Q(e,t,a,i,n){var l,s=(0,o.objectReduce)(e.screenSharers,(function(e,t){return t?e+1:e}),0),u=function(a,i){var n=function(e){t({type:r.E_ACTION.TOGGLE_ORATOR_MODE,isOratorMode:e})},l=function(e){t({type:r.E_ACTION.SET_PINNED_PARTICIPANT,pinnedParticipant:e})};a&&!e.isOratorMode&&n(!0),!a&&e.screenSharingNeedDisableOratorModeAfterStop&&n(!1),t({type:r.E_ACTION.SET_SCREEN_SHARING_PINNED_PARTICIPANT,screenSharingPinnedParticipant:i,screenSharingNeedDisableOratorModeAfterStop:!e.isOratorMode,screenSharingOldPinnedParticipant:e.pinnedParticipant}),i&&e.pinnedParticipant&&l(null),i||e.pinnedParticipant||!e.screenSharingOldPinnedParticipant||l(e.screenSharingOldPinnedParticipant)};0===s&&a?u(!0,i):1!==s||a||u(!(!e.adminPinnedParticipant&&!e.pinnedParticipant),null);var c=null===(l=e.devices[F(i)])||void 0===l?void 0:l.mediaSettings;!!(null==c?void 0:c.isScreenSharingEnabled)!==a&&t({type:r.E_ACTION.SET_SCREEN_SHARER,participantId:i,isScreenSharingEnabled:a}),a&&n&&t({type:r.E_ACTION.CALL_NOTIFICATION,notification:{type:r.NotificationType.SCREEN_SHARING_STARTED,data:i}})}},93385:(e,t,a)=>{"use strict";a.d(t,{normalizeUser:()=>o,normalizeGroup:()=>u,createFriendsCache:()=>c,mergeGroupToParticipant:()=>d,getExternalIdByUserId:()=>f,getMemberForUserStack:()=>p});var i=a(70655),r=a(78658),n=a(88822),l=a(15464),s=a(53996),o=function(e){var t,a=e.id,i=e.sex,s=e.first_name,o=e.last_name,u=e.screen_name,c=e.first_name_gen,d=e.name,f=e.photo_400,p=e.photo_200,_=e.can_call,m=e.online_info;return(0,l.isParticipantGroup)(+a)&&(s=(0,n.escape)(s)),u?t="/"+u:(0,l.isParticipantAnonym)(a)||(0,l.isParticipantGroup)(+a)||(t="/id"+a),{id:+a,peerId:+a,name:d||s+" "+o,firstName:s,shortName:(0,r.fetchUserShortName)(s,o,d),shortNameGen:(0,r.fetchUserShortName)(c,o,d),link:t,sex:i,canCall:_,photo:f||p,onlineInfo:m||null}},u=function(e){var t=e.id,a=e.name,i=e.screen_name,r=e.photo_400,l=e.photo_200,s=e.photo_100;return{id:-t,peerId:-t,name:(0,n.escape)(a),firstName:"",lastName:"",shortName:"",shortNameGen:"",link:i&&"/"+i,photo:r||l||s,photo_100:s}};function c(e){return e.reduce((function(e,t){return e[t.id]=!0,e}),{})}function d(e,t){var a=(0,i.__assign)({},t);return e.photo&&(a.photo=e.photo),e.name&&(a.name=e.name),e.link&&(a.link=e.link),a}function f(e){var t=s.ExternalIdType.USER;return(0,l.isParticipantGroup)(e)&&(t=s.ExternalIdType.GROUP),{id:e.toString(),type:t}}function p(e){var t=e.name||"";return e.photo?{src:e.photo,alt:t,key:e.peerId}:{id:e.peerId,text:t.slice(0,1)}}},87080:(e,t,a)=>{"use strict";var i,r,n;a.d(t,{HistoryScreenSections:()=>i,HistoryScreenActionTypes:()=>r,EHistoryScreenPopup:()=>n}),function(e){e.ALL="",e.MISS="missed",e.FRIENDS="friends",e.CURRENT="current",e.SCHEDULED="scheduled",e.HISTORY="history"}(i||(i={})),function(e){e.DELETE_CALL="DELETE_CALL",e.SET_CURRENT_CALLS="SET_CURRENT_CALLS",e.SET_HISTORY_CALLS="SET_HISTORY_CALLS",e.SET_PROFILES="SET_PROFILES",e.SET_URLS="SET_URLS",e.ERROR="ERROR",e.SET_LOADING="SET_LOADING",e.SET_SHOW_CREATE_BUTTON="SET_SHOW_CREATE_BUTTON",e.SET_SCHEDULED_CALLS_PREVIEW="SET_SCHEDULED_CALLS_PREVIEW",e.SET_SCHEDULED_CALLS="SET_SCHEDULED_CALLS",e.SET_POPUP="SET_POPUP",e.SET_SCHEDULED_EDITABLE_CALL="set_scheduled_editable_call",e.SET_CALLS_QUEUE_RESPONSE="set_calls_queue_response"}(r||(r={})),function(e){e.EditCalendarEvent="popup_edit_calendar_event",e.DeleteCalendarEvent="popup_delete_calendar_event",e.RescheduleCalendarEvent="popup_reschedule_calendar_event"}(n||(n={}))},21333:(e,t,a)=>{"use strict";a.d(t,{useFetchData:()=>l});var i=a(70655),r=a(67294),n=a(23326),l=function(e){var t=e.cb,a=e.initialLoading,l=(0,i.__read)((0,r.useState)(!!a),2),s=l[0],o=l[1],u=(0,i.__read)((0,r.useState)(null),2),c=u[0],d=u[1],f=(0,n.useIsMounted)(),p=(0,r.useCallback)((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return o(!0),d(null),t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(e),!1)).catch((function(e){throw d(e),e})).finally((function(){f()&&o(!1)}))}),[t]);return{fetchData:p,loading:s,error:c}}},22835:(e,t,a)=>{"use strict";a.d(t,{useFormCheckboxesValues:()=>l});var i=a(70655),r=a(67294),n=a(78658),l=function(e){var t=void 0===e?{}:e,a=t.name,l=t.initialValue,s=(0,i.__read)((0,r.useState)((function(){return!!(0,n.getCallable)(l)})),2),o=s[0],u=s[1],c=(0,r.useCallback)((function(e,t){u(t)}),[]);return{name:a,checked:o,onChange:c}}},65391:(e,t,a)=>{"use strict";a.d(t,{useChosenDateText:()=>o,getDateProxy:()=>u});a(70655);var i=a(67294),r=a(72629),n=a(59247),l=a(25685),s=(a(78658),new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2})),o=function(){var e=(0,n.useLocale)().locale,t=(0,l.useLang)().getLang,a=(0,i.useMemo)((function(){var t="ru"===e?"ru-RU":"en-US";return{DMMMM:new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}),YYYY:new Intl.DateTimeFormat("en-US",{year:"numeric"})}}),[e]);return{getChosenDateText:(0,i.useCallback)((function(e,i,n){void 0===n&&(n=!1);var l=new Date,o=t("calls_today");if(l.getFullYear()!==e.getFullYear()?(o=a.DMMMM.format(e),o+=" "+a.YYYY.format(e)):(0,r.isSameDate)(l,e)||(o=a.DMMMM.format(e)),n)return o;var u=s.format(i.hours),c=s.format(i.minutes);return t("calls_date_in_time").replace("{date}",o).replace("{time}",u+":"+c)}),[a,t])}};function u(e){var t=void 0===e?{}:e,a=t.passedDate,i=t.passedTime,r=t.roundToNearestMinutes,n=new Date(a||Date.now());if(i&&(n.setHours(i.hours),n.setMinutes(i.minutes)),r){var l=6e4*r;n=new Date(Math.ceil(n.getTime()/l)*l)}return n}},95418:(e,t,a)=>{"use strict";a.d(t,{useFormSelectValue:()=>l});var i=a(70655),r=a(67294),n=a(25685),l=function(e){var t,a=e.initialValue,l=e.options,s=e.onChange,o=(0,n.useLang)().getLang,u=(0,i.__read)((0,r.useState)(a||(null===(t=l[0])||void 0===t?void 0:t.value)),2),c=u[0],d=u[1],f=(0,r.useCallback)((function(e){var t=e.selected.value;d(t),null==s||s(t)}),[]),p=(0,r.useMemo)((function(){var e=l.find((function(e){return e.value===c}));return e?e.label:""}),[c,l]);return{value:c,onChange:f,options:l,label:p,searchPlaceholder:o("calls_search_empty_list")}}},23326:(e,t,a)=>{"use strict";a.d(t,{useIsMounted:()=>r});var i=a(67294),r=function(){var e=(0,i.useRef)(!0),t=(0,i.useCallback)((function(){return e.current}),[]);return(0,i.useEffect)((function(){return function(){e.current=!1}}),[]),t}},25685:(e,t,a)=>{"use strict";a.d(t,{useLang:()=>n});var i=a(67294),r=a(71192),n=function(){return(0,i.useContext)(r.LangContext)}},59247:(e,t,a)=>{"use strict";a.d(t,{useLocale:()=>i});var i=function(){var e;return{locale:(null===(e=window.langConfig)||void 0===e?void 0:e.locale)||"ru"}}},209:(e,t,a)=>{"use strict";a.d(t,{useNotifier:()=>l});var i=a(70655),r=a(67294),n=a(78658),l=function(){var e=(0,r.useCallback)((function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=(null===(e=null===window||void 0===window?void 0:window.Notifier)||void 0===e?void 0:e.showEvent)||n.noop;return r((0,i.__assign)((0,i.__assign)({},t[0]),{type:"calls-standalone"}),t[1])}),[]);return{showErrorMessage:e,showText:(0,r.useCallback)((function(e){var t;return((null===(t=null===window||void 0===window?void 0:window.Notifier)||void 0===t?void 0:t.showEvent)||n.noop)({type:"calls-standalone--text",text:e})}),[])}}},84356:(e,t,a)=>{"use strict";a.d(t,{usePromiseError:()=>s});var i=a(67294),r=a(209),n=a(25685),l=a(71154),s=function(){var e=(0,r.useNotifier)().showErrorMessage,t=(0,n.useLang)().getLang;return{handleError:(0,i.useCallback)((function(a){var i;switch(null===(i=a.error)||void 0===i?void 0:i.error_msg){case"Invalid request: Invalid name":e({title:t("calls_error_invalid_name_title"),text:t("calls_error_invalid_name_desc")});break;case"Flood control":e({title:t("calls_error_flood_control_title"),text:t("calls_error_flood_control_desc")});break;case"Internal server error":e({title:t("calls_error_internal_title"),text:t("calls_error_internal_desc")});break;case"Invalid request: Invalid time":case"Invalid request: Call already ended":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_time_desc")});break;case"Invalid request: Invalid duration":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_duration_desc")});break;case"Invalid request: Invalid recurrence times":case"Invalid request: Invalid recurrence time params":e({title:t("calls_error_invalid_recurrence_times_title"),text:t("calls_error_invalid_recurrence_times_desc")});break;default:(0,l.handlePromiseError)(a)}}),[t,e])}}},99939:(e,t,a)=>{"use strict";a.d(t,{useSendStatsData:()=>u,ECallActionEventType:()=>o.CallActionEventType});var i=a(70655),r=a(67294),n=a(35886),l=a(67921),s=a(73294),o=a(63035),u=function(){var e=(0,n.useSelector)((function(e){var t;return null===(t=e.callData)||void 0===t?void 0:t.callId})),t=(0,n.useSelector)((function(e){return e.peer})),a=(0,r.useMemo)((function(){return(0,l.isGroupCallByPeer)(t)}),[t]);return{sendStatsData:(0,r.useCallback)((function(r,n){void 0===n&&(n={}),s.callStats.logEvent((0,i.__assign)({call_event_type:r,session_id:e,peer_id:t,is_group_call:a},n))}),[e,t,a])}}},86969:(e,t,a)=>{"use strict";a.d(t,{useSendStatsDataCallScheduled:()=>s,mapSharingChannel:()=>o});var i=a(70655),r=a(99939),n=a(73294),l=a(82659),s=function(){return{sendCallScheduled:function(e){var t,a,l=e.creatorId,s=e.sharingChannel,u=e.isEdit?r.ECallActionEventType.SCHEDULED_CALL_EDITED:r.ECallActionEventType.CALL_SCHEDULED;t=u,a={sharing_channel:o(s),peer_id:l||0},n.callStats.logEvent((0,i.__assign)({call_event_type:t,is_group_call:!1},a))}}};function o(e){switch(e){case l.ECalendar.Google:return"calendar_google";case l.ECalendar.Other:return"other";case l.ECalendar.Outlook:return"calendar_outlook";case l.ECalendar.iCloud:return"calendar_icloud"}}},17179:(e,t,a)=>{"use strict";a.d(t,{GlobalStore:()=>i});var i=function(){function e(){}return e.setCallsStore=function(t){e._callsStore=t},e.getCallsStore=function(){if(!e._callsStore)throw new Error("store was not initiated!");return e._callsStore},e.isSet=function(){return Boolean(e._callsStore)},e.getCallsState=function(){return e.getCallsStore().getState()},e._callsStore=null,e}()},71618:(e,t,a)=>{"use strict";a.d(t,{baseUserFields:()=>c,fetchCallsQueue:()=>H,fetchUrl:()=>z,forceCallFinish:()=>T,friendsSearch:()=>Q,getAnonymCallToken:()=>S,getCallAuthToken:()=>C,getCallParticipants:()=>D,getCallParticipantsApiCall:()=>V,getCallUrlLink:()=>b,getCallsHistory:()=>q,getConversationsByCall:()=>E,getCurrentCalls:()=>G,getFriends:()=>$,getGroupById:()=>U,getGroupMembers:()=>j,getGroupsForCall:()=>L,getGroupsForStreaming:()=>F,getJoinLinkDetails:()=>y,getUpcomingLives:()=>w,getVideos:()=>N,loadCallPeers:()=>p,loadCallPeersByPeerIds:()=>f,loadChatMembers:()=>g,loadFriends:()=>A,loadPrivacySettings:()=>O,loadUsers:()=>P,logCallReceived:()=>x,makeCallsQueueUrl:()=>W,messagesDeleteScheduledCall:()=>re,messagesEditCall:()=>ne,messagesGetConversations:()=>X,messagesGetScheduledCalls:()=>ie,messagesSearch:()=>ae,messagesSend:()=>ee,messagesStartCall:()=>te,photosDelete:()=>Z,photosGetAllImages:()=>K,photosSaveBackgroundPhoto:()=>J,retryLoadCallPeers:()=>h,searchCallParticipants:()=>se,searchGroupMembers:()=>B,sendVideoEdit:()=>k,stopVideoStream:()=>I,videoGet:()=>le,videoLiveGetSpectators:()=>R,videoStartStreaming:()=>M});var i=a(70655),r=a(41441),n=a(78658),l=a(40182),s=a(53996),o=a(59397),u=["photo_200","sex","screen_name","first_name_gen"].join(","),c=["photo_200","sex","screen_name","first_name_gen"].join(","),d=["name","photo_100","photo_200","can_upload_video"].join(","),f=function(e){return(0,l.getApiWrapper)()()("messages.getConversationsById",{peer_ids:e,extended:1,fields:c})},p=function(e){return(0,l.getApiWrapper)()()("messages.getConversationsById",{peer_ids:[e],extended:1,fields:c})},_=0,m=[],v=[],h=(0,n.exponentialRetry)((function(e,t){return void 0===t&&(t=50),m.push(e),new Promise((function(e){v.push(e),_||(_=window.setTimeout((function(){f(m).then((function(e){v.forEach((function(t){t(e)})),v=[]})),m=[],_=0}),t))}))})),g=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationMembers",data:{peerId:e}}),(0,l.getApiWrapper)()()("messages.getConversationMembers",{peer_id:e,fields:u.concat(",can_call")}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationMembers",data:e}),e}))},C=function(e,t){return void 0===t&&(t=0),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallToken",data:{isDev:e,groupId:t}}),(0,l.getApiWrapper)()()("messages.getCallToken",{env:e?"development":"production",group_id:t},{version:r.API_VERSION}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallToken",data:e}),e}))},b=((0,n.exponentialRetry)(C),function(e,t,a){void 0===a&&(a=0);var i={call_id:e,invalidate:t?1:0,group_id:a};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getJoinLink",data:i}),(0,l.getApiWrapper)()()("messages.getJoinLink",i).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getJoinLink",data:e}),e}))}),y=function(e,t){return void 0===t&&(t=!1),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallPreview",data:{link:e,fields:c,device_id:"anyId"}}),(0,l.getApiWrapper)(!t)()("messages.getCallPreview",{link:e,fields:c,device_id:"anyId"}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallPreview",data:e}),e}))},A=function(){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:{fields:u,order:"hints"}}),(0,l.getApiWrapper)()()("friends.get",{fields:u.concat(",can_call"),order:"hints"}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e}))},T=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.forceCallFinish",data:{call_id:e}}),(0,l.getApiWrapper)()()("messages.forceCallFinish",{call_id:e}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.forceCallFinish",data:e}),e}))},E=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationsByCall",data:{call_ids:e,fields:c}}),(0,l.getApiWrapper)()()("messages.getConversationsByCall",{call_ids:e,fields:c}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationsByCall",data:e}),e}))},S=function(e,t,a,i){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getAnonymCallToken",data:{link:e,user_id:t,name:a,secret:i,device_id:"anyId"}}),(0,l.getApiWrapper)(!1)()("messages.getAnonymCallToken",{link:e,user_id:t,name:a,secret:i,device_id:"anyId"}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getAnonymCallToken",data:e}),e}))},D=function(e,t,a,i,s){void 0===i&&(i=!1);for(var o=[],u=Array.from(new Set(t));u.length;)u.length>1e3?(o.push(u.slice(0,1e3)),u=u.slice(1e3)):(o.push(u),u=[]);var d=(0,n.exponentialRetry)((function(t,n){var s=i?{call_id:e,peer_ids:n.join(","),fields:c,device_id:"anyId",secret:t.secret,user_id:a}:{call_id:e,peer_ids:n.join(","),fields:c};return(0,l.getApiWrapper)(!i)()("messages.getCallParticipants",s,{version:r.API_VERSION}).then((function(e){return{count:e.count+t.count,secret:e.secret,profiles:(t.profiles||[]).concat(e.profiles||[]),anonyms:(t.anonyms||[]).concat(e.anonyms||[]),groups:(t.groups||[]).concat(e.groups||[])}}))})),f=Promise.resolve({secret:s,count:0});return o.reduce((function(e,t){return e.then((function(e){return d(e,t)}))}),f)},M=function(e){return(0,l.getApiWrapper)()()("video.startStreaming",e)},U=function(e){return(0,l.getApiWrapper)()()("groups.getById",{group_id:e,fields:d},{version:r.API_VERSION})},w=function(e){return(0,l.getApiWrapper)()()("video.getUpcomingLives",{owner_ids:e})},N=function(e,t,a){return(0,l.getApiWrapper)()()("video.get",{owner_id:e,videos:t,need_privacy:a})},k=function(e,t,a,i,r){return(0,l.getApiWrapper)()()("video.edit",{owner_id:e,video_id:t,name:a,desc:i,privacy_view:r})},P=function(e){return(0,l.getApiWrapper)()()("users.get",e)},x=function(e){return(0,l.getApiWrapper)()()("messages.callReceived",{call_id:e})},R=function(e){return(0,l.getApiWrapper)()()("video.liveGetSpectators",{owner_id:e.owner_id,video_id:e.video_id})},I=function(){return(0,s.stopStream)()},O=function(e){return(0,l.getApiWrapper)()()("account.getPrivacySettings",e)},L=function(){return(0,l.getApiWrapper)()()("messages.getGroupsForCall",{count:200})},j=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=10);var i={fields:u.concat(",can_call_from_group"),group_id:e,offset:t,count:a,sort:"time_asc"};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"groups.getMembers",params:i}),(0,l.getApiWrapper)()()("groups.getMembers",i).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"groups.getMembers",data:e}),e}))},B=function(e,t){return void 0===t&&(t=""),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"users.search",data:{groupId:e,q:t}}),(0,l.getApiWrapper)()()("users.search",{fields:u.concat(",can_call_from_group"),group_id:e,q:t}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"users.search",data:e}),e}))};function V(e,t,a,n,o){void 0===a&&(a=!1),void 0===n&&(n=""),void 0===o&&(o=0);var u={call_id:e,peer_ids:t.join(","),fields:c};return a&&(u=(0,i.__assign)((0,i.__assign)({},u),{device_id:"anyId",secret:n,user_id:o})),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:u}),(0,l.getApiWrapper)(!a)()("messages.getCallParticipants",u,{version:r.API_VERSION}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipant",response:e}),e}))}function F(){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"video.getGroupsForStreaming"}),(0,l.getApiWrapper)()()("video.getGroupsForStreaming",{}).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"video.getGroupsForStreaming",response:e}),e}))}function G(e){void 0===e&&(e=u);var t={fields:e};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getCurrentCalls",data:t}),(0,l.getApiWrapper)()()("messages.getCurrentCalls",t).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getCurrentCalls",response:e}),e}))}function H(e){var t={queue_ids:"calls_"+e};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"queue.subscribe",data:t}),(0,l.getApiWrapper)()()("queue.subscribe",t).then((function(t){(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"queue.subscribe",response:t});var a=t.base_url,i=t.queues[0];return{baseUrl:a,key:i.key,timestamp:i.timestamp,userId:e}}))}function W(e){return e.baseUrl+"?act=a_check&key="+e.key+"&id="+e.userId+"&ts="+e.timestamp+"&wait=20"}function z(e){return fetch(e).then((function(e){return e.json()}))}function q(e,t,a,i){void 0===e&&(e=5),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i="all");var r={count:e,start_from:t,fields:u+",last_name_gen",filter:i,group_id:a};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallHistory",data:r}),(0,l.getApiWrapper)()()("messages.getCallHistory",r).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallHistory",response:e}),e}))}var K=function(e){void 0===e&&(e={});var t=(0,l.getApiWrapper)(!0)();return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"photos.get",params:e}),t("photos.get",(0,i.__assign)({album_id:"-166"},e)).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"photos.get",response:e}),e}))},Y=function(e){return["error_msg","error_code"].some((function(t){return function(e,t){if((0,o.isString)(e)||(0,o.isArray)(e))for(var a=(0,o.isArray)(e)?e:e.split(".").filter(Boolean),i=a.length-1,r=t,n=0;n<a.length;n+=1){if(!(0,o.isObjectLike)(r))return;var l=r[a[n]];if(!l)return;if(n===i)return l;r=l}}(t,e)}))?Promise.reject(e):Promise.resolve(e)},J=function(e){var t=(0,l.getApiWrapper)(!0)(),a=(0,l.getApiWrapper)(!0)();return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"photos.getCallBackgroundsPhotoUploadServer"}),t("photos.getCallBackgroundsPhotoUploadServer",{}).then(Y).then((function(t){(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"photos.getCallBackgroundsPhotoUploadServer",response:t});var a=new FormData;return a.append("file1",e,e.name),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"[photoUploadUrl] "+t.upload_url,formData:a}),fetch(t.upload_url,{method:"POST",body:a}).then((function(e){return e.json()})).then(Y)})).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"[photoUploadUrl]",json:e}),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"photos.saveBackgroundPhoto",json:e}),a("photos.saveBackgroundPhoto",{response_json:JSON.stringify(e)})})).then(Y)},Z=function(e){var t=(0,l.getApiWrapper)(!0)();return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"photos.delete",params:e}),t("photos.delete",e).then(Y)},$=function(e,t,a){void 0===e&&(e=10),void 0===t&&(t=0),void 0===a&&(a="hints");var i={fields:u.concat(",can_call,online_info"),count:e,offset:t,order:a};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:i}),(0,l.getApiWrapper)()()("friends.get",i).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e}))},Q=function(e,t,a,i){void 0===t&&(t=""),void 0===a&&(a=10),void 0===i&&(i=0);var r={user_id:e,q:t,fields:u.concat(",can_call,online_info,photo_50"),count:a,offset:i};return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"friends.search",data:r}),(0,l.getApiWrapper)()()("friends.search",r).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"friends.search",data:e}),e}))},X=function(e){return void 0===e&&(e={extended:1,count:30}),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversations",data:e}),(0,l.getApiWrapper)()()("messages.getConversations",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversations",data:e}),e}))},ee=function(e){return void 0===e&&(e={}),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.send",data:e}),(0,l.getApiWrapper)()()("messages.send",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.send",data:e}),e}))},te=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.startCall",data:e}),(0,l.getApiWrapper)()()("messages.startCall",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.startCall",data:e}),e}))},ae=function(e){void 0===e&&(e={});var t=(0,i.__assign)({count:20,extended:1},e);return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.search",data:t}),(0,l.getApiWrapper)()()("messages.search",t).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.search",data:e}),e}))},ie=function(e){return void 0===e&&(e={}),(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.getScheduledCalls",data:e}),(0,l.getApiWrapper)()()("messages.getScheduledCalls",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.getScheduledCalls",data:e}),e}))},re=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.deleteScheduledCall",data:e}),(0,l.getApiWrapper)()()("messages.deleteScheduledCall",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.deleteScheduledCall",data:e}),e}))},ne=function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"messages.editCall",data:e}),(0,l.getApiWrapper)()()("messages.editCall",e).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"messages.editCall",data:e}),e}))},le=function(e,t){var a=(0,i.__assign)({extended:1},e);return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"request",method:"video.get",data:a}),(0,l.getApiWrapper)()()("video.get",a,void 0,t).then((function(e){return(0,s.debugMessage)(s.DebugMessageType.DEBUG,{type:"response",method:"video.get",data:e}),e}))},se=function(e,t,a){var n=t.userId,s=t.isAnon,o=void 0!==s&&s,u=t.secret,d=t.search,f={call_id:e,fields:c,search:d},p=o?(0,i.__assign)((0,i.__assign)({},f),{device_id:"anyId",secret:u,user_id:n}):f;return(0,l.getApiWrapper)(!o)()("messages.getCallParticipants",p,{version:r.API_VERSION},a).then((function(e){return{count:e.count,secret:e.secret,profiles:e.profiles||[],anonyms:e.anonyms||[],groups:e.groups||[]}}))}},68891:(e,t,a)=>{"use strict";a.d(t,{CallsLongpoll:()=>o});var i,r=a(70655),n=a(71618),l=a(74351),s=a(53996);!function(e){e.ScheduledCallsUpdate="scheduled_calls_update",e.CurrentCallsUpdate="current_calls_update",e.CallFinished="call_finished"}(i||(i={}));var o=function(){function e(e,t,a){this.userId=e,this.onResponse=t,this.retryCount=0,this.urlData=null,this.apiQueueSubscribe=a||n.fetchCallsQueue}return e.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.apiQueueSubscribe(this.userId)];case 1:return e=a.sent(),this.urlData=e,[3,3];case 2:return t=a.sent(),(0,s.debugMessage)(s.DebugMessageType.ERROR,{type:"request",method:"queue.subscribe",error:t,text:"could not subscribe to Calls event queue"}),[3,3];case 3:return[2]}}))}))},e.prototype.wait=function(){return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,t,a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:if(this.closed)return[2];i.label=1;case 1:return i.trys.push([1,5,7,8]),this.urlData?[3,3]:[4,this.init()];case 2:i.sent(),i.label=3;case 3:if(!this.urlData)throw new Error("no urlData!");return e=(0,n.makeCallsQueueUrl)(this.urlData),[4,this.fetchCallsLongpoll(e)];case 4:return t=i.sent(),this.closed||this.onResponse(t),this.urlData=(0,r.__assign)((0,r.__assign)({},this.urlData),{timestamp:t.ts}),[3,8];case 5:return i.sent(),(a=this.retryCount)>100?[2]:[4,(0,l.pause)(a*a,null)];case 6:return i.sent(),this.retryCount+=1,this.urlData=null,[3,8];case 7:return this.wait(),[7];case 8:return[2]}}))}))},e.prototype.fetchCallsLongpoll=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,r.__generator)(this,(function(a){return[2,(0,n.fetchUrl)(e).then((function(a){var i;if((null==a?void 0:a.error)||(null==a?void 0:a.failed))throw(0,s.debugMessage)(s.DebugMessageType.ERROR,{type:"response.(error|failed)",method:e,data:{error:null==a?void 0:a.error,failed:null==a?void 0:a.failed}}),new Error("re-init subscription");if((null==a?void 0:a.ts)===(null===(i=t.urlData)||void 0===i?void 0:i.timestamp))throw(0,s.debugMessage)(s.DebugMessageType.ERROR,{type:"response.ts",method:e,data:a}),new Error("re-init subscription");return a}))]}))}))},e.prototype.destroy=function(){this.closed=!0},e}()},73294:(e,t,a)=>{"use strict";a.d(t,{callStats:()=>l});var i=a(70655),r=a(15464),n="type_voip_call_item",l=new(function(){function e(){this.eventCommonData={}}return e.prototype.setActionStatCollector=function(e){this.actionStatCollector=e},e.prototype.setEventCommonData=function(e){void 0===e&&(e={}),this.eventCommonData=e},e.prototype.logEvent=function(e){var t,a=e.peer_id,l=(0,r.isParticipantGroup)(a)?a:0,s=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),{peer_id:e.peer_id.toString(),session_id:e.session_id||"",lib_version:"calls_v2",group_id:l}),this.eventCommonData);this.actionStatCollector&&this.actionStatCollector.logEvent(((t={type:n}).type_voip_call_item=s,t))},e}())},62090:(e,t,a)=>{"use strict";a.d(t,{EMailRuGoals:()=>i,EOS:()=>n,mailRuCounter:()=>c,useMailRuCounter:()=>d});var i,r,n,l=a(70655),s=a(67294),o=a(78658);!function(e){e.StartP2PCall="start_p2p_call",e.StartGroupCall="start_group_call",e.AcceptCall="accept_call",e.JoinCall="join_call",e.ScheduledCall="scheduled_call",e.DownloadAppLend="download_app_lend",e.DownloadAppJoinDeeplink="download_app_join_deeplink"}(i||(i={})),function(e){e.VkCom="2579437",e.CallsVkCom="3252492"}(r||(r={})),function(e){e.Windows="windows",e.Linux="linux",e.Mac="mac"}(n||(n={}));var u=function(){function e(){this.events=[]}return e.prototype.push=function(e,t){var a,n,s=window._tmr||this.events,u={id:(0,o.hasIn)(window.location.hostname,"calls.vk.com","calls.vk.ru")||(0,o.hasIn)(window.location.pathname,"/calls-standalone")?r.CallsVkCom:r.VkCom,type:"reachGoal",goal:e,userid:String((null===(a=window.vk)||void 0===a?void 0:a.id)||0)};if(t&&(u.params=t),e===i.JoinCall){var c=(null===(n=window.vk)||void 0===n?void 0:n.id)?1:0;u.params=(0,l.__assign)((0,l.__assign)({},u.params||{}),{login:c})}s.push(u)},e}(),c=new u,d=function(){var e,t,a;return{mailRuCounter:(e=function(){return new u},t=(0,s.useRef)(!1),a=(0,s.useRef)(),t.current||a.current||(a.current=(0,o.getCallable)(e),t.current=!0),a).current}}},23570:(e,t,a)=>{var i,r,n=a(85217),l=a(45327),s=0,o=0;e.exports=function(e,t,a){var u=t&&a||0,c=t||[],d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==f){var p=n();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=r=16383&(p[6]<<8|p[7]))}var _=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:o+1,v=_-s+(m-o)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||_>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=_,o=m,r=f;var h=(1e4*(268435455&(_+=122192928e5))+m)%4294967296;c[u++]=h>>>24&255,c[u++]=h>>>16&255,c[u++]=h>>>8&255,c[u++]=255&h;var g=_/4294967296*1e4&268435455;c[u++]=g>>>8&255,c[u++]=255&g,c[u++]=g>>>24&15|16,c[u++]=g>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(var C=0;C<6;++C)c[u+C]=d[C];return t||l(c)}}}]);try{stManager.done("dist/3ae78002d05d100ea57d5ee29ec63b89.dbe1cfdf7856228d5f72.js")}catch(e){}